(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[15],{1190:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(23),r=n(844),c=n(22),s=n.n(c),o=n(50),l=n(106),d=n(3),u=n(40),j=n(26),m=n(402),b=n(366),v=n(795),f=n(796),O=n(807),h=n(12),x=n(74),p=n.n(x),g=n(45),y=n(84),w=n(906),k=n(258),S=n(940),D=n(32),T=n(857),C=n(2),N=["value"],M=["value"],I=function(e){var t=e.personId,n=e.className,a=Object(S.a)(t),i=a.value,r=(Object(u.a)(a,N),Object(T.a)()),c=r.value;Object(u.a)(r,M);return Object(C.jsxs)(v.a,{className:n,children:[Object(C.jsx)(k.a,{title:"Accruals"}),Object(C.jsx)(f.a,{children:(i&&4===i.length?Object(D.chunk)(i,2):Object(D.chunk)(i,3)).map((function(e,t){return Object(C.jsx)(m.a,{noGutters:!0,children:e.map((function(e,t){var n=e.accruals&&e.accruals.length>0&&e.accruals[e.accruals.length-1],a=(n&&n.value||0)-(e.newChargedHours||0),i=null===c||void 0===c?void 0:c.find((function(t){return t.timeCodes.find((function(t){return t._id===e.timeCodeId}))}));return Object(C.jsx)(b.a,{sm:!0,xl:12,children:Object(C.jsx)(w.a,{info:a,label:"".concat(e.title||(null===i||void 0===i?void 0:i.title)||"No Description"," ").concat(e.unit.charAt(0).toUpperCase()+e.unit.slice(1)).concat(1===a?"":"s")})},t)}))},t)}))})]})},Y=n(880),E=n(961),A=n(982),V=n(797),F=n(803),P=n(927),_=n(984),q=n(276),R=n(858),L=n.n(R),B=n(75),H=n(899),W=n(879),z=n(811),G=n(817),U=n(824),$=n(859),J=n(257),Z=n(818),K=n(822),Q=["value"],X="YYYY-MM-DDTHH:mm",ee=function(e){var t,n,i=e.selectedPersonId,r=e.startDate,c=e.endDate,d=e.setIsOpen,v=e.isOpen,f=e.event,O=Object(J.a)(Z.f),h=Object(J.a)(K.d),x=Object(J.a)(K.s),w=Object(a.useState)(),k=Object(j.a)(w,2),S=k[0],D=k[1],N=Object(a.useState)(),M=Object(j.a)(N,2),I=M[0],Y=M[1],V=Object(a.useState)(void 0),F=Object(j.a)(V,2),_=F[0],R=F[1],L=Object(a.useState)([]),ee=Object(j.a)(L,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(void 0),ie=Object(j.a)(ae,2),re=ie[0],ce=ie[1],se=Object(a.useState)(void 0),oe=Object(j.a)(se,2),le=oe[0],de=oe[1],ue=Object(a.useState)(void 0),je=Object(j.a)(ue,2),me=je[0],be=je[1],ve=Object(a.useState)(void 0),fe=Object(j.a)(ve,2),Oe=fe[0],he=fe[1],xe=Object(a.useState)(void 0),pe=Object(j.a)(xe,2),ge=pe[0],ye=pe[1],we=Object(a.useState)(""),ke=Object(j.a)(we,2),Se=ke[0],De=ke[1],Te=Object(a.useState)(null),Ce=Object(j.a)(Te,2),Ne=Ce[0],Me=Ce[1],Ie=Object(T.a)(),Ye=Ie.value,Ee=Object(u.a)(Ie,Q);function Ae(){return(Ae=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post(i,!1);case 2:(null===(t=e.sent)||void 0===t?void 0:t.success)&&Me(t.records[0].stageData);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){r&&D(r)}),[r]),Object(a.useEffect)((function(){c&&Y(c)}),[c]),Object(a.useEffect)((function(){i&&function(){Ae.apply(this,arguments)}()}),[i]);var Ve=Oe&&(null===Ne||void 0===Ne?void 0:Ne.find((function(e){return e._id===Oe.value}))),Fe=ge&&(null===Ve||void 0===Ve||null===(t=Ve.milestones)||void 0===t?void 0:t.find((function(e){return e._id===ge.value}))),Pe=null===Fe||void 0===Fe?void 0:Fe.tasks.map((function(e){return null===Ve||void 0===Ve?void 0:Ve.tasks.find((function(t){return t._id===e}))})).filter((function(e){return!!e})).map((function(e){return{value:e._id,label:e.title}}));var _e=!S||!p()(S).isValid()||I&&!p()(S).isBefore(I),qe=!I||!p()(I).isValid()||S&&!p()(I).isAfter(S),Re=i&&S&&I&&le&&le.value&&p()(S).isValid()&&p()(I).isValid();function Le(){return(Le=Object(o.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re){e.next=3;break}return y.c.error("Entry is invalid"),e.abrupt("return");case 3:if(!(null===f||void 0===f?void 0:f._id)){e.next=11;break}return t={startTime:p()(S).toISOString(),endTime:p()(I).toISOString(),timeCodeId:le.value,comments:Se||void 0,taskId:null===me||void 0===me?void 0:me.value,assignmentId:null===_||void 0===_?void 0:_.value},e.next=7,x.post(f._id,t);case 7:(null===(n=e.sent)||void 0===n?void 0:n.success)?(y.c.success("Added time entry"),d(!1),D(""),Y(""),De("")):y.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong"),e.next=16;break;case 11:return a={personId:i,startTime:p()(S).toISOString(),endTime:p()(I).toISOString(),timeCodeId:le.value,comments:Se||void 0,taskId:null===me||void 0===me?void 0:me.value,assignmentId:null===_||void 0===_?void 0:_.value},e.next=14,h.post(a);case 14:(null===(r=e.sent)||void 0===r?void 0:r.success)?(y.c.success("Added time entry"),d(!1),D(""),Y(""),De("")):y.c.error((null===r||void 0===r?void 0:r.error)||"Something went wrong");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(Ne){var e,t=[],n=Object(B.a)(Ne);try{for(n.s();!(e=n.n()).done;){var a,i=e.value,r=Object(B.a)(i.tasks);try{for(r.s();!(a=r.n()).done;){var c,s=a.value,o=Object(B.a)(s.assignments);try{for(o.s();!(c=o.n()).done;){var l=c.value;t.push({taskId:s._id,stageId:i._id,value:l._id,label:"".concat(s.title," (").concat(l.assignedHours," hr").concat(1===l.assignedHours?"":"s",")")})}}catch(O){o.e(O)}finally{o.f()}}}catch(O){r.e(O)}finally{r.f()}}}catch(O){n.e(O)}finally{n.f()}if(ne(t),f){var d,u=f.assignment?{taskId:f.taskId,stageId:f.stageId,value:f.assignment._id,label:"".concat(f.taskTitle," (").concat(f.assignment.assignedHours," ").concat(Object($.a)("hr",f.assignment.assignedHours),")")}:void 0;R(u);var j=null===Ne||void 0===Ne?void 0:Ne.find((function(e){return e._id===f.stageId})),m=null===j||void 0===j||null===(d=j.milestones)||void 0===d?void 0:d.find((function(e){return!!(null===j||void 0===j?void 0:j.milestones.find((function(e){return e.tasks.includes(f.taskId)})))})),b=null===j||void 0===j?void 0:j.tasks.find((function(e){return e._id===f.taskId})),v=b?{value:b._id,label:b.title}:void 0;he(j?{value:j._id,label:"".concat(j.type,": ").concat(j.identifier," - ").concat(j.title)}:void 0),ye(m?{value:m._id,label:m.title}:void 0),be(v)}}else ne([])}),[Ne,f]),Object(a.useEffect)((function(){if(Ye&&f){var e=Ye.find((function(e){return e._id===f.timeTypeId}));ce(e?{value:e._id,label:e.title,isWorkflow:e.isWorkflow,color:e.eventColor}:void 0);var t=null===e||void 0===e?void 0:e.timeCodes.find((function(e){return e._id===f.timeCodeId}));de(t?{value:t._id,label:t.title,bankable:t.bankable}:void 0),De((null===f||void 0===f?void 0:f.comments)||"")}}),[f].concat(Object(l.a)(Ye||[]))),Object(C.jsxs)(E.a,{size:"lg",isOpen:v,toggle:function(){return d((function(e){return!e}))},children:[Object(C.jsx)(A.a,{className:"bg-light border-bottom-0",children:"New Time Entry"}),Object(C.jsxs)(P.a,{children:[Object(C.jsxs)(m.a,{children:[Object(C.jsx)(b.a,{lg:!0,children:Object(C.jsxs)(H.a,{children:[Object(C.jsx)(W.a,{for:"new-time-entry-start-time",children:"Start Time"}),Object(C.jsx)(U.a,{buttonColor:"info",onChange:function(e){D(e),function(e){var t=p()(e);if(t.isValid()){var n=p()(I);I&&n.isValid()&&!n.isBefore(t)||Y(t.add(1,"hour").format(X))}else console.log("invalid",e)}(e)},value:S,invalid:_e,pickerProps:{isValidDate:function(e){return!I||!!(null===e||void 0===e?void 0:e.isBefore(I))},timeConstraints:{minutes:{step:5}}}})]})}),Object(C.jsx)(b.a,{lg:!0,children:Object(C.jsxs)(H.a,{children:[Object(C.jsx)(W.a,{for:"new-time-entry-end-time",children:"End Time"}),Object(C.jsx)(U.a,{buttonColor:"info",onChange:function(e){Y(e),function(e){console.log("synchronize from end");var t=p()(e);if(t.isValid()){var n=p()(S);S&&n.isValid()&&!t.isBefore(n)||D(t.subtract(1,"hour").format(X))}else console.log("invalid",e)}(e)},value:I,invalid:qe,pickerProps:{isValidDate:function(e){return!S||!!(null===e||void 0===e?void 0:e.isAfter(S))},timeConstraints:{minutes:{step:5}}}})]})})]}),Object(C.jsxs)(m.a,{children:[Object(C.jsx)(b.a,{lg:!0,children:Object(C.jsx)(G.a,{id:"new-time-type",label:"Category",placeholder:"Select time category...",value:re,options:null===Ye||void 0===Ye?void 0:Ye.map((function(e){return{value:e._id,label:e.title,color:e.eventColor,isWorkflow:e.isWorkflow}})),formatOptionLabel:function(e){return Object(C.jsx)("div",{className:"badge-".concat(e.color," p-2 rounded w-100"),children:e.label})},onChange:function(e){ce(e),de(null)},isLoading:Ee.loading,isClearable:!0})}),Object(C.jsx)(b.a,{lg:!0,children:Object(C.jsx)(G.a,{id:"new-time-code",label:"Time Code",placeholder:"Select time code...",value:le,options:null===Ye||void 0===Ye||null===(n=Ye.find((function(e){return e._id===(null===re||void 0===re?void 0:re.value)})))||void 0===n?void 0:n.timeCodes.map((function(e){return{value:e._id,label:e.title,bankable:e.bankable}})),formatOptionLabel:function(e){return Object(C.jsxs)(C.Fragment,{children:[e.bankable&&Object(C.jsx)(g.a,{icon:"archive",className:"text-success"}),e.label]})},onChange:de,isLoading:Ee.loading,isClearable:!0})})]}),(null===re||void 0===re?void 0:re.isWorkflow)&&Object(C.jsxs)("div",{className:"mx-2 px-3 border border-top-0 border-bottom-0",children:[Object(C.jsx)(G.a,{id:"new-time-entry-assignment",label:"Assignment",placeholder:"Select from assignments...",value:_,options:te,onChange:function(e){var t=e;if(R(t),t){var n=null===Ne||void 0===Ne?void 0:Ne.find((function(e){return e._id===t.stageId}));he(n?{value:n._id,label:"".concat(n.type,": ").concat(n.identifier," - ").concat(n.title)}:void 0);var a=null===n||void 0===n?void 0:n.milestones.find((function(e){return e.tasks.includes(t.taskId)}));ye(a?{value:a._id,label:a.title}:void 0);var i=null===n||void 0===n?void 0:n.tasks.find((function(e){return e._id===t.taskId}));be(i?{value:i._id,label:i.title}:void 0)}},isLoading:O.loading,isClearable:!0}),Object(C.jsx)(G.a,{id:"new-time-entry-stage",label:"Stage",placeholder:"Select workflow stage...",value:Oe,options:null===Ne||void 0===Ne?void 0:Ne.map((function(e){return{value:e._id,label:"".concat(e.type,": ").concat(e.identifier," - ").concat(e.title)}})),onChange:function(e){he(e),ye(void 0),be(void 0),R(void 0)},isLoading:O.loading,isClearable:!0}),Object(C.jsx)(G.a,{id:"new-time-entry-milestone",label:"Milestone",placeholder:"Select milestone...",value:ge,options:null===Ve||void 0===Ve?void 0:Ve.milestones.map((function(e){return{value:e._id,label:e.title}})),onChange:function(e){ye(e),be(void 0),R(void 0)},isLoading:O.loading,isClearable:!0}),Object(C.jsx)(G.a,{id:"new-time-entry-task",label:"Task",placeholder:"Select task...",value:me,options:Pe,onChange:function(e){be(e),R(void 0)},isLoading:O.loading,isClearable:!0})]}),Object(C.jsx)(z.a,{id:"new-entry-comments",label:"Comments",type:"textarea",rows:3,value:Se,onChange:function(e){return De(e.target.value)}}),Object(C.jsx)(m.a,{children:Object(C.jsx)(b.a,{xs:"auto",className:"ml-auto",children:Object(C.jsx)(q.a,{color:"primary",disabled:!Re,onClick:function(){return Le.apply(this,arguments)},children:"Submit"})})})]})]})},te=n(94),ne=function(e){var t,n=e.isOpen,i=e.setIsOpen,r=e.initialStartDate,c=void 0===r?"":r,l=e.initialEndDate,u=void 0===l?"":l,v=e.event,f=Object(J.a)(K.e),h=Object(J.a)(K.t),x=Object(T.a)().value,p=Object(a.useState)(),g=Object(j.a)(p,2),w=g[0],k=g[1],S=Object(a.useState)(),D=Object(j.a)(S,2),N=D[0],M=D[1],I=Object(a.useState)(),Y=Object(j.a)(I,2),V=Y[0],F=Y[1],R=Object(a.useState)(!1),L=Object(j.a)(R,2),B=L[0],$=L[1],Z=Object(a.useState)(),Q=Object(j.a)(Z,2),X=Q[0],ee=Q[1],ne=Object(a.useState)(),ae=Object(j.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(a.useState)(),se=Object(j.a)(ce,2),oe=se[0],le=se[1],de=Object(C.jsx)("button",{className:"close font-weight-normal",onClick:ue,children:"\xd7"});function ue(){i(!1),M(void 0),k(void 0)}function je(){return(je=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===v||void 0===v?void 0:v._id)){e.next=7;break}return e.next=3,h.post(v._id,{startDate:N,endDate:w,title:V,allDay:B,description:X,absentHours:ie,timeCodeId:oe});case 3:(null===(t=e.sent)||void 0===t?void 0:t.success)?(y.c.success("Updated time off request"),ue()):y.c.error((null===t||void 0===t?void 0:t.error)||"Something went wrong"),e.next=11;break;case 7:return e.next=9,f.post({startDate:N,endDate:w,title:V,allDay:B,description:X,timeCodeId:oe,absentHours:ie});case 9:(null===(n=e.sent)||void 0===n?void 0:n.success)?(y.c.success("Submitted time off request"),ue()):y.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){v&&(F(v.title),$(!!v.allDay),ee(v.description),re(v.absentHours),le(v.timeCodeId))}),[v]),Object(a.useEffect)((function(){M(c)}),[c]),Object(a.useEffect)((function(){k(u)}),[u]);var me=null===x||void 0===x?void 0:x.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{label:e.title,options:e.timeCodes.filter((function(e){return e.bankable})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{label:e.title,value:e._id})}))})})).filter((function(e){return e.options.length>0}));return Object(C.jsxs)(E.a,{isOpen:n,toggle:ue,modalClassName:"theme-modal",contentClassName:"border",children:[Object(C.jsx)(A.a,{toggle:ue,className:"bg-light d-flex flex-between-center border-bottom-0",close:de,children:"New Leave Request"}),Object(C.jsxs)(P.a,{children:[Object(C.jsx)(z.a,{id:"new-time-off-title",label:"Title",placeholder:"Title...",name:"title",required:!0,value:V,onChange:function(e){return F(e.target.value)}}),Object(C.jsxs)(H.a,{children:[Object(C.jsx)(W.a,{className:"fs-0",for:"new-time-off-start",children:"Start Date"}),Object(C.jsx)(U.a,{id:"new-time-off-start",value:N,onChange:function(e){return M(e)},dateFormat:"MM/DD/YYYY",timeFormat:!B&&void 0,pickerProps:{isValidDate:w?function(e){return!!(null===e||void 0===e?void 0:e.isBefore(w))}:void 0},placeholder:B?"MM/DD/YYYY":"MM/DD/YYYY h:mm AM/PM"})]}),Object(C.jsxs)(H.a,{children:[Object(C.jsx)(W.a,{className:"fs-0",for:"new-time-off-end",children:"End Date"}),Object(C.jsx)(U.a,{id:"new-time-off-end",value:w,onChange:function(e){return k(e)},dateFormat:"MM/DD/YYYY",timeFormat:!B&&void 0,pickerProps:{isValidDate:N?function(e){return!!(null===e||void 0===e?void 0:e.isAfter(N))}:void 0},placeholder:B?"MM/DD/YYYY":"MM/DD/YYYY h:mm AM/PM"})]}),Object(C.jsx)(H.a,{children:Object(C.jsx)(O.a,{name:"new-time-off-all-day",type:"checkbox",id:"allDay",label:"All Day",checked:B,onChange:function(e){return $(!!e.target.checked)}})}),Object(C.jsx)(z.a,{id:"new-time-off-description",label:"Description",type:"textarea",name:"description",value:X,onChange:function(e){return ee(e.target.value)}}),Object(C.jsxs)(m.a,{children:[Object(C.jsx)(b.a,{md:!0,children:Object(C.jsx)(z.a,{id:"new-time-off-hours",type:"number",label:"Absent Hours",name:"hours",value:ie,onChange:function(e){if(!isNaN(+e.target.value))return re(+e.target.value);e.target.value||0===+e.target.value||re(void 0)}})}),Object(C.jsx)(b.a,{md:!0,children:Object(C.jsx)(G.a,{id:"new-time-off-label",label:"Type",name:"type",value:null===me||void 0===me||null===(t=me.find((function(e){return e.options.find((function(e){return e.value===oe}))})))||void 0===t?void 0:t.options.find((function(e){return e.value===oe})),formatGroupLabel:function(e){return Object(C.jsx)("div",{className:"p-2 badge-".concat(e.eventColor," rounded"),children:e.label})},options:me,onChange:function(e){return le(null===e||void 0===e?void 0:e.value)}})})]})]}),Object(C.jsx)(_.a,{tag:te.a,justify:"end",align:"center",className:"bg-light border-top-0",children:Object(C.jsx)(q.a,{color:"primary",onClick:function(){return je.apply(this,arguments)},className:"px-4",children:"Save"})})]})},ae=function(e){var t=e.icon,n=e.transform;return Object(C.jsxs)("span",{className:"fa-stack ml-n1 mr-3",children:[Object(C.jsx)(g.a,{icon:"circle",className:"text-200 fa-stack-2x"}),Object(C.jsx)(g.a,{icon:t,transform:null!==n&&void 0!==n?n:"",className:"text-primary fa-stack-1x",inverse:!0})]})},ie=function(e){var t=e.icon,n=e.heading,a=e.content,i=e.children;return Object(C.jsxs)(Y.a,{className:"mt-3",children:[Object(C.jsx)(ae,{icon:t}),Object(C.jsx)(Y.a,{body:!0,children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h6",{children:n}),i||Object(C.jsx)("p",{className:"mb-0 text-justify",children:a})]})})]})},re=function(e){var t=e.isOpen,n=e.setIsOpen,i=e.event,r=e.personId,c=function(){return n(!t)},l=Object(h.e)(),u=Object(J.a)(K.h),v=Object(J.a)(K.i),f=Object(J.a)(K.a),O=Object(J.a)(K.o),x=Object(a.useState)(!1),w=Object(j.a)(x,2),k=w[0],S=w[1],D=Object(a.useState)(""),T=Object(j.a)(D,2),N=T[0],M=T[1],I=Object(a.useState)(!1),Y=Object(j.a)(I,2),R=Y[0],B=Y[1],H=Object(a.useRef)(),W=i._id,G=i.title,U=i.end,Z=i.start,Q=i.allDay,X=i.description,ae=i.comments,re=i.stageIdentifier,ce=i.stageTitle,se=i.milestoneTitle,oe=i.taskTitle,le=i.badge,de=i.assignment,ue=i.approved,je=i.declined,me=i.declinedReason,be=i.entryType,ve=Object(C.jsx)("button",{className:"close font-weight-normal",onClick:c,children:"\xd7"}),fe=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){S(!0),H.current=e}));case 2:t=e.sent,e.t0=be,e.next="time"===e.t0?6:"timeOff"===e.t0?12:18;break;case 6:return e.next=8,O.post(W,!1,t);case 8:return(null===(a=e.sent)||void 0===a?void 0:a.success)&&(n(!1),y.c.success("Timesheet request declined")),(null===a||void 0===a?void 0:a.success)||y.c.error((null===a||void 0===a?void 0:a.error)||"something went wrong"),e.abrupt("break",18);case 12:return e.next=14,f.post(W,!1,t);case 14:return(null===(i=e.sent)||void 0===i?void 0:i.success)&&(n(!1),y.c.success("Time Off request declined")),(null===i||void 0===i?void 0:i.success)||y.c.error((null===i||void 0===i?void 0:i.error)||"something went wrong"),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=be,e.next="time"===e.t0?3:"timeOff"===e.t0?9:15;break;case 3:return e.next=5,O.post(W,!0);case 5:return(null===(t=e.sent)||void 0===t?void 0:t.success)&&(n(!1),y.c.success("Timesheet request accepted")),(null===t||void 0===t?void 0:t.success)||y.c.error((null===t||void 0===t?void 0:t.error)||"something went wrong"),e.abrupt("break",15);case 9:return e.next=11,f.post(W,!0);case 11:return(null===(a=e.sent)||void 0===a?void 0:a.success)&&(n(!1),y.c.success("Time off request accepted")),(null===a||void 0===a?void 0:a.success)||y.c.error((null===a||void 0===a?void 0:a.error)||"something went wrong"),e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L()({message:"Are you sure you want to delete this entry?",confirmColor:"danger",confirmText:"Delete",cancelColor:"secondary",cancelText:"Keep"});case 2:if(!e.sent){e.next=17;break}e.t0=be,e.next="time"===e.t0?7:"timeOff"===e.t0?12:17;break;case 7:return e.next=9,u.post(W);case 9:return(null===(t=e.sent)||void 0===t?void 0:t.success)?(l(K.p.remove(W)),y.c.success("Deleted request"),n(!1)):y.c.error((null===t||void 0===t?void 0:t.error)||"Something went wrong"),e.abrupt("break",17);case 12:return e.next=14,v.post(W);case 14:return(null===(a=e.sent)||void 0===a?void 0:a.success)?(l(K.q.remove(W)),y.c.success("Deleted request"),n(!1)):y.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong"),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(E.a,{isOpen:t,size:"md",toggle:c,modalClassName:"theme-modal",contentClassName:"border",centered:!0,children:[Object(C.jsxs)(A.a,{toggle:c,tag:"div",className:"px-card bg-light border-0 flex-between-center",close:ve,children:[Object(C.jsx)("h5",{className:"mb-1",children:G}),Object(C.jsxs)(te.a,{align:"center",children:[le&&Object(C.jsx)("h5",{className:"mb-0",children:Object(C.jsx)(V.a,{color:le.color,children:le.label})}),ue?Object(C.jsxs)("h6",{className:"mb-0",children:[Object(C.jsx)(g.a,{className:"text-success ml-3 mr-1",icon:"check-circle"}),"Approved"]}):je?Object(C.jsxs)("h6",{className:"mb-0",style:{cursor:"default"},id:"declined-request",children:[Object(C.jsx)(g.a,{className:"text-danger ml-3 mr-1",icon:"times-circle"}),"Declined",Object(C.jsx)(F.a,{placement:"bottom",target:"declined-request",children:me})]}):Object(C.jsxs)("h6",{className:"mb-0",children:[Object(C.jsx)(g.a,{className:"text-info ml-3 mr-1",icon:"user-clock"}),"Pending"]})]})]}),Object(C.jsxs)(P.a,{className:"px-card pb-card pt-1 fs--1",children:[X&&Object(C.jsx)(ie,{icon:"align-left",heading:"Description",content:X}),ae&&Object(C.jsx)(ie,{icon:"align-left",heading:"Comments",content:ae}),Z&&Object(C.jsx)(ie,{icon:"calendar-check",heading:"Time and Date",children:Object(C.jsx)("p",{className:"mb-2",children:Q?!U||p()(Z).isSame(U,"day")?p()(Z).format("MMMM D, YYYY"):p()(Z).isSame(U,"year")?p()(Z).isSame(U,"month")?p()(Z).format("MMMM D")+" - "+p()(U).format("D, YYYY"):p()(Z).format("MMMM D")+" - "+p()(U).format("MMMM D, YYYY"):p()(Z).format("MMMM D, YYYY")+" - "+p()(U).format("MMMM D, YYYY"):U?p()(Z).isSame(U,"day")?"".concat(p()(Z).format("MMMM D, YYYY h:mm A")," - ").concat(p()(U).format("h:mm A")):p()(Z).format("MMMM D, YYYY h:mm A")+" - "+p()(U).format("MMMM D, YYYY h:mm A"):"".concat(p()(Z).format("MMMM D, YYYY h:mm A"))})}),Object(C.jsx)("hr",{}),(oe||ce)&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(te.a,{column:!0,justify:"center",children:[Object(C.jsx)("h4",{className:"font-weight-bold my-1 mr-1 text-center",children:Object(C.jsxs)(V.a,{color:"soft-info",children:[re,": ",ce]})}),Object(C.jsx)("h4",{className:"text-center my-1 text-600",children:Object(C.jsx)(g.a,{icon:"arrow-circle-down"})}),Object(C.jsx)("h5",{className:"font-weight-bold my-1 mr-1 text-center",children:Object(C.jsx)(V.a,{color:"soft-primary",children:se})}),Object(C.jsx)("h5",{className:"text-center my-1 text-600",children:Object(C.jsx)(g.a,{icon:"arrow-circle-down"})}),Object(C.jsx)("h5",{className:"font-weight-bold my-1 mr-1 text-center fs-0",children:Object(C.jsx)(V.a,{color:"soft-success",children:oe})})]}),Object(C.jsx)("hr",{})]}),de&&Object(C.jsxs)(ie,{icon:"info",heading:"Assignment Info",children:[Object(C.jsxs)(te.a,{children:[Object(C.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Assigned By: "}),Object(C.jsx)("p",{className:"my-1 ml-1",children:null===de||void 0===de?void 0:de.assignerName})]}),Object(C.jsxs)(te.a,{children:[Object(C.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Due Date: "}),Object(C.jsxs)("p",{className:"my-1 ml-1",children:[de&&p()(de.dueDate).format("MM/DD/YYYY"),de.assignedHours&&"- ".concat(de.assignedHours," estimated ").concat(Object($.a)("hour",de.assignedHours))]})]}),Object(C.jsxs)(te.a,{children:[Object(C.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Description: "}),Object(C.jsx)("p",{className:"my-1 ml-1",children:null===de||void 0===de?void 0:de.description})]})]})]}),Object(C.jsx)(_.a,{className:"px-card d-block bg-light border-top-0",children:Object(C.jsxs)(m.a,{noGutters:!0,children:[Object(C.jsxs)(b.a,{xs:"auto",children:[Object(C.jsx)(F.a,{placement:"right",target:"delete-time-entry-modal",children:"Delete Time Entry"}),Object(C.jsx)(q.a,{color:"falcon-default",size:"sm",id:"delete-time-entry-modal",onClick:he,children:Object(C.jsx)(g.a,{icon:"trash-alt",className:"text-danger"})})]}),!(ue||je)&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(b.a,{xs:"auto",className:"ml-auto mr-2",children:Object(C.jsxs)(q.a,{color:"falcon-default",size:"sm",onClick:Oe,children:[Object(C.jsx)(g.a,{icon:"check",className:"mr-1 text-success"}),"Approve"]})}),Object(C.jsxs)(b.a,{xs:"auto",className:"mr-2",children:[Object(C.jsxs)(q.a,{color:"falcon-default",size:"sm",onClick:fe,children:[Object(C.jsx)(g.a,{icon:"times",className:"mr-1 text-danger"}),"Decline"]}),Object(C.jsxs)(E.a,{isOpen:k,toggle:function(){S(!1),M("")},children:[Object(C.jsx)(A.a,{children:"Decline Reason"}),Object(C.jsx)(P.a,{children:Object(C.jsx)(z.a,{id:"decline-reason",label:"Enter Reason",value:N,onChange:function(e){return M(e.target.value)}})}),Object(C.jsx)(_.a,{children:Object(C.jsx)(q.a,{color:"primary",size:"sm",onClick:function(){H.current&&H.current(N),S(!1),M("")},children:"Submit"})})]})]})]}),Object(C.jsxs)(b.a,{xs:"auto",className:ue||je?"ml-auto":"",children:[Object(C.jsxs)(q.a,{tag:"a",color:"falcon-default",size:"sm",onClick:function(){B(!0)},children:[Object(C.jsx)(g.a,{icon:"pencil-alt",className:"fs--2 mr-2 text-primary"}),Object(C.jsx)("span",{children:"Edit"})]}),"time"===be&&Object(C.jsx)(ee,{event:Object(d.a)(Object(d.a)({},i),{},{timeTypeId:i.timeTypeId,timeCodeId:i.timeCodeId}),startDate:null===Z||void 0===Z?void 0:Z.toISOString(),endDate:null===U||void 0===U?void 0:U.toISOString(),isOpen:R,setIsOpen:B,selectedPersonId:r}),"timeOff"===be&&Object(C.jsx)(ne,{event:Object(d.a)({},i),initialStartDate:null===Z||void 0===Z?void 0:Z.toISOString(),initialEndDate:null===U||void 0===U?void 0:U.toISOString(),isOpen:R,setIsOpen:B})]})]})})]})},ce=n(408),se=n(920),oe=n(890),le=n(907),de=n(1e3),ue=n(1001),je=n(1002),me=n(998),be=n(809),ve=n(801),fe=n(1003),Oe=n(68),he=n(802),xe=n(7),pe=n.n(xe),ge=["filter","currentFilter","className","children"],ye=function(e){var t=e.filter,n=e.currentFilter,a=e.className,i=e.children,r=Object(u.a)(e,ge);return Object(C.jsxs)(he.a,Object(d.a)(Object(d.a)({tag:te.a,justify:"between",className:pe()("cursor-pointer",a)},r),{},{children:[i,t===n&&Object(C.jsx)(fe.FontAwesomeIcon,{icon:"check",transform:"down-4 shrink-4"})]}))},we=["filters","handleFilter","currentFilter","icon","right"],ke=function(e){var t=e.filters,n=e.handleFilter,a=e.currentFilter,i=e.icon,r=e.right,c=Object(u.a)(e,we);return Object(C.jsxs)(me.a,{children:[Object(C.jsxs)(be.a,Object(d.a)(Object(d.a)({size:"sm",color:"falcon-default"},c),{},{children:[a&&Object(C.jsx)("span",{className:"mr-2",children:a}),Object(C.jsx)(fe.FontAwesomeIcon,{icon:i})]})),Object(C.jsx)(ve.a,{className:"border py-2",right:r,children:Object(Oe.f)(t)&&t.map((function(e,t){return Object(C.jsx)(ye,{currentFilter:a,onClick:function(){n(e)},filter:e,className:"text-capitalize",children:e},t)}))})]})},Se=["apiRef","onAddEventClick","addEventText","initialView","dayMaxEvents","height","stickyHeaderDates","eventTimeFormat","buttonText","events"],De={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:!0},Te={today:"Today",month:"Month view",week:"week",day:"day",listWeek:"list view",listYear:"year"},Ce=[["Month View","dayGridMonth"],["Week View","timeGridWeek"],["Day View","timeGridDay"],["List View","listWeek"],["Year View","listYear"]],Ne=function(e){var t,n,i=e.apiRef,r=e.onAddEventClick,c=e.addEventText,s=void 0===c?"Add Event":c,o=e.initialView,l=void 0===o?"dayGridMonth":o,O=e.dayMaxEvents,h=void 0===O?2:O,x=e.height,y=void 0===x?800:x,w=e.stickyHeaderDates,k=void 0!==w&&w,S=e.eventTimeFormat,D=void 0===S?De:S,T=e.buttonText,N=void 0===T?Te:T,M=e.events,I=Object(u.a)(e,Se),Y=Object(a.useRef)(null),E=Object(a.useState)(void 0),A=Object(j.a)(E,2),V=A[0],P=A[1],_=Object(a.useState)(""),R=Object(j.a)(_,2),L=R[0],B=R[1],H=Object(a.useState)((null===(t=Ce.find((function(e){return e[1]===l})))||void 0===t?void 0:t[0])||"Month View"),W=Object(j.a)(H,2),z=W[0],G=W[1],U=Object(a.useState)(!1),$=Object(j.a)(U,2),J=$[0],Z=$[1];Object(a.useEffect)((function(){var e;P(null===(e=Y.current)||void 0===e?void 0:e.getApi()),i&&(null===Y||void 0===Y?void 0:Y.current)&&(i.current=Y.current.getApi())}),[]),Object(a.useEffect)((function(){var e,t=null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.getCurrentData().viewApi.type;if(t){var n,a=null===(n=Ce.find((function(e){return e[1]===t})))||void 0===n?void 0:n[0];a&&K(a)}}),[null===i||void 0===i||null===(n=i.current)||void 0===n?void 0:n.getCurrentData().viewApi.type]);var K=function(e){var t;G(e);var n=null===(t=Ce.find((function(t){return t[0]===e})))||void 0===t?void 0:t[1];n&&(null===V||void 0===V||V.changeView(n)),B((null===V||void 0===V?void 0:V.getCurrentData().viewTitle)||"")},Q=Math.min(p()().hour(),7),X=Math.max(p()().hour(),18),ee=Object(Oe.f)(M)&&M.reduce((function(e,t){if(!t.start||!t.end)return e;var n=p()(t.start),a=p()(t.end);return n.add(1,"day").isBefore(a)||n.hour()>Q&&n.hour()<X||a.hour()>Q&&a.hour()<X?e:e+1}),0),ne={week:{eventLimit:5,slotMinTime:J?"00:00:00":p()().hour(Q).minute(0).format("HH:mm:ss"),slotMaxTime:J?"24:00:00":p()().hour(X).minute(60).format("HH:mm:ss")},day:{eventLimit:5,slotMinTime:J?"00:00:00":p()().hour(Q).minute(0).format("HH:mm:ss"),slotMaxTime:J?"24:00:00":p()().hour(X).minute(60).format("HH:mm:ss")}};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(v.a,{className:"mb-3",children:[Object(C.jsx)(ce.a,{children:Object(C.jsxs)(m.a,{noGutters:!0,className:"align-items-center",children:[Object(C.jsxs)(b.a,{xs:"auto",className:"d-flex justify-content-end order-md-1",children:[Object(C.jsx)(F.a,{placement:"bottom",target:"previous",children:"Previous"}),Object(C.jsx)(F.a,{placement:"bottom",target:"next",children:"Next"}),Object(C.jsx)(q.a,{onClick:function(){null===V||void 0===V||V.prev(),B((null===V||void 0===V?void 0:V.getCurrentData().viewTitle)||"")},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2",id:"previous",children:Object(C.jsx)(g.a,{icon:"arrow-left"})}),Object(C.jsx)(q.a,{onClick:function(){null===V||void 0===V||V.next(),B((null===V||void 0===V?void 0:V.getCurrentData().viewTitle)||"")},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1",id:"next",children:Object(C.jsx)(g.a,{icon:"arrow-right"})})]}),Object(C.jsx)(b.a,{xs:"auto",md:"auto",className:"order-md-2",children:Object(C.jsx)("h4",{className:"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title",children:L||"".concat(null===V||void 0===V?void 0:V.getCurrentData().viewTitle)})}),Object(C.jsx)(b.a,{xs:!0,md:"auto",tag:te.a,justify:"end",className:"order-md-3",children:Object(C.jsx)(q.a,{size:"sm",color:"falcon-primary",onClick:function(){null===V||void 0===V||V.today(),B((null===V||void 0===V?void 0:V.getCurrentData().viewTitle)||"")},children:"Today"})}),Object(C.jsx)(b.a,{md:"auto",className:"d-md-none",children:Object(C.jsx)("hr",{})}),Object(C.jsx)(b.a,{xs:"auto",className:"d-flex order-md-0",children:r&&Object(C.jsxs)(q.a,{color:"primary",size:"sm",onClick:r,children:[Object(C.jsx)(g.a,{icon:"plus",className:"mr-1"})," ",s]})}),Object(C.jsx)(b.a,{className:"d-flex justify-content-end order-md-2",children:Object(C.jsx)(ke,{className:"mr-2",filters:Ce.map((function(e){return e[0]})),currentFilter:z,handleFilter:K,icon:"sort",right:!0})})]})}),Object(C.jsxs)(f.a,{className:"p-0",children:[Object(C.jsx)(se.a,Object(d.a)({ref:Y,headerToolbar:!1,plugins:[oe.b,le.a,de.a,je.a,ue.a],initialView:l,themeSystem:"bootstrap",dayMaxEvents:h,height:y,stickyHeaderDates:k,selectMirror:!0,eventTimeFormat:D,buttonText:N,events:M,views:ne},I)),("Day View"===z||"Week View"===z)&&Object(C.jsxs)(C.Fragment,{children:[!!ee&&!J&&Object(C.jsx)(te.a,{align:"center",justify:"center",children:Object(C.jsx)("h5",{className:"my-2",children:"+ ".concat(ee," hidden")})}),Object(C.jsxs)(te.a,{column:!0,children:[Object(C.jsx)(q.a,{color:"falcon-primary",id:"calendar-expand",onClick:function(){return Z((function(e){return!e}))},children:Object(C.jsx)(g.a,{icon:"angle-down",transform:J?"rotate-180":""})}),Object(C.jsx)(F.a,{target:"calendar-expand",children:J?"Collapse Time":"Show All Time"})]})]})]})]})})},Me=n(946),Ie=n(144),Ye=function(e,t,n){return Object(Ie.a)({actionCreator:K.l,postParams:[e,t,n],selector:function(a){return Object.values(a.time.timeEntries).filter((function(a){return a.personId===e&&a.endTime>t&&a.startTime<n}))},deduplicate:["timeEntries",e,t,n]})};var Ee=function(e,t,n){return Object(Ie.a)({actionCreator:e?K.m:void 0,postParams:e,selector:function(a){return Object.values(a.time.timeOffRequests).filter((function(a){return a.personId===e&&(!t||p()(a.endDate||a.startDate).isAfter(t))&&(!n||p()(a.startDate).isBefore(n))}))},equality:h.d,deduplicate:["getTimeOffRequests",e,t||"nostart",n||"noend"]})},Ae=["value"],Ve=["value"],Fe=["value"],Pe=function(){var e=Object(a.useRef)(),t=Object(J.a)(K.t),n=Object(J.a)(K.s),i=Object(a.useState)(),r=Object(j.a)(i,2),c=r[0],x=r[1],w=Object(T.a)(),S=w.value,D=(Object(u.a)(w,Ae),Object(h.f)((function(e){return e.app.login.personId}))),N=Object(a.useState)(p()().startOf("week").toISOString()),M=Object(j.a)(N,2),Y=M[0],E=M[1],A=Object(a.useState)(p()().startOf("week").add(7,"day").toISOString()),V=Object(j.a)(A,2),F=V[0],P=V[1],_=Object(a.useState)(),q=Object(j.a)(_,2),R=q[0],L=q[1],B=Object(a.useState)(""),H=Object(j.a)(B,2),W=H[0],z=H[1],G=Object(a.useState)(""),U=Object(j.a)(G,2),Z=U[0],Q=U[1],ne=Object(a.useState)(!1),ae=Object(j.a)(ne,2),ie=ae[0],ce=ae[1];Object(a.useEffect)((function(){D&&L(D)}),[D]);var se=Object(a.useState)(!0),oe=Object(j.a)(se,2),le=oe[0],de=oe[1],ue=Object(a.useState)(!0),je=Object(j.a)(ue,2),me=je[0],be=je[1],ve=Object(a.useState)(!0),fe=Object(j.a)(ve,2),Oe=fe[0],he=fe[1],xe=Object(a.useState)(!0),pe=Object(j.a)(xe,2),ge=pe[0],ye=pe[1],we=Object(a.useState)(!0),ke=Object(j.a)(we,2),Se=ke[0],De=ke[1],Te=Ye(R||"",Y,F),Ce=Te.value,Ie=(Object(u.a)(Te,Ve),Ee(R,Y,F)),Pe=Ie.value,_e=(Object(u.a)(Ie,Fe),[]);null===Ce||void 0===Ce||Ce.forEach((function(e){var t=_e.findIndex((function(t){var n;return p()(null===(n=t.start)||void 0===n?void 0:n.toString()).isSame(e.startTime,"day")})),n=p()(e.endTime).diff(e.startTime,"minute")/60;-1!==t?(_e[t].hours+=n,_e[t].classNames=[_e[t].hours<8?"bg-500 text-800":8===_e[t].hours?"badge-success":"badge-warning"],_e[t].title="Total hours: ".concat(_e[t].hours)):_e.push({id:p()(e.startTime).format("MMDDYY"),start:e.startTime,allDay:!0,selectable:!1,hours:n,editable:!1,classNames:[8===n?"badge-success":"badge-secondary"],title:"Total hours: ".concat(n)})}));var qe=le&&(null===Ce||void 0===Ce?void 0:Ce.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:e.startTime,end:e.endTime,title:e.taskTitle,entryType:"time",approved:!!e.approverId,declined:!!e.declinerId})})))||[],Re=me&&(null===Pe||void 0===Pe?void 0:Pe.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:e.startDate,end:e.endDate||e.allDay&&e.startDate,className:e.approved?"bg-stripes-info":e.declined?"bg-stripes-danger":"bg-stripes-warning",entryType:"timeOff",hours:e.absentHours,display:"background"})})))||[],Le=[].concat(Object(l.a)(qe),Object(l.a)(Re)).filter((function(e){return Oe&&e.approved||ge&&e.declined||Se&&!e.approved&&!e.declined})),Be=(null===Le||void 0===Le?void 0:Le.map((function(e){var t,n,a=null===S||void 0===S||null===(t=S.find((function(t){return t.timeCodes.find((function(t){return e.timeCode._id===t._id}))})))||void 0===t?void 0:t.eventColor;return Object(d.a)(Object(d.a)({},e),{},{id:e._id,title:"".concat(e.timeCode.title,": ").concat(e.title||""),textColor:"inherit",badge:e.hours?{label:e.hours+" "+Object($.a)("hr",e.hours),color:a||"soft-dark"}:void 0,classNames:a?["bg-".concat(a),"text-".concat(null===(n=Me.a.find((function(e){return e.value===a})))||void 0===n?void 0:n.text),"overflow-hidden"]:["overflow-hidden"]})})))||[],He=[].concat(Object(l.a)(Be),_e);function We(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(o.a)(s.a.mark((function e(a){var i,r,c,o,l,d,u,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.event,r=a.revert,"time"!==i.extendedProps.entryType){e.next=8;break}return e.next=4,n.post(i.id,{startTime:null===(c=i.start)||void 0===c?void 0:c.toISOString(),endTime:null===(o=i.end)||void 0===o?void 0:o.toISOString()});case 4:(null===(l=e.sent)||void 0===l?void 0:l.success)||(y.c.error((null===l||void 0===l?void 0:l.error)||"something went wrong"),r()),e.next=13;break;case 8:if("timeOff"!==i.extendedProps.entryType){e.next=13;break}return e.next=11,t.post(i.id,{startDate:null===(d=i.start)||void 0===d?void 0:d.toISOString(),endDate:null===(u=i.end)||void 0===u?void 0:u.toISOString()});case 11:(null===(j=e.sent)||void 0===j?void 0:j.success)||(y.c.error((null===j||void 0===j?void 0:j.error)||"something went wrong"),r());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(m.a,{children:[Object(C.jsx)(b.a,{xl:10,className:"order-1 order-xl-0",children:Object(C.jsx)(Ne,{apiRef:e,editable:!0,selectable:!0,onAddEventClick:function(){return ce(!0)},addEventText:"Add Time Entry",select:function(t){if(console.log(t),"dayGridMonth"===t.view.type){var n,a,i=t.start.getTime();if(t.end.getTime()-i!==864e5)null===(n=e.current)||void 0===n||n.changeView("timeGridWeek",t.startStr);else null===(a=e.current)||void 0===a||a.changeView("timeGridDay",t.start)}else ce(!0),z(p()(t.start).format(X)),Q(p()(t.end).format(X))},eventClick:function(e){var t,n;x(Object(d.a)(Object(d.a)({},e.event.extendedProps),{},{timeCodeId:null===(t=e.event.extendedProps)||void 0===t||null===(n=t.timeCode)||void 0===n?void 0:n._id,title:e.event.title,start:e.event.start,end:e.event.end,allDay:e.event.allDay}))},eventResize:function(e){return We(e),!0},eventDrop:function(e){return We(e),!0},events:He,initialView:window.innerWidth<750?"timeGridDay":"timeGridWeek",allDaySlot:!0,allDayContent:"Total Hours",nowIndicator:!0,eventContent:function(e){return function(e){var t,n,a;if(e.event.allDay)return e.event.title;var i=e.event.extendedProps,r=null===i||void 0===i?void 0:i.taskTitle,c=null===i||void 0===i||null===(t=i.timeCode)||void 0===t?void 0:t.title,s=e.event.end&&e.event.start?p()(null===(n=e.event.end)||void 0===n?void 0:n.toISOString()).diff(null===(a=e.event.start)||void 0===a?void 0:a.toISOString(),"minute")/60:0,o=0;s&&s%1&&(o=1);var l=(s?s.toFixed(o):"unknown")+" hr"+(1===s?"":"s");return Object(C.jsxs)("div",{className:"text-truncate w-100",children:[Object(C.jsxs)(te.a,{justify:"between",children:[Object(C.jsx)("h6",{className:"mb-0",children:"".concat(e.timeText," (").concat(l,")")}),i.approved&&Object(C.jsx)(g.a,{icon:"check-circle",className:"mr-1"}),i.declined&&Object(C.jsx)(g.a,{icon:"times-circle",className:"mr-1"})]}),Object(C.jsx)("p",{className:"my-1 font-weight-bold",children:Object(C.jsx)("i",{children:c})}),r&&Object(C.jsx)("p",{className:"my-1 fs--1",children:Object(C.jsx)("i",{children:r})})]})}(e)},height:"auto",dayMaxEvents:4,datesSet:function(e){E(e.start.toISOString()),P(e.end.toISOString())}})}),Object(C.jsx)(b.a,{xl:2,className:"order-0 order-xl-1",children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(b.a,{xs:12,lg:"auto",xl:12,className:"d-block d-lg-flex d-xl-block",children:Object(C.jsxs)(v.a,{className:"mb-3",children:[Object(C.jsx)(k.a,{title:"Filters"}),Object(C.jsx)(f.a,{children:Object(C.jsxs)(m.a,{children:[Object(C.jsxs)(b.a,{xs:6,xl:12,children:[Object(C.jsx)(O.a,{id:"show-timesheets",label:"Timesheet",onChange:function(){return de(!le)},checked:le,type:"switch"}),Object(C.jsx)(O.a,{id:"show-timeOff",className:"mt-3",label:"Time Off",onChange:function(){return be(!me)},checked:me,type:"switch"})]}),Object(C.jsxs)(b.a,{xs:6,xl:12,children:[Object(C.jsx)("hr",{className:"d-none d-xl-block"}),Object(C.jsx)("h6",{className:"d-none d-xl-block",children:"Requests:"}),Object(C.jsx)(O.a,{id:"show-approved-requests",className:"mt-xl-3",label:"Approved",onChange:function(){return he(!Oe)},checked:Oe,type:"switch"}),Object(C.jsx)(O.a,{id:"show-declined-requests",className:"mt-3",label:"Declined",onChange:function(){return ye(!ge)},checked:ge,type:"switch"}),Object(C.jsx)(O.a,{id:"show-pending-requests",className:"mt-3",label:"Pending",onChange:function(){return De(!Se)},checked:Se,type:"switch"})]})]})})]})}),Object(C.jsx)(b.a,{children:R&&Object(C.jsx)(I,{personId:R,className:"mb-3"})})]})})]}),Object(C.jsx)(ee,{startDate:W,endDate:Z,setIsOpen:ce,isOpen:ie,selectedPersonId:R}),c&&R&&Object(C.jsx)(re,{isOpen:!!c,setIsOpen:function(){return x(void 0)},event:c,personId:R})]})},_e={today:"Today",month:"Month view",week:"week",day:"day",listWeek:"list view",listYear:"year"},qe={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:!0},Re=["Month View","Week View","Day View","List View","Year View"],Le={"Month View":"dayGridMonth","Week View":"timeGridWeek","Day View":"timeGridDay","List View":"listWeek","Year View":"listYear"},Be=function(e){var t=e.events,n=void 0===t?[]:t,i=e.addEventText,r=e.onEventClick,c=e.onDateSelect,s=e.defaultView,o=void 0===s?"Month View":s,l=Object(a.useRef)(null),d=Object(a.useState)(),u=Object(j.a)(d,2),O=u[0],h=u[1],x=Object(a.useState)(),y=Object(j.a)(x,2),w=y[0],k=y[1],S=Object(a.useState)(o),D=Object(j.a)(S,2),T=D[0],N=D[1],M=Object(a.useState)(!1),I=Object(j.a)(M,2),Y=I[0],E=I[1],A={week:{eventLimit:5,slotMinTime:Y?"00:00:00":"07:00:00",slotMaxTime:Y?"24:00:00":"19:00:00"},day:{eventLimit:5,slotMinTime:Y?"00:00:00":"07:00:00",slotMaxTime:Y?"24:00:00":"19:00:00"}};Object(a.useEffect)((function(){var e;h(null===(e=l.current)||void 0===e?void 0:e.getApi())}),[]);var V=n.reduce((function(e,t){if(!t.start||!t.end)return e;var n=p()(t.start),a=p()(t.end);return n.add(1,"day").isBefore(a)||n.hour()>7&&n.hour()<18||a.hour()>7&&a.hour()<18?e:e+1}),0);return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(v.a,{className:"mb-3",children:[Object(C.jsx)(ce.a,{children:Object(C.jsxs)(m.a,{noGutters:!0,className:"align-items-center",children:[Object(C.jsxs)(b.a,{xs:"auto",className:"d-flex justify-content-end order-md-1",children:[Object(C.jsx)(F.a,{placement:"bottom",target:"previous",children:"Previous"}),Object(C.jsx)(F.a,{placement:"bottom",target:"next",children:"Next"}),Object(C.jsx)(q.a,{onClick:function(){null===O||void 0===O||O.prev(),k(null===O||void 0===O?void 0:O.getCurrentData().viewTitle)},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2",id:"previous",children:Object(C.jsx)(g.a,{icon:"arrow-left"})}),Object(C.jsx)(q.a,{onClick:function(){null===O||void 0===O||O.next(),k(null===O||void 0===O?void 0:O.getCurrentData().viewTitle)},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1",id:"next",children:Object(C.jsx)(g.a,{icon:"arrow-right"})})]}),Object(C.jsx)(b.a,{xs:"auto",md:"auto",className:"order-md-2",children:Object(C.jsx)("h4",{className:"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title",children:w||"".concat(null===O||void 0===O?void 0:O.getCurrentData().viewTitle)})}),Object(C.jsx)(b.a,{xs:!0,md:"auto",tag:te.a,justify:"end",className:"order-md-3",children:Object(C.jsx)(q.a,{size:"sm",color:"falcon-primary",onClick:function(){null===O||void 0===O||O.today(),k(null===O||void 0===O?void 0:O.getCurrentData().viewTitle)},children:"Today"})}),Object(C.jsx)(b.a,{md:"auto",className:"d-md-none",children:Object(C.jsx)("hr",{})}),c&&i&&Object(C.jsx)(b.a,{xs:"auto",className:"d-flex order-md-0",children:Object(C.jsxs)(q.a,{color:"primary",size:"sm",onClick:function(){return c(null)},children:[Object(C.jsx)(g.a,{icon:"plus",className:"mr-1"}),i]})}),Object(C.jsx)(b.a,{className:"d-flex justify-content-end order-md-2",children:Object(C.jsx)(ke,{className:"mr-2",filters:Re,currentFilter:T,handleFilter:function(e){N(e),O&&(O.changeView(Le[e]||"listYear"),k(null===O||void 0===O?void 0:O.getCurrentData().viewTitle))},icon:"sort",right:!0})})]})}),Object(C.jsxs)(f.a,{className:"p-0",children:[Object(C.jsx)(se.a,{ref:l,headerToolbar:!1,plugins:[oe.b,le.a,de.a,je.a,ue.a],initialView:Le[o],themeSystem:"bootstrap",dayMaxEvents:2,height:"auto",stickyHeaderDates:!1,editable:!0,selectable:!0,selectMirror:!0,select:c,views:A,eventTimeFormat:qe,eventClick:r,events:n,buttonText:_e}),("Day View"===T||"Week View"===T)&&Object(C.jsxs)(C.Fragment,{children:[V&&!Y&&Object(C.jsx)(te.a,{align:"center",justify:"center",children:Object(C.jsx)("h5",{className:"my-2",children:"+ ".concat(V," hidden")})}),Object(C.jsxs)(te.a,{column:!0,children:[Object(C.jsx)(q.a,{color:"falcon-primary",id:"calendar-expand",onClick:function(){return E((function(e){return!e}))},children:Object(C.jsx)(g.a,{icon:"angle-down",transform:Y?"rotate-180":""})}),Object(C.jsx)(F.a,{target:"calendar-expand",children:Y?"Collapse Time":"Show All Time"})]})]})]})]})})},He=["value"],We=function(){var e=Object(i.i)().personId,t=Object(h.f)((function(e){return e.app.login.personId})),n=e||t,r=Ee(n),c=r.value,s=(Object(u.a)(r,He),Object(a.useState)(!1)),o=Object(j.a)(s,2),l=o[0],v=o[1],f=Object(a.useState)(""),O=Object(j.a)(f,2),x=O[0],p=O[1],g=Object(a.useState)(""),y=Object(j.a)(g,2),w=y[0],k=y[1],S=Object(a.useState)(!1),D=Object(j.a)(S,2),T=D[0],N=D[1],M=Object(a.useState)(),Y=Object(j.a)(M,2),E=Y[0],A=Y[1];var V=null===c||void 0===c?void 0:c.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:new Date(e.startDate),end:new Date(e.endDate)})}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(m.a,{className:"mt-3",children:[Object(C.jsx)(b.a,{xl:3,className:"order-0 order-xl-1",children:n&&Object(C.jsx)(I,{personId:n})}),Object(C.jsx)(b.a,{xl:9,className:"order-1 order-xl-0",children:Object(C.jsx)(Be,{events:V,onDateSelect:function(e){var t,n;v(!0),p((null===e||void 0===e||null===(t=e.start)||void 0===t?void 0:t.toISOString())||""),k((null===e||void 0===e||null===(n=e.end)||void 0===n?void 0:n.toISOString())||"")},onEventClick:function(e){if(N(!0),e.event){var t=e.event.extendedProps,n=t._id,a=t.description,i=t.badgeLabel,r=t.badgeColor;A(Object(d.a)(Object(d.a)({},e.event.extendedProps),{},{_id:n,title:e.event.title,start:e.event.start,end:e.event.end,allDay:e.event.allDay,description:a,badge:{label:i,color:r},entryType:"timeOff"}))}},addEventText:"New Time Off Request"})})]}),Object(C.jsx)(ne,{initialStartDate:x,initialEndDate:w,isOpen:l,setIsOpen:v}),E&&Object(C.jsx)(re,{isOpen:T,setIsOpen:N,event:E,personId:n})]})};t.default=function(e){var t=e.match.url;return Object(C.jsxs)(i.d,{children:[Object(C.jsx)(i.b,{path:"".concat(t,"/timesheet"),component:Pe}),Object(C.jsx)(i.b,{path:"".concat(t,"/timeoff"),exact:!0,component:We}),Object(C.jsx)(i.b,{path:"".concat(t,"/approvals"),exact:!0,component:r.a}),Object(C.jsx)(i.a,{to:"/errors/404"})]})}},811:function(e,t,n){"use strict";var a=n(3),i=n(40),r=(n(1),n(899)),c=n(879),s=n(407),o=n(902),l=n(2),d=["label","formClass","feedback","valid","invalid","isTooltipFeedback","labelProps"],u=["id"];t.a=function(e){var t=e.label,n=e.formClass,j=void 0===n?"":n,m=e.feedback,b=e.valid,v=e.invalid,f=e.isTooltipFeedback,O=e.labelProps,h=Object(i.a)(e,d),x=h.id,p=Object(i.a)(h,u);return Object(l.jsxs)(r.a,{className:j,children:[t&&Object(l.jsx)(c.a,Object(a.a)(Object(a.a)({htmlFor:x},O),{},{children:t})),Object(l.jsx)(s.a,Object(a.a)({id:x,valid:b,invalid:v},p)),m&&Object(l.jsx)(o.a,{valid:b,invalid:v,tooltip:f,children:m})]})}},817:function(e,t,n){"use strict";var a=n(3),i=n(40),r=(n(1),n(899)),c=n(879),s=n(833),o=n(2),l=["id","label","styles","labelProps"];t.a=function(e){var t=e.id,n=e.label,d=e.styles,u=e.labelProps,j=Object(i.a)(e,l);return Object(o.jsxs)(r.a,{children:[n&&Object(o.jsx)(c.a,Object(a.a)(Object(a.a)({for:t},u),{},{children:n})),Object(o.jsx)(s.a,Object(a.a)({classNamePrefix:"react-select",id:t,styles:Object(a.a)(Object(a.a)({},d),{},{menu:function(e){return Object(a.a)(Object(a.a)({},e),{},{zIndex:999})}})},j))]})}},818:function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return y}));var a=n(75),i=n(22),r=n.n(i),c=n(3),s=n(50),o=n(860),l=n(265),d=n(107),u=n(819),j=l.a,m=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l,j,m,b,v,f,O,h,x,p,g,y,w,k,S;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t.documents),a=[],i=[],s=!0,l=!1,e.prev=5,m=Object(o.a)(n);case 7:return e.next=9,m.next();case 9:return b=e.sent,s=b.done,e.next=13,b.value;case 13:if(v=e.sent,s){e.next=25;break}return h="document",/\.png$|\.jpg$|\.gif$|\.tiff$|\.jpeg/i.test((O=v).path)&&(h="photo"),e.next=20,Object(d.a)(Object(u.a)(O.base64),h,O.path);case 20:(null===(x=e.sent)||void 0===x?void 0:x.success)&&(null===(f=x.files)||void 0===f?void 0:f[h])&&("photo"===h?i.push({location:null===(p=x.files)||void 0===p?void 0:p[h],title:O.path}):"document"==h&&a.push({location:null===(g=x.files)||void 0===g?void 0:g[h].name,thumb:(null===(y=x.files)||void 0===y?void 0:y[h].thumb)?{location:null===(w=x.files)||void 0===w?void 0:w[h].thumb}:void 0,title:O.path}));case 22:s=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),l=!0,j=e.t0;case 31:if(e.prev=31,e.prev=32,s||null==m.return){e.next=36;break}return e.next=36,m.return();case 36:if(e.prev=36,!l){e.next=39;break}throw j;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return k=Object(c.a)(Object(c.a)({},t),{},{documents:a,photos:i}),S=[{name:"createStage",data:k}],e.abrupt("return",{actions:S});case 44:case"end":return e.stop()}}),e,null,[[5,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}();j.create=m;j.getOne=function(e){return{actions:[{name:"getStageDetails",data:{stageId:e}}]}};var b=function(e){return{actions:[{name:"getStageIdentifiers",data:{identifier:e}}]}};j.getStageIdentifiers=b;var v=function(e){return{actions:[{name:"createStageTag",data:{tag:e}}]}};j.createNewTag=v;j.createNewType=function(e){return{actions:[{name:"createStageType",data:{title:e}}]}};var f=function(e,t,n,a){return{actions:[{name:"addStageMember",data:{stageId:e,organizationId:t,personId:n,role:a}}]}};j.addStageMember=f;var O=function(e,t,n){return{actions:[{name:"addStageOrganization",data:{stageId:e,organizationId:t,role:n}}]}};j.addStageOrganization=O;var h=function(e,t){return{actions:[{name:"createNote",data:{body:e,stageId:t}}]}};j.postNote=h;var x=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var i,c,s,o,l,j,m,b,v,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],c=Object(a.a)(t),e.prev=2,c.s();case 4:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=8,Object(d.a)(Object(u.a)(l.base64),"document",l.path);case 8:(null===(j=e.sent)||void 0===j?void 0:j.success)&&(null===(o=j.files)||void 0===o?void 0:o.document)&&i.push({location:null===(m=j.files)||void 0===m?void 0:m.document.name,thumb:(null===(b=j.files)||void 0===b?void 0:b.document.thumb)?{location:null===(v=j.files)||void 0===v?void 0:v.document.thumb}:void 0,title:l.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return f=[{name:"addStageDocuments",data:{documents:i,stageId:n}}],e.abrupt("return",{actions:f});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();j.addStageDocuments=x;var p=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var i,c,s,o,l,j,m,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],c=Object(a.a)(t),e.prev=2,c.s();case 4:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=8,Object(d.a)(Object(u.a)(l.base64),"photo",l.path);case 8:(null===(j=e.sent)||void 0===j?void 0:j.success)&&(null===(o=j.files)||void 0===o?void 0:o.photo)&&i.push({location:null===(m=j.files)||void 0===m?void 0:m.photo,title:l.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return b=[{name:"addStagePhotos",data:{photos:i,stageId:n}}],e.abrupt("return",{actions:b});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();j.addStagePhotos=p;var g=function(e,t){return{actions:[{name:"updateStage",data:Object(c.a)({stageId:e},t)}]}};j.updateStage=g;var y=function(e,t){return{actions:[{name:"timesheetCondensedData",data:{personId:e,activeOnly:t}}]}};j.getCondensedTimesheetInfo=y},819:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([i],{type:a})}},822:function(e,t,n){"use strict";n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return o})),n.d(t,"n",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"s",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"o",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"t",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"r",(function(){return D})),n.d(t,"g",(function(){return T}));var a=n(3),i=n(278),r=i.e,c=i.b,s=i.c,o=i.d,l=function(){return{actions:[{name:"getTimeTypes",data:{}}]}};r.getTimeTypes=l;var d=function(e,t,n){return{actions:[{name:"createTimeType",data:{title:e,eventColor:t,isWorkflow:n}}]}};r.createTimeType=d;var u=function(e,t,n){return{actions:[{name:"createTimeCode",data:{title:e,bankable:!!n,timeTypeId:t}}]}};r.createTimeCode=u;var j=function(e){return{actions:[{name:"deleteTimeType",data:{timeTypeId:e}}]}};r.deleteTimeType=j;var m=function(e,t){return{actions:[{name:"updateTimeType",data:Object(a.a)({timeTypeId:e},t)}]}};r.updateTimeType=m;var b=function(e,t,n){return{actions:[{name:"getTimeEntries",data:{personId:e,startDate:t,endDate:n}}]}};c.getTimeEntries=b;var v=function(e){return{actions:[{name:"createTimeEntry",data:e}]}};c.createTimeEntry=v;var f=function(e,t){return{actions:[{name:"updateTimeEntry",data:Object(a.a)({timeEntryId:e},t)}]}};c.updateTimeEntry=f;var O=function(e){return{actions:[{name:"deleteTimeEntry",data:{timeEntryId:e}}]}};c.deleteTimeEntry=O;var h=function(e,t,n){return{actions:[{name:"reviewTimeEntry",data:{timeEntryId:e,approved:t,declinedReason:n}}]}};c.reviewTimeEntry=h;var x=function(e){return{actions:[{name:"createTimeOffRequest",data:e}]}};o.createTimeOffRequest=x;var p=function(e,t){return{actions:[{name:"updateTimeOffRequest",data:Object(a.a)(Object(a.a)({},t),{},{requestId:e})}]}};o.updateTimeOffRequest=p;var g=function(e){return{actions:[{name:"deleteTimeOffRequest",data:{requestId:e}}]}};o.deleteTimeOffRequest=g;var y=function(e,t,n){return{actions:[{name:"getTimeOffRequests",data:{personId:e,startDate:t,endDate:n}}]}};o.getTimeOffRequests=y;var w=function(e,t,n){return{actions:[{name:"approveTimeOffRequest",data:{requestId:e,approve:t||void 0,decline:!t||void 0,declineReason:n}}]}};o.approveTimeOffRequest=w;var k=function(e){return{actions:[{name:"getTimeBanks",data:{personId:e}}]}};s.getLeaveBanks=k;var S=function(e){return{actions:[{name:"createTimeBank",data:{title:e.title,personId:e.personId,timeCodeId:e.timeCodeId,unit:e.unit,hoursPerUnit:+e.hoursPerUnit,policy:{accrualPeriod:e.policy.accrualPeriod,accrualAmount:+e.policy.accrualAmount,accrueWeeks:e.policy.accrueWeeks,accrueWeekdays:e.policy.accrueWeekdays,accrueDates:e.policy.accrueDates,accrueMonths:e.policy.accrueMonths,accrualMaximum:e.policy.accrualMaximum?+e.policy.accrualMaximum:void 0,effectiveDate:e.policy.effectiveDate,autoAccrual:e.policy.autoAccrual},templateTitle:e.templateTitle}}]}};s.createTimeBank=S;var D=function(e){return{actions:[{name:"updateTimeBank",data:Object(a.a)({},e)}]}};s.updateTimeBank=D;var T=function(e){return{actions:[{name:"deleteTimeBank",data:{timeBankId:e}}]}};s.deleteTimeBank=T},824:function(e,t,n){"use strict";var a=n(3),i=n(26),r=n(40),c=n(45),s=n(74),o=n.n(s),l=n(1),d=n(992),u=n(407),j=n(993),m=n(276),b=n(834),v=n(2),f=["dateFormat","timeFormat","value","onChange","onBlur","pickerProps","size","autoFillBlank","buttonColor"];t.a=function(e){var t=e.dateFormat,n=void 0===t?"MM/DD/YY":t,s=e.timeFormat,O=void 0===s?"hh:mm A":s,h=e.value,x=e.onChange,p=(e.onBlur,e.pickerProps),g=e.size,y=e.autoFillBlank,w=e.buttonColor,k=void 0===w?"primary":w,S=Object(r.a)(e,f),D=Object(l.useState)(""),T=Object(i.a)(D,2),C=T[0],N=T[1],M=Object(l.useState)(!1),I=Object(i.a)(M,2),Y=I[0],E=I[1],A=Object(l.useState)(!0),V=Object(i.a)(A,2),F=V[0],P=V[1],_=n&&O?n+" "+O:n||O;return Object(l.useEffect)((function(){if(!F||(P(!1),h||y)){var e=o()(h);e.isValid()?N(e.format(_)):N(h)}}),[h]),Object(v.jsxs)("div",{children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(u.a,Object(a.a)({onChange:function(e){return N(e.target.value)},onBlur:function(){var e=o()(C);e.isValid()?x&&x(e.format(_)):x&&x(C)},value:C,size:g},S)),Object(v.jsx)(j.a,{addonType:"append",children:Object(v.jsx)(m.a,{outline:!0,color:k,onClick:function(){return E((function(e){return!e}))},size:g,children:Object(v.jsx)(c.a,{icon:"calendar"})})})]}),Object(v.jsx)(b.a,Object(a.a)({dateFormat:n,timeFormat:O,onChange:function(e){var t=o()(e);t.isValid()&&(N(t.format(_)),x&&x(t.format(_)))},value:C,dropLeft:!0,open:Y,onClose:function(e){E(!1),(null===p||void 0===p?void 0:p.onClose)&&p.onClose(e)}},p))]})}},834:function(e,t,n){"use strict";var a=n(26),i=n(260),r=n(261),c=n(836),s=n(835),o=n(74),l=n.n(o),d=n(1),u=n.n(d),j=n(3),m=n(7),b=n.n(m),v=n(2),f=function(e){var t=e.onClickPrev,n=e.onClickSwitch,a=e.onClickNext,i=e.switchContent,r=e.switchColSpan,c=e.switchProps;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"rdtPrev",onClick:t,children:Object(v.jsx)("span",{children:"\u2039"})}),Object(v.jsx)("th",Object(j.a)(Object(j.a)({className:"rdtSwitch",colSpan:r,onClick:n},c),{},{children:i})),Object(v.jsx)("th",{className:"rdtNext",onClick:a,children:Object(v.jsx)("span",{children:"\u203a"})})]})},O=n(887),h=n.n(O),x=n(888),p=n.n(x);l.a.extend(p.a),l.a.extend(h.a);var g=function(e,t){return Object(v.jsx)("td",Object(j.a)(Object(j.a)({},e),{},{children:t.date()}))},y=function(){return!0},w=function(e){for(var t=e.renderDay,n=void 0===t?g:t,a=e.isValidDate,i=void 0===a?y:a,r=e.viewDate,c=e.navigate,s=e.showView,o=e.timeFormat,d=e.selectedDate,u=e.updateDate,j=r,m=l()(r.toISOString()),O=j.clone().startOf("month"),h=j.clone().endOf("month"),x=[[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7]],p=m.startOf("month").startOf("week"),w=p.add(42,"d"),k=p,S=0,D=x;S<D.length;S++){var T=D[S];for(var C in T){var N=i(k.startOf("day"))||i(k.endOf("day"));T[C]=n({key:k.format("MMDDYYhh"),"data-value":k.date(),"data-month":k.month(),"data-year":k.year(),className:b()("rdtDay",{rdtOld:k.isBefore(O),rdtNew:k.isAfter(h),rdtActive:d&&k.isSame(d,"day"),rdtToday:k.isSame(l()(),"day"),rdtDisabled:!N}),onClick:N?u:void 0},k,d),k=k.add(1,"day")}}return Object(v.jsx)("div",{className:"rdtDays",children:Object(v.jsxs)("table",{children:[Object(v.jsxs)("thead",{children:[Object(v.jsx)(f,{onClickPrev:function(){return c(-1,"month")},onClickSwitch:function(){return s("months",r)},onClickNext:function(){return c(1,"month")},switchContent:m.format("MMM YYYY"),switchColSpan:5,switchProps:{"data-value":r.month()}}),Object(v.jsx)("tr",{children:l.a.weekdaysMin().map((function(e,t){return Object(v.jsx)("th",{className:"dow",children:e},e+t)}))})]}),Object(v.jsx)("tbody",{children:x.map((function(e,t){return Object(v.jsx)("tr",{children:e},"".concat(w.month(),"_").concat(t))}))}),o&&Object(v.jsx)("tfoot",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("td",{onClick:function(){return s("time",r)},colSpan:7,className:"rdtTimeToggle",children:j.format(!0===o?"LT":o)})})})]})})},k=function(e){var t=e.viewDate,n=e.renderMonth,a=void 0===n?function(e,t,n){return Object(v.jsx)("td",Object(j.a)(Object(j.a)({},e),{},{children:l()().year(n).month(t).format("MMM")}))}:n,i=e.isValidDate,r=e.navigate,c=e.showView,s=e.selectedDate,o=e.updateDate,d=null===t||void 0===t?void 0:t.year();function u(e){if(!i)return!1;for(var n=null===t||void 0===t?void 0:t.month(e).date(1),a=null===n||void 0===n?void 0:n.endOf("month");a.isAfter(n);){if(i(a))return!1;a=a.subtract(1,"day")}return!0}for(var m=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],O=0,h=0,x=m;h<x.length;h++){var p=x[h];for(var g in p)p[g]=a({key:O,className:b()("rdtMonth",{rdtDisabled:u(O),rdtActive:s.year()===t.year()&&s.month()===O}),"data-year":t.year(),"data-value":O,onClick:u(O)?void 0:o},O,null===t||void 0===t?void 0:t.year(),s),O++}return Object(v.jsxs)("div",{className:"rdtMonths",children:[Object(v.jsx)("table",{children:Object(v.jsx)("thead",{children:Object(v.jsx)(f,{onClickPrev:function(){return r(-1,"year")},onClickSwitch:function(){return c("years",t)},onClickNext:function(){return r(1,"year")},switchContent:d,switchColSpan:2})})}),Object(v.jsx)("table",{children:Object(v.jsx)("tbody",{children:m.map((function(e,t){return Object(v.jsx)("tr",{children:e},t)}))})})]})},S=n(17),D=function(e){var t=e.renderYear,n=void 0===t?function(e,t){return Object(v.jsx)("td",Object(j.a)(Object(j.a)({},e),{},{children:t}))}:t,i=e.isValidDate,r=e.viewDate,c=e.navigate,s=e.showView,o=e.selectedDate,u=e.updateDate,m=Object(d.useState)({}),O=Object(a.a)(m,2),h=O[0],x=O[1],p=null===r||void 0===r?void 0:r.year(),g=null===o||void 0===o?void 0:o.year();function y(e){if(void 0!==h[e])return h[e];if(!i)return!1;for(var t=l()().year(e).month(0).date(1),n=t.endOf("year");n.isAfter(t);){if(i(n))return x((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(S.a)({},e,!1))})),!1;n=n.subtract(1,"day")}return x((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(S.a)({},e,!0))})),!0}Object(d.useEffect)((function(){x({})}),[i]);for(var w=function(e){u(e)},k=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],D=p-1,T=0,C=k;T<C.length;T++){var N=C[T];for(var M in N)N[M]=n({key:D,className:b()("rdtYear",{rdtDisabled:y(D),rdtActive:g===D}),"data-value":D,onClick:y(D)?void 0:w},D,o),D++}return Object(v.jsxs)("div",{className:"rdtYears",children:[Object(v.jsx)("table",{children:Object(v.jsx)("thead",{children:Object(v.jsx)(f,{onClickPrev:function(){return c(-10,"year")},onClickSwitch:function(){return s("years",r)},onClickNext:function(){return c(10,"year")},switchContent:"".concat(p,"-").concat(p+9)})})}),Object(v.jsx)("table",{children:Object(v.jsx)("tbody",{children:k.map((function(e,t){return Object(v.jsx)("tr",{children:e},t)}))})})]})},T={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}};function C(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},a=t.toString();a.length<n[e];)a="0"+a;return a}var N=function(e){var t=e.viewDate,n=e.showView,i=e.timeFormat,r=e.dateFormat,c=e.selectedDate,s=e.setTime,o=e.timeConstraints,u=Object(d.useState)(T),m=Object(a.a)(u,2),b=m[0],f=m[1],O=Object(d.useState)({}),h=Object(a.a)(O,2),x=h[0],p=h[1],g=Object(d.useRef)();Object(d.useEffect)((function(){var e={};Object.keys(T).forEach((function(t){e[t]=Object(j.a)(Object(j.a)({},T[t]),o[t]||{})})),f(e)}),[o]),Object(d.useEffect)((function(){if(!g.current||!(null===c||void 0===c?void 0:c.isSame(g.current))){var e=c||t;p({hours:C("hours",e.hour()),minutes:C("minutes",e.minute()),seconds:C("seconds",e.second()),milliseconds:C("milliseconds",e.millisecond()),ampm:e.hour()<12?"AM":"PM"}),g.current=c}}),[null===c||void 0===c?void 0:c.toISOString(),null===t||void 0===t?void 0:t.toISOString()]);var y=[],w=!0===i?"hh:mm A":i;/h/i.test(w)&&(y.push("hours"),/m/.test(w)&&(y.push("minutes"),/s/.test(w)&&(y.push("seconds"),/S/.test(w)&&y.push("milliseconds"))),/a/i.test(w)&&y.push("ampm"));function k(e){p((function(t){var n=b[e],a=parseInt(t[e],10)+n.step;return a>n.max&&(a=n.min+(a-(n.max+1))),Object(j.a)(Object(j.a)({},t),{},Object(S.a)({},e,C(e,a)))}))}function D(e){p((function(t){var n=b[e],a=parseInt(x[e],10)-n.step;return a<n.min&&(a=n.max+1-(n.min-a)),Object(j.a)(Object(j.a)({},t),{},Object(S.a)({},e,C(e,a)))}))}function N(e,t,n){if(!e||!e.button||0===e.button){if("ampm"===n){var a=+x.hours;return a>=12?a-=12:a+=12,void s("hours",a)}var i;t(n);var r=setTimeout((function(){i=setInterval((function(){t(n)}),70)}),500),c=function e(){clearTimeout(r),clearInterval(i),function(e){p((function(t){return s(e,+t[e]),t}))}(n),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)};document.addEventListener("mouseup",c),document.addEventListener("touchend",c)}}return Object(v.jsx)("div",{className:"rdtTime",children:Object(v.jsxs)("table",{children:[r&&Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("td",{className:"rdtSwitch",colSpan:4,onClick:function(){return n("days",t)},children:(c||t).format(r)})})}),Object(v.jsx)("tbody",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:"rdtCounters",children:y.map((function(e,t){return Object(v.jsxs)(v.Fragment,{children:[!!t&&"ampm"!==e&&Object(v.jsx)("div",{className:"rdtCounterSeparator",children:":"},"sep".concat(t)),Object(v.jsxs)("div",{className:"rdtCounter",children:[Object(v.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return N(t,k,e)},children:"\u25b2"}),Object(v.jsx)("div",{className:"rdtCount",children:"hours"===e&&/a/i.test(w)?(+x[e]-1)%12+1||12:"ampm"===e?l()().hour(+x.hours).format(/A/.test(w)?" A":" a"):x[e]}),Object(v.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return N(t,D,e)},children:"\u25bc"})]},e)]})}))})})})})]})})},M=n(889),I=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).container=u.a.createRef(),e}return Object(r.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:this.props.className,ref:this.container,children:this.props.children})}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(u.a.Component),Y=Object(M.a)(I),E={YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"},A=function(){};t.a=function(e){var t=e.id,n=e.value,i=e.initialValue,r=e.initialViewMode,c=e.onClose,s=void 0===c?A:c,o=e.onChange,u=void 0===o?A:o,j=e.onNavigate,m=void 0===j?A:j,f=e.onBeforeNavigate,O=void 0===f?function(e){return e}:f,h=e.onNavigateBack,x=void 0===h?A:h,p=e.onNavigateForward,g=void 0===p?A:p,y=e.updateOnView,S=(e.locale,e.iso),T=e.dateFormat,C=e.timeFormat,M=e.timeConstraints,I=void 0===M?{}:M,V=e.isValidDate,F=void 0===V?function(){return!0}:V,P=e.open,_=e.setOpen,q=e.closeOnSelect,R=e.closeOnClickOutside,L=void 0===R||R,B=e.renderDay,H=e.renderMonth,W=e.renderYear,z=e.className,G=void 0===z?"":z,U=e.staticDisplay,$=e.dropLeft,J=Object(d.useState)(r||(T?"days":C?"time":"years")),Z=Object(a.a)(J,2),K=Z[0],Q=Z[1],X=Object(d.useState)(l()(n||i)),ee=Object(a.a)(X,2),te=ee[0],ne=ee[1],ae=Object(d.useState)("time"),ie=Object(a.a)(ae,2),re=ie[0],ce=ie[1],se=Object(d.useState)(l()(n||i)),oe=Object(a.a)(se,2),le=oe[0],de=oe[1],ue=Object(d.useState)(""),je=Object(a.a)(ue,2),me=je[0],be=je[1];Object(d.useEffect)((function(){if(n){var e=l()(n);e.isValid()&&ne(e)}}),[n]),Object(d.useEffect)((function(){var e=!0===T?"L":T,t=!0===C?"LT":C;be(e?t?e+" "+t:e:t||"")}),[C,T]),Object(d.useEffect)((function(){var e=T?!0===T?"L":T:"";y?ce(y):e.match(/[lLD]/)?ce(E.DAYS):-1!==e.indexOf("M")?ce(E.MONTHS):-1!==e.indexOf("Y")?ce(E.YEARS):ce(E.TIME)}),[T]),Object(d.useEffect)((function(){var e=l()(n);e.isValid()?de(e):de(l()())}),[n]);var ve=function(e,t){var n=O(e,K,t||te);n&&K!==n&&(m(n),Q(n))};function fe(e){q&&he(),u(S?null===e||void 0===e?void 0:e.toISOString():null===e||void 0===e?void 0:e.format(me))}var Oe=function(e,t){ne((function(n){return n.add(e,t)})),e>0?g(e,t):x(-e,t)},he=function(){_&&_(!1),s(le)};return Object(v.jsx)(Y,{className:b()("rdt",G,{rdtStatic:!!U,rdtOpen:!!P}),onClickOut:function(){P&&L&&he()},children:Object(v.jsxs)("div",{id:t,className:"rdtPicker rounded bg-light",style:$?{right:0}:void 0,children:["years"===K&&Object(v.jsx)(D,{viewDate:te,renderYear:W,isValidDate:F,navigate:Oe,showView:ve,selectedDate:le,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.YEARS?(de(t),fe(t)):ve(E.MONTHS,te)}}),"months"===K&&Object(v.jsx)(k,{viewDate:te,renderMonth:H,isValidDate:F,navigate:Oe,showView:ve,selectedDate:le,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.MONTHS?(de(t),fe(t)):ve(E.DAYS,te)}}),"days"===K&&Object(v.jsx)(w,{renderDay:B,isValidDate:F,navigate:Oe,showView:ve,timeFormat:C,viewDate:te,selectedDate:le,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-month")).date(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.DAYS?(de(t),fe(t)):C&&ve(E.HOURS,te)}}),"time"===K&&C&&Object(v.jsx)(N,{viewDate:te,showView:ve,timeFormat:C,dateFormat:!0===T?"L":T,selectedDate:le,setTime:function(e,t){var n,a=le||te;switch(e){case"hours":n=a.hour(t);break;case"minutes":n=a.minute(t);break;case"seconds":n=a.second(t);break;case"milliseconds":n=a.millisecond(t)}de(n),ne(n),fe(n)},timeConstraints:I})]})})}},844:function(e,t,n){"use strict";n(1);var a=n(45),i=n(30),r=n(795),c=n(796),s=n(2);t.a=function(){return Object(s.jsx)(r.a,{className:"text-center",children:Object(s.jsxs)(c.a,{className:"p-5",children:[Object(s.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(s.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(s.jsx)("hr",{}),Object(s.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(s.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(s.jsxs)(i.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(s.jsx)(a.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},857:function(e,t,n){"use strict";var a=n(12),i=n(822),r=n(144);t.a=function(){return Object(r.a)({actionCreator:i.n,selector:function(e){return Object.values(e.time.timeTypes)},equality:a.d,deduplicate:["TimeCodes"]})}},859:function(e,t,n){"use strict";function a(e,t){return e+(1===t?"":"s")}n.d(t,"a",(function(){return a}))},906:function(e,t,n){"use strict";n(1);var a=n(2);t.a=function(e){var t=e.info,n=e.color,i=void 0===n?"black":n,r=e.label,c=e.className;return Object(a.jsxs)("div",{className:c,children:[Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("h1",{className:"text-"+i+" text-center",children:t})}),Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("h6",{className:"text-center",children:r})})]})}},940:function(e,t,n){"use strict";var a=n(32),i=n(822),r=n(144);t.a=function(e){return Object(r.a)({actionCreator:i.k,postParams:e,selector:function(t){return Object.values(t.time.timeOffBanks).filter((function(t){return t.personId===e}))},equality:a.isEqual,deduplicate:["getLeaveBanks",e]})}},946:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{value:"danger",label:"Red",text:"white"},{value:"warning",label:"Orange",text:"white"},{value:"success",label:"Green",text:"white"},{value:"info",label:"Sky Blue",text:"100"},{value:"primary",label:"Blue",text:"white"},{value:"secondary",label:"Gray",text:"white"},{value:"dark",label:"Dark",text:"white"},{value:"soft-danger",label:"Light Red",text:"800"},{value:"soft-warning",label:"Light Orange",text:"800"},{value:"soft-success",label:"Light Green",text:"700"},{value:"soft-info",label:"Baby Blue",text:"700"},{value:"soft-primary",label:"Light Blue",text:"800"},{value:"soft-dark",label:"Dark Gray",text:"100"},{value:"soft-secondary",label:"Light Gray",text:"800"},{value:"light",label:"Off White",text:"800"},{value:"soft-light",label:"Snow White",text:"700"},{value:"white",label:"White",text:"700"}]}}]);
//# sourceMappingURL=15.79d68227.chunk.js.map