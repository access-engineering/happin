(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[13],{1105:function(e,t,n){},1186:function(e,t,n){"use strict";n.r(t);var a,i,o,r,s,c=n(1),d=n.n(c),l=n(23),u=n(844),h=n(22),b=n.n(h),p=n(50),m=n(40),j=n(106),f=n(3),v=n(26),g=n(815),O=n(12),x=n(962),y=n(7),k=n.n(y),w=n(961),D=n(982),S=n(927),T=n(984),M=n(998),E=n(809),N=n(801),C=n(802),L=n(45),I=n(94),P=n(851),_=n(276),R=n(2),A=["text","submitting","color"],Y=function(e){var t=e.text,n=void 0===t?"Submit":t,a=e.submitting,i=e.color,o=void 0===i?"primary":i,r=Object(m.a)(e,A);return Object(R.jsxs)(_.a,Object(f.a)(Object(f.a)({color:o},r),{},{children:[n,a&&Object(R.jsx)(P.a,{color:"light",size:"sm"})]}))},z=n(84),W=n(838),V=n(257),H=function(e){var t=e.category,n=e.items,a=e.categories,i=Object(c.useState)(!1),o=Object(v.a)(i,2),r=o[0],s=o[1],d=Object(V.a)(W.f);function l(){return(l=Object(p.a)(b.a.mark((function e(){var i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=3;break}return z.c.error("Cannot remove category with items. Please remove all items from this category before removing."),e.abrupt("return");case 3:return e.next=5,d.post(a.filter((function(e){return e!==t})));case 5:(null===(i=e.sent)||void 0===i?void 0:i.success)?z.c.success("Removed"):z.c.error((null===i||void 0===i?void 0:i.error)||"Something went wrong");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(b.a.mark((function e(n){var i,o,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Object(j.a)(a)).sort((function(e,t){return"Complete"===e?1:"Complete"===t?-1:0})),o=i.findIndex((function(e){return e===t})),!((r=o+n)<0||r>a.length-2)){e.next=7;break}return z.c.error("Couldn't move any more"),e.abrupt("return");case 7:return i[o]=i[o+n],i[o+n]=t,e.next=11,d.post(i);case 11:(null===(s=e.sent)||void 0===s?void 0:s.success)||z.c.error((null===s||void 0===s?void 0:s.error)||"Failed to sort");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(R.jsxs)("div",{className:"kanban-column-header",children:[Object(R.jsxs)("h5",{className:"text-serif fs-0 mb-0",children:[t," ",Object(R.jsxs)("span",{className:"text-500",children:["(",n.length,")"]})]}),Object(R.jsxs)(w.a,{isOpen:r,toggle:function(){return s(!1)},children:[Object(R.jsx)(D.a,{children:"Remove Category"}),Object(R.jsx)(S.a,{children:n.length?"Please remove all items from the category first.":"Do you want to remove this category?"}),Object(R.jsx)(T.a,{tag:I.a,justify:"end",children:Object(R.jsx)(Y,{onClick:function(){return l.apply(this,arguments)},submitting:d.loading,text:"Remove",color:"danger",disabled:!!n.length})})]}),Object(R.jsxs)(M.a,{className:"text-sans-serif btn-reveal-trigger",children:[Object(R.jsx)(E.a,{color:"reveal",size:"sm",className:"py-0 px-2",children:Object(R.jsx)(L.a,{icon:"ellipsis-h"})}),Object(R.jsxs)(N.a,{right:!0,className:"py-0",children:[Object(R.jsx)(C.a,{onClick:function(){return u(-1)},children:"Move Left"}),Object(R.jsx)(C.a,{onClick:function(){return u(1)},children:"Move Right"}),Object(R.jsx)(C.a,{divider:!0}),Object(R.jsx)(C.a,{className:"text-danger",onClick:function(){return s(!0)},children:"Remove"})]})]})]})},F=n(848),U=n(899),B=n(879),K=n(17);!function(e){e.TEAL="rgb(90, 132, 148, .7)",e.TRUEST_PINK="rgba(192, 129, 137, .7)",e.DEEP_PURPLE="rgba(111, 56, 87, .7)",e.BLUE="rgb(132, 175, 182, .7)",e.DARK_PINK="rgba(244, 193, 192, .7)"}(i||(i={})),function(e){e.TEAL="rgb(15, 91, 81, .8)",e.BLUE="rgb(4, 65, 102, .8)",e.YELLOW="rgb(107, 77, 0, .8)",e.RED="rgb(107, 0, 0, .8)",e.PURPLE="rgb(55, 7, 63, .8)"}(o||(o={})),function(e){e.TEAL="rgb(154, 237, 227, .8)",e.BLUE="rgb(159, 217, 232, .8)",e.YELLOW="rgb(235, 235, 200, .8)",e.RED="rgb(240, 200, 200, .8)",e.PURPLE="rgb(230, 210, 240, .8)"}(r||(r={})),function(e){e.SAND="rgb(235, 235, 200)",e.GREEN="rgb(190, 230, 210)",e.LAVENDER="rgb(230, 210, 240)",e.BLUE="rgb(170, 200, 230)",e.PINK="rgb(240, 200, 200)"}(s||(s={}));a={},Object(K.a)(a,o.TEAL,r.TEAL),Object(K.a)(a,o.BLUE,r.BLUE),Object(K.a)(a,o.YELLOW,r.YELLOW),Object(K.a)(a,o.RED,r.RED),Object(K.a)(a,o.PURPLE,r.PURPLE),s.SAND,o.YELLOW,s.GREEN,o.TEAL,s.BLUE,o.BLUE,s.LAVENDER,o.PURPLE,s.PINK,o.RED;var X=[s.SAND,s.GREEN,s.LAVENDER,s.BLUE,s.PINK],G=function(e){var t=e.color,n=e.setColor,a=e.colorOptions,i=void 0===a?X:a;return Object(R.jsxs)(U.a,{children:[Object(R.jsx)(B.a,{for:"colors",children:"Color"}),Object(R.jsx)(I.a,{justify:"between",children:i.map((function(e){return Object(R.jsx)("div",{className:"cursor-pointer border ".concat(t===e?"border-2x border-500":""),style:{backgroundColor:e,width:"2rem",height:"2rem"},onClick:function(){return n(e)}},e)}))})]})},Z=n(811),q=n(824),$=n(386).b,J=function(e,t,n,a){return{actions:[{name:"createToDo",data:{description:e,dueDate:n,kanban:t,color:a}}]}};$.createToDo=J;var Q=function(e,t){return{actions:[{name:"editToDo",data:Object(f.a)({toDoId:e},t)}]}},ee=function(e){return{actions:[{name:"deleteToDo",data:{toDoId:e}}]}},te=function(e){return{actions:[{name:"getToDos",data:{delimiter:e}}]}};$.reorderToDos=function(e){return{actions:e.map((function(e){return{name:"editToDo",data:{toDoId:e.toDoId,kanban:{sortIndex:e.sortIndex,category:e.category}}}}))}};var ne=function(e){var t=e.category,n=e.index,a=e.isOpen,i=e.setIsOpen,o=Object(c.useState)(),r=Object(v.a)(o,2),d=r[0],l=r[1],u=Object(c.useState)(),h=Object(v.a)(u,2),m=h[0],j=h[1],f=Object(c.useState)(s[0]),g=Object(v.a)(f,2),O=g[0],x=g[1],y=Object(V.a)(J);function k(){return(k=Object(p.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(d,{category:t,sortIndex:n},m,O);case 2:(null===(a=e.sent)||void 0===a?void 0:a.success)?(z.c.success("Created new to-do"),i(!1)):z.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(R.jsxs)(w.a,{isOpen:a,toggle:function(){return i(!1)},children:[Object(R.jsx)(D.a,{className:"bg-light border-bottom-0",children:"Add To-Do"}),Object(R.jsxs)(S.a,{children:[Object(R.jsx)(Z.a,{id:"todo-description",type:"textarea",placeholder:"Enter description...",rows:4,value:d,onChange:function(e){return l(e.target.value)}}),Object(R.jsxs)(U.a,{children:[Object(R.jsx)(B.a,{for:"todo-duedate",children:"Due Date"}),Object(R.jsx)(q.a,{timeFormat:!1,value:m,onChange:function(e){return j(e)}})]}),Object(R.jsx)(G,{color:O,setColor:x})]}),Object(R.jsx)(T.a,{className:"bg-light border-top-0",children:Object(R.jsx)(Y,{submitting:y.loading,onClick:function(){return k.apply(this,arguments)}})})]})},ae=n(816),ie=n(795),oe=n(796),re=n(797),se=n(908),ce=function(e){return{cursor:e?"grabbing":"grab",transform:e?"rotate(-3deg)":"",transition:"all 0.3s ease-out"}},de=n(867),le=n(74),ue=n.n(le),he=n(272),be=function(e){var t=e.assignment,n=e.category,a=e.index,i=e.lastIndex,o=e.fakeDragEvent,r=e.categories,s=(Object(O.f)((function(e){return e.app.login.personId})),t.assignees.map((function(e){return e.personId}))),c=he.a.apply(void 0,Object(j.a)(s)).value,d=Object(l.g)(),u="draggable-assignment-".concat(t._id);return Object(R.jsx)(F.b,{draggableId:u,index:a,children:function(e,s){var l;return Object(R.jsx)("div",Object(f.a)(Object(f.a)(Object(f.a)({className:"kanban-item",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(R.jsx)(ie.a,{className:"kanban-item-card",style:ce(s.isDragging),children:Object(R.jsxs)(oe.a,{children:[Object(R.jsxs)(I.a,{justify:"between",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("h6",{className:"mb-1",children:t.stage.identifier}),Object(R.jsx)("p",{className:"fs--2 my-0",children:Object(R.jsx)("i",{children:t.stage.title})})]}),Object(R.jsx)("div",{className:"mb-2",children:Object(R.jsx)(re.a,{className:"badge-soft-".concat(de.a[t.status[t.status.length-1].title]," d-inline-block py-1 mr-1 mb-1"),children:t.status[t.status.length-1].title},a+10)})]}),Object(R.jsx)("hr",{className:"my-1"}),Object(R.jsx)("h6",{className:"mb-1",children:Object(R.jsx)("i",{children:t.task.title})}),null===(l=t.description)||void 0===l?void 0:l.split("\n").map((function(e,t){return Object(R.jsx)("p",{className:"mb-1 fs--1",children:e},t)})),Object(R.jsxs)("div",{className:"kanban-item-footer",children:[Object(R.jsx)("div",{className:"text-500",children:ue()(t.dueDate).format("MM/DD/YYYY")}),Object(R.jsx)("div",{children:Object(R.jsx)(se.a,{avatarSize:"m",showMembers:6,people:c||[]})}),Object(R.jsxs)(M.a,{className:"text-sans-serif",onClick:function(e){e.stopPropagation()},children:[Object(R.jsx)(E.a,{color:"falcon-default",size:"sm",className:"py-0 px-2",children:Object(R.jsx)(L.a,{icon:"ellipsis-h"})}),Object(R.jsxs)(N.a,{right:!0,className:"py-0",children:[a>0&&Object(R.jsx)(C.a,{onClick:function(){return o({reason:"DROP",draggableId:u,destination:{droppableId:n,index:a-1},source:{droppableId:n,index:a}})},children:"Move Up"}),a<i&&Object(R.jsx)(C.a,{onClick:function(){return o({reason:"DROP",draggableId:u,destination:{droppableId:n,index:a+1},source:{droppableId:n,index:a}})},children:"Move Down"}),!t.complete&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(C.a,{divider:!0}),r.filter((function(e){return e!==n})).map((function(e,t){return Object(R.jsx)(C.a,{onClick:function(){return o({reason:"DROP",draggableId:u,destination:{droppableId:e,index:0},source:{droppableId:n,index:a}})},children:e},t)}))]}),Object(R.jsx)(C.a,{divider:!0}),Object(R.jsx)(C.a,{className:"text-primary",onClick:function(){return d.push("/workflows/".concat(t.stage.workflowId,"/stage/").concat(t.stage._id,"/task/").concat(t.task._id))},children:"Go To Task"})]})]})]})]})})}))}})},pe=n(858),me=n.n(pe),je=function(e){var t=e.toDo,n=e.setIsOpen,a=Object(c.useState)(),i=Object(v.a)(a,2),o=i[0],r=i[1],d=Object(c.useState)(),l=Object(v.a)(d,2),u=l[0],h=l[1],m=Object(c.useState)(s.SAND),j=Object(v.a)(m,2),f=j[0],g=j[1],O=Object(V.a)(Q);function x(){return(x=Object(p.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post(t._id,{description:o,dueDate:u,kanban:{color:f}});case 2:(null===(a=e.sent)||void 0===a?void 0:a.success)?(z.c.success("Updated to-do"),n(!1)):z.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){r(t.description)}),[t.description]),Object(c.useEffect)((function(){h(t.dueDate)}),[t.dueDate]),Object(R.jsxs)(w.a,{isOpen:!0,toggle:function(){return n(!1)},children:[Object(R.jsx)(D.a,{}),Object(R.jsxs)(S.a,{children:[Object(R.jsx)(Z.a,{id:"todo-description",type:"textarea",placeholder:"Enter description...",rows:4,value:o,onChange:function(e){return r(e.target.value)}}),Object(R.jsxs)(U.a,{children:[Object(R.jsx)(B.a,{for:"todo-duedate",children:"Due Date"}),Object(R.jsx)(q.a,{timeFormat:!1,value:u,onChange:function(e){return h(e)}})]}),Object(R.jsx)(G,{color:f,setColor:g})]}),Object(R.jsx)(T.a,{tag:I.a,align:"bottom",justify:"end",children:Object(R.jsx)(Y,{submitting:O.loading,onClick:function(){return x.apply(this,arguments)}})})]})},fe=function(e){var t=e.toDo,n=e.category,a=e.index,i=e.lastIndex,o=e.categories,r=e.fakeDragEvent,s=Object(c.useState)(!1),d=Object(v.a)(s,2),l=d[0],u=d[1],h=Object(V.a)(ee);function m(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me()({title:"Delete To-Do?",message:"Are you sure you want to delete this To-Do?",confirmColor:"danger",confirmText:"Delete",cancelColor:"secondary",cancelText:"Cancel"});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.post(t._id);case 7:(null===(n=e.sent)||void 0===n?void 0:n.success)?z.c.success("Deleted to-do"):z.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g="draggable-todo-".concat(t._id);return Object(R.jsx)(F.b,{draggableId:"draggable-todo-".concat(t._id),index:a,children:function(e,s){return Object(R.jsxs)("div",Object(f.a)(Object(f.a)(Object(f.a)({className:"kanban-item",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(R.jsx)(ie.a,{className:"kanban-item-card",style:Object(f.a)(Object(f.a)({},ce(s.isDragging)),{},{backgroundColor:t.kanban.color||"rgb(255, 255, 200)",color:"rgb(50, 50, 50)"}),children:Object(R.jsxs)(oe.a,{children:[t.description.split("\n").map((function(e,t){return Object(R.jsx)("p",{className:"mb-1 fs--1 text-sans-serif",children:e},t)})),Object(R.jsxs)("div",{className:"kanban-item-footer",children:[Object(R.jsx)("div",{className:"text-500",children:t.dueDate&&ue()(t.dueDate).format("MM/DD/YYYY")}),Object(R.jsxs)(M.a,{className:"text-sans-serif",onClick:function(e){e.stopPropagation()},children:[Object(R.jsx)(E.a,{color:"falcon-default",size:"sm",className:"py-0 px-2",children:Object(R.jsx)(L.a,{icon:"ellipsis-h"})}),Object(R.jsxs)(N.a,{right:!0,className:"py-0",children:[a>0&&Object(R.jsx)(C.a,{onClick:function(){return r({reason:"DROP",draggableId:g,destination:{droppableId:n,index:a-1},source:{droppableId:n,index:a}})},children:"Move Up"}),a<i&&Object(R.jsx)(C.a,{onClick:function(){return r({reason:"DROP",draggableId:g,destination:{droppableId:n,index:a+1},source:{droppableId:n,index:a}})},children:"Move Down"}),Object(R.jsx)(C.a,{divider:!0}),o.filter((function(e){return e!==n})).map((function(e){return Object(R.jsx)(C.a,{onClick:function(){return r({reason:"DROP",draggableId:g,destination:{droppableId:e,index:0},source:{droppableId:n,index:a}})},children:e},e)})),Object(R.jsx)(C.a,{divider:!0}),Object(R.jsx)(C.a,{className:"text-primary",onClick:function(){return u(!0)},children:"Edit"}),Object(R.jsx)(C.a,{className:"text-danger",onClick:m,children:"Delete"})]})]})]})]})}),l&&Object(R.jsx)(je,{toDo:t,setIsOpen:u})]}))}})},ve=function(e){var t=e.category,n=e.index,a=e.items,i=e.categories,o=e.fakeDragEvent,r=Object(c.useState)(!1),s=Object(v.a)(r,2),d=s[0],l=s[1],u=a.sort((function(e,t){var n=e.kanban.sortIndex||0,a=t.kanban.sortIndex||0;return n===a?e._id>t._id?1:-1:n>a?1:-1}));return Object(R.jsxs)("div",{className:k()("kanban-column",{"form-added":d}),children:[Object(R.jsx)(H,{category:t,items:a,categories:i}),Object(R.jsx)(F.c,{droppableId:t,children:function(e,a){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",Object(f.a)(Object(f.a)({className:"kanban-items-container scrollbar",id:"container-".concat(n),ref:e.innerRef},e.droppableProps),{},{children:[u.map((function(e,n,a){switch(e.type){case"assignment":return Object(R.jsx)(be,{categories:i,assignment:e,category:t,index:n,lastIndex:a.length-1,fakeDragEvent:o},e._id);case"todo":return Object(R.jsx)(fe,{toDo:e,category:t,index:n,lastIndex:a.length-1,fakeDragEvent:o,categories:i},e._id)}})),d&&Object(R.jsx)(ne,{category:t,index:u.length,isOpen:d,setIsOpen:l}),e.placeholder]})),!d&&Object(R.jsx)("div",{className:"kanban-column-footer",children:Object(R.jsx)(ae.a,{className:"btn-add-card text-600 text-decoration-none",color:"link",block:!0,icon:"plus",iconClassName:"mr-1",size:"sm",onClick:function(){l(!0)},children:"Add a Personal To-Do"})})]})}})]})},ge=n(402),Oe=n(366),xe=function(e){var t=e.categories,n=Object(c.useState)(!1),a=Object(v.a)(n,2),i=a[0],o=a[1],r=Object(c.useState)(),s=Object(v.a)(r,2),d=s[0],l=s[1],u=Object(V.a)(W.f),h=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.post(Array.from(new Set([].concat(Object(j.a)(t),[d]))));case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)?(z.c.success("Added category"),o(!1),l(void 0)):z.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)(ge.a,{noGutters:!0,className:"bg-100 rounded-soft px-card py-2 mt-2 mb-3 btn-reveal-trigger",children:Object(R.jsxs)(Oe.a,{tag:I.a,align:"center",justify:"between",children:[Object(R.jsx)("h5",{className:"mb-0",children:"Assignments"}),Object(R.jsx)(ae.a,{id:"add-kanban-category",color:"link",icon:"plus",iconAlign:"right",size:"sm",className:"btn-reveal text-decoration-none",onClick:function(){return o(!0)},children:"Add Category"}),Object(R.jsxs)(w.a,{isOpen:i,toggle:function(){return o(!1)},children:[Object(R.jsx)(D.a,{className:"bg-light border-bottom-0",children:"Add Category"}),Object(R.jsx)(S.a,{children:Object(R.jsx)(Z.a,{id:"new-category-title",label:"Title",value:d,onChange:function(e){return l(e.target.value)}})}),Object(R.jsx)(T.a,{tag:I.a,align:"bottom",justify:"end",className:"bg-light border-top-0",children:Object(R.jsx)(_.a,{color:"primary",onClick:h,children:"Submit"})})]})]})})},ye=n(183),ke=n.n(ye),we=n(144);var De=function(){return Object(we.a)({actionCreator:W.b,selector:function(e){var t,n;return null===(t=e.app.options)||void 0===t||null===(n=t.kanban)||void 0===n?void 0:n.categories},deduplicate:["kanbanCategories"]})};var Se=function(e){return Object(we.a)({actionCreator:te,postParams:e,selector:function(e){return Object.values(e.management.toDos)},equality:O.d,deduplicate:["toDos",e||"top"]})},Te=n(832),Me=["value"],Ee=["value"],Ne=["value"];function Ce(e,t,n,a){for(var i=[],o=[],r=0;r<e.length;r++){var s=e[r];if(s)switch(s.type){case"assignment":var c=s.assignees.find((function(e){return e.personId===a}));c.sortIndex===r&&c.category===t||(n(Te.d.upsert({assignments:[{_id:s._id,assignees:[{_id:c._id,sortIndex:r}]}]},s.task._id)),i.push({taskId:s.task._id,assignmentId:s._id,sortIndex:r,category:t}));break;case"todo":s.kanban.sortIndex===r&&s.kanban.category===t||(n($.upsert({kanban:{sortIndex:r}},s._id)),o.push({toDoId:s._id,sortIndex:r,category:t}))}}return{movedAssignments:i,movedToDos:o}}function Le(e,t,n,a,i,o){var r=e.split("-"),s=Object(v.a)(r,3),c=(s[0],s[1]),d=s[2],l=i.get(t).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1})),u=l.findIndex((function(e){return e.type===c&&e._id===d}));return-1===u?(z.c.error("there was a problem re-sorting out"),{movedAssignments:[],movedToDos:[]}):(l.splice(u,1),i.set(t,l.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{kanban:Object(f.a)(Object(f.a)({},e.kanban),{},{sortIndex:t})})}))),Ce(l,t,a,o))}function Ie(e,t,n,a,i,o,r){var s=e.split("-"),c=Object(v.a)(s,3),d=(c[0],c[1]),l=c[2],u=o.get(t).find((function(e){return e._id===l&&e.type===d}));if(!u)return z.c.error("there was a problem re-sorting in"),{movedAssignments:[],movedToDos:[]};var h=o.get(n).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1}));return h.splice(a,0,u),o.set(n,h.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{kanban:Object(f.a)(Object(f.a)({},e.kanban),{},{sortIndex:t})})}))),Ce(h,n,i,r)}function Pe(e,t,n,a,i,o){var r=i.get(t).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1})),s=e.split("-"),c=Object(v.a)(s,3),d=(c[0],c[1]),l=c[2],u=r.splice(r.findIndex((function(e){return e._id===l&&e.type===d})),1);return u.length?(r.splice.apply(r,[n,0].concat(Object(j.a)(u))),i.set(t,r.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{kanban:Object(f.a)(Object(f.a)({},e.kanban),{},{sortIndex:t})})}))),Ce(r,t,a,o)):(z.c.error("there was a problem re-sorting"),{movedAssignments:[],movedToDos:[]})}var _e,Re=function(){var e=Object(O.f)((function(e){return e.app.login.personId})),t=Object(c.useState)(),n=Object(v.a)(t,2),a=n[0],i=(n[1],Object(c.useState)()),o=Object(v.a)(i,2),r=o[0],s=o[1],d=De(),l=d.value,u=(Object(m.a)(d,Me),Object(x.a)()),h=u.value,y=Object(m.a)(u,Ee),k=Se(a),w=k.value,D=(Object(m.a)(k,Ne),Object(V.a)(Te.d.reorderAssignments)),S=Object(V.a)($.reorderToDos),T=Object(c.useRef)(null),M=Object(O.e)(),E=new Map(null===l||void 0===l?void 0:l.map((function(e){return[e,[]]})));Object(c.useEffect)((function(){var e;ke.a.ipad()&&(null===(e=T.current)||void 0===e||e.classList.add("ipad"));if(ke.a.mobile()){var t,n,a;if(null===(t=T.current)||void 0===t||t.classList.add("mobile"),ke.a.safari())null===(n=T.current)||void 0===n||n.classList.add("safari");if(ke.a.chrome())null===(a=T.current)||void 0===a||a.classList.add("chrome")}}),[]),null===h||void 0===h||h.forEach((function(t){var n=t.assignees.find((function(t){return t.personId===e})),a=t.complete?"Complete":(null===n||void 0===n?void 0:n.category)||"Uncategorized",i=Object(f.a)(Object(f.a)({},t),{},{type:"assignment",kanban:{category:a,sortIndex:(null===n||void 0===n?void 0:n.sortIndex)||0}});E.has(a)?E.get(a).push(i):E.set(a,[i])})),null===w||void 0===w||w.forEach((function(e){var t=e.complete?"Complete":e.kanban.category||"Uncategorized",n=Object(f.a)(Object(f.a)({},e),{},{type:"todo",kanban:{category:t,sortIndex:e.kanban.sortIndex||0,color:e.kanban.color}});E.has(t)?E.get(t).push(n):E.set(t,[n])}));var N=r||E;function C(e){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post(t);case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)||z.c.error("There was a problem re-sorting the assignments. Please refresh the page and try again.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post(t);case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)||z.c.error("There was a problem re-sorting the todos. Please refresh the page and try again.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(t){var n=void 0,a=void 0;"DROP"===t.reason&&t.destination&&(t.destination.droppableId!==t.source.droppableId?(n=t.destination.droppableId,a=t.destination.index):t.destination.index!==t.source.index&&(a=t.destination.index)),void 0!==a&&Object(O.b)(function(e,t,n,a,i){return Object(p.a)(b.a.mark((function o(){var r,c,d,l,u,h,p,m,f,v,g,O;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=new Map(a),void 0===t){o.next=12;break}return c=Ie(e.draggableId,e.source.droppableId,t,e.destination.index,n,r,i),d=c.movedAssignments,l=c.movedToDos,u=Le(e.draggableId,e.source.droppableId,e.source.index,n,r,i),h=u.movedAssignments,p=u.movedToDos,m=[].concat(Object(j.a)(h),Object(j.a)(d)),f=[].concat(Object(j.a)(p),Object(j.a)(l)),s(r),o.next=9,Promise.all([m.length>0?C(m):Promise.resolve(),f.length>0?P(f):Promise.resolve()]);case 9:s(void 0),o.next=17;break;case 12:return v=Pe(e.draggableId,e.source.droppableId,e.destination.index,n,r,i),g=v.movedAssignments,O=v.movedToDos,s(r),o.next=16,Promise.all([g.length>0?C(g):Promise.resolve(),O.length>0?P(O):Promise.resolve()]);case 16:s(void 0);case 17:case"end":return o.stop()}}),o)})))}(t,n,M,N,e))}var Y=Array.from(N.keys())||[];return Object(R.jsxs)(g.a,{dataLoader:y,children:[Object(R.jsx)(xe,{categories:Y}),Object(R.jsx)(F.a,{onDragEnd:A,children:Object(R.jsx)("div",{className:"kanban-container scrollbar",ref:T,children:Array.from(N.keys()).sort((function(e,t){return"Complete"===e?1:"Complete"===t?-1:0})).map((function(e,t){return Object(R.jsx)(ve,{category:e,index:t,items:N.get(e)||[],categories:Y,fakeDragEvent:A},t)}))})}),Object(R.jsx)(I.a,{})]})},Ae=n(401),Ye=n(408),ze=n(807),We=n(991),Ve=n(260),He=n(261),Fe=n(836),Ue=n(835),Be=n(194),Ke={header:{top:{style:{}},middle:{style:{},selectedStyle:{}},bottom:{style:{},selectedStyle:{}}},taskList:{title:{label:"Projects",style:{}},task:{style:{}},verticalSeparator:{style:{},grip:{style:{}}}},dataViewPort:{rows:{style:{}},task:{showLabel:!1,style:{},selectedStyle:{}}},links:{color:"black",selectedColor:"#ff00fa"}},Xe=new(function(){function e(){var t=this;Object(Ve.a)(this,e),this.data=void 0,this.load=function(e){t.data={},e?t.populate(e,Ke,t.data):t.data=Ke},this.data=Ke}return Object(He.a)(e,[{key:"populate",value:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)(null===e||void 0===e?void 0:e[a])?(n[a]=e[a],this.populate(e[a],t[a],n[a])):n[a]=t[a]}},{key:"values",get:function(){return this.data}}]),e}()),Ge=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var a;return Object(Ve.a)(this,n),(a=t.call(this,e)).draggingPosition=void 0,a.doMouseMove=a.doMouseMove.bind(Object(Be.a)(a)),a.doMouseDown=a.doMouseDown.bind(Object(Be.a)(a)),a.doMouseUp=a.doMouseUp.bind(Object(Be.a)(a)),a.state={dragging:!1},a}return Object(He.a)(n,[{key:"doMouseDown",value:function(e){0===e.button&&(this.draggingPosition=e.clientX,this.setState({dragging:!0}))}},{key:"componentDidUpdate",value:function(e,t){this.state.dragging&&!t.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)):!this.state.dragging&&t.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp))}},{key:"doMouseMove",value:function(e){if(this.state.dragging){if(e.stopPropagation(),!this.draggingPosition)return;var t=this.draggingPosition-e.clientX;this.draggingPosition=e.clientX,this.props.onTaskListSizing(t)}}},{key:"doMouseUp",value:function(e){this.setState({dragging:!1})}},{key:"render",value:function(){return Object(R.jsxs)("div",{className:"verticalResizer",style:Xe.values.taskList.verticalSeparator.style,onMouseDown:this.doMouseDown,children:[Object(R.jsx)("div",{className:"squareGrip",style:Xe.values.taskList.verticalSeparator.grip.style}),Object(R.jsx)("div",{className:"squareGrip",style:Xe.values.taskList.verticalSeparator.grip.style}),Object(R.jsx)("div",{className:"squareGrip",style:Xe.values.taskList.verticalSeparator.grip.style}),Object(R.jsx)("div",{className:"squareGrip",style:Xe.values.taskList.verticalSeparator.grip.style})]})}}]),n}(c.Component),Ze=n(1103),qe=n.n(Ze),$e=n(1104),Je=n.n($e);!function(e){e[e.NONE=0]="NONE",e[e.MOVE=1]="MOVE",e[e.MOVE_RESIZE_LEFT=2]="MOVE_RESIZE_LEFT",e[e.MOVE_RESIZE_RIGHT=3]="MOVE_RESIZE_RIGHT"}(_e||(_e={}));var Qe,et,tt,nt=5e3;!function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"}(Qe||(Qe={})),function(e){e[e.DAY_IN_YEAR_MODE=4]="DAY_IN_YEAR_MODE",e[e.DAY_IN_MONTH_MODE=24]="DAY_IN_MONTH_MODE",e[e.DAY_IN_WEEK_MODE=480]="DAY_IN_WEEK_MODE",e[e.DAY_IN_DAY_MODE=1440]="DAY_IN_DAY_MODE",e[e.HOUR_IN_WEEK_MODE=20]="HOUR_IN_WEEK_MODE",e[e.HOUR_IN_DAY_MODE=60]="HOUR_IN_DAY_MODE"}(et||(et={})),function(e){e.RIGHT="LINK_POS_RIGHT",e[e.LEFT=void 0]="LEFT"}(tt||(tt={}));var at=36e5,it=new(function(){function e(){var t=this;Object(Ve.a)(this,e),this.dayToPosition=function(e,t,n){return e*n+t},this.daysInYear=function(e){return t.isLeapYear(e)?366:365}}return Object(He.a)(e,[{key:"dateToPixel",value:function(e,t,n){var a=this.getToday(),i=new Date(e.toString()),o=60*(i.getTimezoneOffset()-a.getTimezoneOffset())*1e3;return(i.getTime()-a.getTime()-o)/at*(n/24)+t}},{key:"pixelToDate",value:function(e,t,n){var a=24/n,i=e-t,o=this.getToday(),r=o.getTime()+i*a*at,s=new Date(r),c=60*(s.getTimezoneOffset()-o.getTimezoneOffset())*1e3;return s.setTime(s.getTime()+c),s}},{key:"getToday",value:function(){var e=new Date;return e.setHours(0,0,0,0),e}},{key:"monthDiff",value:function(e,t){return Math.abs(t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()))}},{key:"daysInMonth",value:function(e,t){return new Date(t,e,0).getDate()}},{key:"isLeapYear",value:function(e){return e%400===0||e%100!==0&&e%4===0}}]),e}()),ot=(n(1105),function(e){var t=e.left,n=e.width,a=e.label,i=e.className;return Object(R.jsx)("div",{className:["header-item",i||""].join(" "),style:{left:t,width:n},children:Object(R.jsx)("div",{children:a})})});ue.a.extend(qe.a),ue.a.extend(Je.a);var rt=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var a;return Object(Ve.a)(this,n),(a=t.call(this,e)).hours=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],a.renderHourLabel=function(e,t){return"shorttime"==t?e:"".concat(e,":00")},a.headerRef=void 0,a.buffer=400,a.dateFormat={year:"YYYY",month:"MMMM",shortMonth:"MMM",monthTop:"MMMM YYYY",week:"ww",weekTop:"ww MMMM YYYY",weekday:"dd",monthDate:"D",shortTime:void 0,fullTime:void 0},a.topLabels={month:"monthTop",week:"weekTop"},a.getStartDate=function(e,t){switch(t){case"year":return e.month(0).date(1);case"month":case"shortMonth":return e.date(1);case"week":return e.day(0);case"weekdays":return e.day(1);case"weekend":return e.day(0).subtract(1,"day");default:return e}},a.renderTime=function(e,t,n,i){return Object(R.jsxs)("div",{style:{position:"absolute",height:20,left:e,width:t},children:[" ",a.hours.map((function(e){return Object(R.jsx)(ot,{left:t/24*e,width:t/24,label:a.renderHourLabel(e,n)},e)}))]},i)},a.reloads=0,a.props.renderHourLabel&&(a.renderHourLabel=a.props.renderHourLabel),a.headerRef=d.a.createRef(),a.state={cache:a.getNewCache()},a}return Object(He.a)(n,[{key:"getModeIncrement",value:function(e,t){switch(t){case"year":return it.daysInYear(e.year());case"shortMonth":case"month":return e.daysInMonth();case"week":return 7;case"weekend":return 2;case"weekdays":return 5;default:return 1}}},{key:"getBox",value:function(e,t,n){var a=this.getModeIncrement(e,t);if(!n){var i=this.getStartDate(e,t).startOf("day"),o=ue()().startOf("day"),r=i.diff(o,"day");n=it.dayToPosition(r,this.props.nowPosition,this.props.dayWidth)}return{left:n,width:a*=this.props.dayWidth}}},{key:"refreshCache",value:function(){var e=this.getNewCache();this.setState({cache:e}),this.reloads++,console.log("reloads "+this.reloads)}},{key:"getNewCache",value:function(){var e,t,n;switch(this.props.mode){case Qe.DAY:e="week",t="weekday",n="fullTime";break;case Qe.WEEK:e="week",t="weekday",n="shortTime";break;case Qe.MONTH:e="month",t="weekday",n="monthDate";break;case Qe.YEAR:e="year",t=this.props.dayWidth>2?"month":"shortMonth",n="week"}for(var a=3*this.buffer,i=0-a,o={top:[],middle:[],bottom:[],weekends:[],start:i,end:this.props.mainViewportWidth+a,refreshLow:this.props.nowPosition-a,refreshHi:this.props.nowPosition+a,boxStart:i-this.buffer,boxWidth:this.props.mainViewportWidth+2*a+2*this.buffer},r={},s="",c="",d="",l=null,u=it.pixelToDate(o.boxStart,this.props.nowPosition,this.props.dayWidth),h=it.pixelToDate(o.boxStart+o.boxWidth,this.props.nowPosition,this.props.dayWidth),b=0,p=ue()(u).startOf("day");p.isBefore(h);){var m=p.format(this.dateFormat[this.topLabels[e]||e]);if(s!==m){s=m,l=this.getBox(p,e,r.top),r.top=l.left+l.width;var j=this.props.nowPosition,f=l.left,v=l.width,g=b;o.top.push({left:f-j,width:v,key:g,label:s})}var O=p.format(this.dateFormat[t]);if(c!==O){c=O,l=this.getBox(p,t,r.middle),r.middle=l.left+l.width;var x=this.props.nowPosition,y=l.left,k=l.width,w=b;o.middle.push({left:y-x,width:k,key:w,label:c})}var D=p.format(this.dateFormat[n]);if(d!==D){d=D,l=this.getBox(p,n,r.bottom),r.bottom=l.left+l.width;var S=this.props.nowPosition,T=l.left,M=l.width,E=b;("shortTime"===n||"fullTime"===n)&&this.props.dayWidth>700?o.bottom.push({time:n,left:T,width:M,key:E}):o.bottom.push({left:T-S,width:M,key:E,label:d})}var N=p.day();if(6===N)l=this.getBox(p,"weekdays",r.weekends),r.weekends=l.left+l.width;else if(0===N){l=this.getBox(p,"weekend",r.weekends);var C=this.props.nowPosition,L=l.left,I=l.width;r.weekends=l.left+l.width,o.weekends.push({left:L-C,width:I})}b++,p=p.add(1,"day")}return o}},{key:"componentDidUpdate",value:function(e){var t;if(!(null===(t=this.state)||void 0===t?void 0:t.cache))this.refreshCache();else{var n=this.state.cache.refreshLow>this.props.nowPosition,a=this.state.cache.refreshHi<this.props.nowPosition;(n||a||e.dayWidth!==this.props.dayWidth)&&this.refreshCache()}}},{key:"render",value:function(){var e,t,n,a,i=this;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{id:"timeline-header",ref:this.headerRef,className:"timeLine-main-header-viewPort",children:Object(R.jsxs)("div",{className:"timeLine-main-header-container",style:{width:nt,maxWidth:nt},children:[Object(R.jsx)("div",{className:"header-top",style:Object(f.a)({},Xe.values.header.top.style),children:null===(e=this.state.cache)||void 0===e?void 0:e.top.map((function(e){return Object(R.jsx)(ot,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)}))}),Object(R.jsx)("div",{className:"header-middle",style:Object(f.a)({},Xe.values.header.middle.style),children:this.props.dayWidth>.85&&(null===(t=this.state.cache)||void 0===t?void 0:t.middle.map((function(e){return Object(R.jsx)(ot,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)})))}),Object(R.jsx)("div",{className:"header-bottom",style:Object(f.a)({},Xe.values.header.bottom.style),children:this.props.dayWidth>2&&(null===(n=this.state.cache)||void 0===n?void 0:n.bottom.map((function(e){return e.time?i.renderTime(e.left+i.props.nowPosition,e.width,e.time,e.key):Object(R.jsx)(ot,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)})))})]})}),this.props.children(null===(a=this.state.cache)||void 0===a?void 0:a.weekends)]})}}]),n}(c.Component),st=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var a;return Object(Ve.a)(this,n),(a=t.call(this,e)).draggingPosition=void 0,a.onCreateLinkMouseDown=function(e,t){0===e.button&&(e.stopPropagation(),a.props.onStartCreateLink(a.props.item,t))},a.onCreateLinkMouseUp=function(e,t){e.stopPropagation(),a.props.onFinishCreateLink(a.props.item,t)},a.onCreateLinkTouchStart=function(e,t){2===e.touches.length&&(e.stopPropagation(),a.props.onStartCreateLink(a.props.item,t))},a.onCreateLinkTouchEnd=function(e,t){e.stopPropagation(),a.props.onFinishCreateLink(a.props.item,t)},a.doMouseDown=function(e,t){a.props.onUpdateTask&&0===e.button&&(e.stopPropagation(),a.dragStart(e.clientX,t))},a.doMouseMove=function(e){a.state.dragging&&(e.stopPropagation(),a.dragProcess(e.clientX))},a.doMouseUp=function(){a.dragEnd()},a.doTouchStart=function(e,t){a.props.onUpdateTask&&(e.stopPropagation(),a.dragStart(e.touches[0].clientX,t))},a.doTouchMove=function(e){a.state.dragging&&(e.stopPropagation(),a.dragProcess(e.changedTouches[0].clientX))},a.doTouchEnd=function(e){a.dragEnd()},a.calculateStyle=a.calculateStyle.bind(Object(Be.a)(a)),a.state={dragging:!1,left:a.props.left,width:a.props.width,mode:_e.NONE},a}return Object(He.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.dragging&&!t.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp),document.addEventListener("touchmove",this.doTouchMove),document.addEventListener("touchend",this.doTouchEnd)):!this.state.dragging&&t.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp),document.removeEventListener("touchmove",this.doTouchMove),document.removeEventListener("touchend",this.doTouchEnd))}},{key:"dragStart",value:function(e,t){this.props.onChildDrag(!0),this.draggingPosition=e,this.setState({dragging:!0,mode:t,left:this.props.left,width:this.props.width})}},{key:"dragProcess",value:function(e){if(this.draggingPosition){var t=this.draggingPosition-e,n=this.state.left,a=this.state.width;switch(this.state.mode){case _e.MOVE:n=this.state.left-t;break;case _e.MOVE_RESIZE_LEFT:n=this.state.left-t,a=this.state.width+t;break;case _e.MOVE_RESIZE_RIGHT:a=this.state.width-t}var i={item:this.props.item,position:{start:n-this.props.nowPosition,end:n+a-this.props.nowPosition}};this.props.onTaskChanging(i),this.setState({left:n,width:a}),this.draggingPosition=e}}},{key:"dragEnd",value:function(){this.props.onChildDrag(!1);var e=it.pixelToDate(this.state.left,this.props.nowPosition,this.props.dayWidth),t=it.pixelToDate(this.state.left+this.state.width,this.props.nowPosition,this.props.dayWidth);this.props.onUpdateTask&&this.props.onUpdateTask(this.props.item,{start:e,end:t}),this.setState({dragging:!1,mode:_e.NONE})}},{key:"calculateStyle",value:function(){var e=this.props.isSelected?Xe.values.dataViewPort.task.selectedStyle:Xe.values.dataViewPort.task.style,t=this.props.color||e.backgroundColor,n=this.props.item.borderColor||e.borderColor;return this.state.dragging?Object(f.a)(Object(f.a)({},e),{},{borderColor:n,backgroundColor:t,left:this.state.left,width:this.state.width,height:this.props.height-5,top:2}):Object(f.a)(Object(f.a)({},e),{},{borderColor:n,backgroundColor:t,left:this.props.left,width:this.props.width,height:this.props.height-5,top:2})}},{key:"render",value:function(){var e=this,t=this.calculateStyle();return Object(R.jsxs)("div",{className:"gantt-task rounded"+(this.props.isSelected?" selected":""),onMouseDown:function(t){return e.doMouseDown(t,_e.MOVE)},onTouchStart:function(t){return e.doTouchStart(t,_e.MOVE)},onClick:function(t){e.props.onSelectItem(e.props.item)},style:t,children:[Object(R.jsx)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:-8,height:t.height},onMouseDown:function(t){return e.doMouseDown(t,_e.MOVE_RESIZE_LEFT)},onTouchStart:function(t){return e.doTouchStart(t,_e.MOVE_RESIZE_LEFT)},children:Object(R.jsx)("div",{className:"timeLine-main-data-task-side-linker",onMouseUp:function(t){return e.onCreateLinkMouseUp(t,tt.LEFT)},onTouchEnd:function(t){return e.onCreateLinkTouchEnd(t,tt.LEFT)}})}),Object(R.jsx)("div",{style:{overflow:"hidden"},children:this.props.item.label}),Object(R.jsx)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:t.width-8,height:t.height},onMouseDown:function(t){return e.doMouseDown(t,_e.MOVE_RESIZE_RIGHT)},onTouchStart:function(t){return e.doTouchStart(t,_e.MOVE_RESIZE_RIGHT)},children:Object(R.jsx)("div",{className:"timeLine-main-data-task-side-linker",onMouseDown:function(t){return e.onCreateLinkMouseDown(t,tt.RIGHT)},onTouchStart:function(t){return e.onCreateLinkTouchStart(t,tt.RIGHT)}})})]})}}]),n}(c.Component),ct=n(1106),dt=function(e){e.left;var t=e.top,n=e.itemHeight,a=e.style,i=e.children;return Object(R.jsx)("div",{className:"timeLine-main-data-row",style:Object(f.a)(Object(f.a)(Object(f.a)({},Xe.values.dataViewPort.rows.style),a),{},{top:t,height:n}),children:i})},lt=n.n(ct)()({monitorWidth:!0,monitorHeight:!0})((function(e){e.startRow,e.endRow;var t=e.itemHeight,n=e.data,a=e.nowPosition,i=e.dayWidth,o=e.selectedItems,r=e.onSelectItem,s=e.onStartCreateLink,d=e.onFinishCreateLink,l=e.onTaskChanging,u=e.onUpdateTask,h=e.onMouseUp,b=e.onMouseLeave,p=e.onTouchEnd,m=e.onMouseDown,j=e.onMouseMove,f=e.onTouchMove,g=e.onTouchStart,O=e.onTouchCancel,x=(e.scrollLeft,e.scrollTop),y=(e.boundaries,e.height),k=e.weekends,w=e.shouldLink,D=Object(c.useState)(!1),S=Object(v.a)(D,2),T=S[0],M=S[1],E=Object(c.useRef)(null),N=Object(c.useState)("link-inactive"),C=Object(v.a)(N,2),L=(C[0],C[1]);return Object(c.useEffect)((function(){E.current&&(E.current.scrollLeft=0)}),[E.current]),E.current&&(E.current.scrollLeft=0,E.current.scrollTop=x),Object(R.jsx)("div",{ref:E,id:"timeLinedataViewPort",className:"timeLine-main-data-viewPort "+(w?"link-active":"link-inactive"),onMouseDown:function(e){return 0===e.button&&!T&&m(e,_e.NONE)},onMouseMove:function(e){return j(e,E)},onMouseUp:h,onMouseLeave:function(e){e.ctrlKey&&L("link-inactive"),b(e)},onMouseEnter:function(e){e.ctrlKey&&L("link-active")},onKeyDown:function(e){e.ctrlKey&&L("link-active")},onKeyUp:function(e){e.ctrlKey||L("link-inactive")},onTouchStart:function(e){return!T&&g(e)},onTouchMove:function(e){return f(e,E)},onTouchEnd:p,onTouchCancel:O,children:Object(R.jsxs)("div",{className:"timeLine-main-data-container",style:{height:y,width:nt,maxWidth:nt},children:[null===k||void 0===k?void 0:k.map((function(e,t){return Object(R.jsx)("div",{className:"weekend-marker",style:{height:y,zIndex:2,left:e.left+a,width:e.width}},t)})),null===n||void 0===n?void 0:n.map((function(e,n){var c=it.dateToPixel(e.start,a,i),h=it.dateToPixel(e.end,a,i)-c;return Object(R.jsx)(dt,{top:n*t,left:20,itemHeight:t,style:e.rowStyle,children:Object(R.jsx)(st,{item:e,nowPosition:a,dayWidth:i,color:e.color,left:c,width:h,height:t,onChildDrag:M,isSelected:!!(null===o||void 0===o?void 0:o.find((function(t){return t.id===e.id}))),onSelectItem:r,onStartCreateLink:s,onFinishCreateLink:d,onTaskChanging:l,onUpdateTask:u})},e.id)}))]})})}));var ut=function(e){var t=e.start,n=e.end,a=e.onSelectItem,i=e.item,o=e.isSelected,r=e.onDoubleClick,s=function(e){a&&i&&a(i)},c=function(e){r&&i&&r(i)},d=function(e,t){if(e.x>t.x){var n=function(e,t){var n={x:e.x+20,y:e.y},a=(t.y-e.y)/2,i={x:n.x,y:n.y+a},o={x:t.x-20,y:i.y};return{cpt1:n,cpt2:i,cpt3:o,cpt4:{x:o.x,y:o.y+a}}}(e,t);return"M"+[e.x,e.y,n.cpt1.x,n.cpt1.y,n.cpt2.x,n.cpt2.y,n.cpt3.x,n.cpt3.y,n.cpt4.x,n.cpt4.y,t.x,t.y].join(" ")}var a=function(e,t){var n=e.x+(t.x-e.x)/2;return{cpt1:{x:n,y:e.y},cpt2:{x:n,y:t.y}}}(e,t);return"M"+[e.x,e.y,a.cpt1.x,a.cpt1.y,a.cpt2.x,a.cpt2.y,t.x,t.y].join(" ")}(t,n);return Object(R.jsxs)("g",{className:"timeline-link",children:[Object(R.jsx)("path",{className:"gantt-connector-outline"+(o?" selected":""),pointerEvents:"stroke",onMouseDown:s,onDoubleClick:c,d:d,strokeLinejoin:"round",fill:"transparent",cursor:"pointer"}),Object(R.jsx)("path",{className:"gantt-connector"+(o?" selected":""),pointerEvents:"stroke",onMouseDown:s,onDoubleClick:c,d:d,strokeLinejoin:"round",fill:"transparent",cursor:"pointer",markerEnd:"url(#arrow)"})]})},ht=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var a;return Object(Ve.a)(this,n),(a=t.call(this,e)).init=void 0,a.lastX=void 0,a.lastY=void 0,a.doMouseMove=function(e){a.init||(a.lastX=e.clientX,a.lastY=e.clientY,a.init=!0);var t=a.state.x+(e.clientX-a.lastX),n=a.state.y+(e.clientY-a.lastY);a.lastX=e.clientX,a.lastY=e.clientY,a.setState({x:t,y:n})},a.doMouseUp=function(e){a.props.onFinishCreateLink(a.props.record.item,tt.LEFT)},a.state={x:a.props.start.x,y:a.props.start.y},a.init=!1,a.lastX=-1,a.lastY=-1,a}return Object(He.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp)}},{key:"render",value:function(){return Object(R.jsx)(ut,{start:Object(f.a)({},this.props.start),end:Object(f.a)({},this.state)},-1)}}]),n}(c.Component),bt=function(e){var t=e.selectedItems,n=e.onSelectItem,a=e.dayWidth,i=e.itemHeight,o=e.links,r=e.data,s=e.interactiveMode,d=e.taskToCreate,l=e.onFinishCreateLink,u=e.changingTask,h=(e.scrollLeft,e.nowPosition),b=e.scrollTop,p=e.onDoubleClickLink,m=e.registry,f=Object(c.useState)([]),g=Object(v.a)(f,2),O=g[0],x=g[1];function y(e,t){return{x:it.dateToPixel(t,0,a),y:e*i+i/2}}return Object(c.useEffect)((function(){if(o&&r){var e=[];if(0==r.length)return;o.forEach((function(a,i){if(a){var o=m.getTask(a.start);if(o){var r=m.getTask(a.end);if(r){var s=y(o.index,o.item.end),c=y(r.index,r.item.start);e.push(Object(R.jsx)(ut,{item:a,start:{x:s.x,y:s.y},end:{x:c.x,y:c.y},isSelected:!!(null===t||void 0===t?void 0:t.find((function(e){return e.id===a.id}))),onSelectItem:n,onDoubleClick:p},a.id))}else e.push(null)}else e.push(null)}})),x(e)}}),[t,a,o,r,i]),Object(c.useEffect)((function(){var e=m.getLinks(null===u||void 0===u?void 0:u.item.id);e&&e.forEach((function(e,a){var i=m.getTask(e.link.start);if(i){var o=m.getTask(e.link.end);if(o){var r=y(i.index,i.item.end);u.item.id===e.link.start&&(r.x=u.position.end);var s=y(o.index,o.item.start);u.item.id===e.link.end&&(s.x=u.position.start),x((function(i){var o=Object(j.a)(i);return o[e.index]=Object(R.jsx)(ut,{item:e.link,start:{x:r.x,y:r.y},end:{x:s.x,y:s.y},isSelected:!!(null===t||void 0===t?void 0:t.find((function(t){return t.id===e.link.id}))),onSelectItem:n},-a-1),o}))}}}))}),[u]),Object(R.jsxs)("svg",{x:0,y:0,width:"100%",pointerEvents:"none",style:{userSelect:"none",height:"100%"},className:"timeline-link-viewport",children:[Object(R.jsx)("defs",{children:Object(R.jsx)("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"9",markerHeight:"9",orient:"auto-start-reverse",className:"gantt-connector-arrow",children:Object(R.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",strokeLinejoin:"round"})})}),Object(R.jsxs)("g",{transform:"matrix(1,0,0,1,".concat(-(0-h),",").concat(-b,")"),children:[O,function(){if(s){var e=m.getTask(null===d||void 0===d?void 0:d.task.id);if(!e)return console.log("Failed to create link. Missing task in registry.");var t=y(e.index,e.item.end);return Object(R.jsx)(ht,{start:t,record:e,onFinishCreateLink:l})}}()]})]})},pt=function(e){var t=e.item,n=e.top,a=e.itemHeight,i=e.onSelectItem,o=(e.onUpdateTask,e.index),r=e.label,s=(e.nonEditable,e.isSelected);return Object(R.jsx)("div",{className:"timeLine-side-task-row "+(s?"selected":""),style:Object(f.a)(Object(f.a)(Object(f.a)({},Xe.values.taskList.task.style),t.rowStyle),{},{top:n,height:a}),onClick:function(){return i(t)},children:t.tableContent?t.tableContent(t,a):Object(R.jsxs)("div",{tabIndex:o,style:{width:"100%"},children:[" ",r," "]})})},mt=d.a.memo((function(e){var t=e.onScroll,n=e.itemHeight,a=e.selectedItems,i=e.onSelectItem,o=e.onUpdateTask,r=e.nonEditable,s=e.data,c=void 0===s?[]:s,l=(e.startRow,e.endRow,d.a.useRef(null));return Object(R.jsxs)("div",{className:"timeLine-side",children:[Object(R.jsx)("div",{className:"timeLine-side-title",style:Xe.values.taskList.title.style,children:Object(R.jsx)("div",{children:Xe.values.taskList.title.label})}),Object(R.jsx)("div",{ref:l,className:"timeLine-side-task-viewPort scrollbar",onScroll:function(){return t(l.current.scrollTop)},children:Object(R.jsx)("div",{className:"timeLine-side-task-container",style:{height:c.length>0?c.length*n:10},children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(R.jsx)(pt,{index:t,item:e,label:e.name,top:t*n,itemHeight:n,onUpdateTask:o,onSelectItem:i,nonEditable:r,isSelected:!!(null===a||void 0===a?void 0:a.find((function(t){return t.id===e.id})))},t)}))})})]})})),jt=function(){function e(){Object(Ve.a)(this,e),this.link=void 0,this.data=void 0,this.data={},this.link={}}return Object(He.a)(e,[{key:"registerData",value:function(e){if(e){this.data={};for(var t=0;t<e.length;t++)this.data[e[t].id]={item:e[t],index:t}}}},{key:"registerLinks",value:function(e){var t=this;e&&(this.link={},e.forEach((function(e,n){t.link[e.start]=t.link[e.start]||[],t.link[e.start].push({link:e,index:n}),t.link[e.end]=t.link[e.end]||[],t.link[e.end].push({link:e,index:n})})))}},{key:"getTask",value:function(e){if(e)return this.data[e]}},{key:"getLinks",value:function(e){if(e)return this.link[e]}}]),e}(),ft=function e(){var t=this;Object(Ve.a)(this,e),this.lower_limit=void 0,this.lower_data_limit=void 0,this.upper_limit=void 0,this.upper_data_limit=void 0,this.dataToRender=void 0,this.nowPosition=void 0,this.dayWidth=void 0,this.onHorizonChange=void 0,this.initialise=function(e,n,a,i){t.nowPosition=a,t.dayWidth=i,t.setLimits(e,n),t.loadDataHorizon()},this.setStartEnd=function(e,n,a,i){t.nowPosition=a,t.dayWidth=i,t.needData(e,n)&&(t.setLimits(e,n),t.loadDataHorizon())},this.needData=function(e,n){return t.lower_data_limit&&t.upper_data_limit?e<t.lower_data_limit||n>t.upper_data_limit:console.log("Data Controller not initialized before load horizon")},this.setLimits=function(e,n){t.lower_limit=e-1e3,t.lower_data_limit=e-750,t.upper_limit=n+1e3,t.upper_data_limit=n+750},this.loadDataHorizon=function(){if(!t.nowPosition||!t.dayWidth)return console.log("Data Controller not initialized before load horizon");var e=it.pixelToDate(t.lower_limit,t.nowPosition,t.dayWidth),n=it.pixelToDate(t.upper_limit,t.nowPosition,t.dayWidth);t.onHorizonChange&&t.onHorizonChange(e,n)},this.lower_limit=0,this.upper_limit=0,this.dataToRender=[]},vt=n(75);function gt(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))}var Ot=function(){function e(t){var n=this;Object(Ve.a)(this,e),this.friction=0,this.damping=0,this.maxSpeed=void 0,this.refreshRate=60,this.centroid={x:0,y:0,z:0},this.velocity={x:0,y:0,z:0},this._lastT=void 0,this.mass=void 0,this.cutoffSpeed=1,this.cutoffForce=1,this.forces=[],this.motionTimer=void 0,this.motion=function(){var e,t={x:0,y:0,z:0},a=Object(vt.a)(n.forces);try{for(a.s();!(e=a.n()).done;){var i=e.value.getForceVector();i&&(t.x+=i.x,t.y+=i.y,t.z+=i.z)}}catch(g){a.e(g)}finally{a.f()}var o=gt(n.velocity),r=o?n.velocity.x/o:0,s=o?n.velocity.y/o:0,c=o?n.velocity.z/o:0,d=o>n.cutoffSpeed?n.mass*n.friction:0;t.x-=r*d,t.y-=s*d,t.z-=c*d;var l=o>n.cutoffSpeed?n.mass*n.damping*o:0;t.x-=r*l,t.y-=s*l,t.z-=c*l;var u=t.x/n.mass,h=t.y/n.mass,b=t.z/n.mass,p=Date.now(),m=n._lastT?(p-n._lastT)/1e3:0,j={x:n.velocity.x+u*m,y:n.velocity.y+h*m,z:n.velocity.z+b*m},f=gt(j);if(n.maxSpeed&&f>n.maxSpeed){var v=n.maxSpeed/f;j.x*=v,j.y*=v,j.z*=v,f=n.maxSpeed}return n.centroid.x+=(n.velocity.x+j.x)/2*m,n.centroid.y+=(n.velocity.y+j.y)/2*m,n.centroid.z+=(n.velocity.z+j.z)/2*m,Object.assign(n.velocity,j),t},this.motionLoop=function(){window.clearTimeout(n.motionTimer);var e=n.motion();n._lastT=Date.now(),gt(e)>n.cutoffForce||gt(n.velocity)>n.cutoffSpeed?(n.onMoved&&n.onMoved(Object(f.a)({},n.centroid),Object(f.a)({},n.velocity)),n.motionTimer=window.setTimeout(n.motionLoop,1e3/n.refreshRate)):n._lastT=void 0},this.forceChange=function(){n.motionLoop()},t.mass||(this.centroid=Object.assign({},this.centroid,t.centroid)),this.friction=t.friction||this.friction,this.damping=t.damping||this.damping,this.maxSpeed=t.maxSpeed||this.maxSpeed,this.refreshRate=t.refreshRate||this.refreshRate,this.mass=t.mass}return Object(He.a)(e,[{key:"attachForce",value:function(e){this.forces.find((function(t){return t===e}))||(this.forces.push(e),e.attachObject(this))}},{key:"detatchForce",value:function(e){this.forces=this.forces.filter((function(t){return t===e})),e.detatchObject()}}]),e}(),xt=function(){function e(t,n){Object(Ve.a)(this,e),this._fulcrum={x:0,y:0,z:0},this._attachment=void 0,this.springK=0,this._fulcrum=Object.assign({},this._fulcrum,t),this.springK=n}return Object(He.a)(e,[{key:"fulcrum",get:function(){return Object(f.a)({},this._fulcrum)}},{key:"attachObject",value:function(e){this._attachment=e}},{key:"getObject",value:function(){return this._attachment}},{key:"detatchObject",value:function(){this._attachment=void 0}},{key:"getForceVector",value:function(){if(this._attachment){var e=this._attachment,t={x:this._fulcrum.x-e.centroid.x,y:this._fulcrum.y-e.centroid.y,z:this._fulcrum.z-e.centroid.z},n=gt(t),a=n?{x:t.x/n,y:t.y/n,z:t.z/n}:{x:0,y:0,z:0},i=n*this.springK;return{x:i*a.x,y:i*a.y,z:i*a.z}}}},{key:"setFulcrum",value:function(e){var t;this._fulcrum=e,null===(t=this._attachment)||void 0===t||t.forceChange()}}]),e}(),yt=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var a;Object(Ve.a)(this,n),(a=t.call(this,e)).dragging=void 0,a.draggingPosition=void 0,a.dc=void 0,a.registry=void 0,a.pxToScroll=void 0,a.initialise=void 0,a.velocity=void 0,a.scrollTime=void 0,a.taskViewPortRef=void 0,a.dataViewPortRef=void 0,a.physicsObject=void 0,a.mouseRubberBand=void 0,a.onSize=function(e){if(!e.width||!e.height)return console.log("Failed onSize: ",e);a.calculateVerticalScrollVariables(e),a.initialise||(a.dc.initialise(a.state.scrollLeft+a.state.nowPosition,a.state.scrollLeft+a.state.nowPosition+e.width,a.state.nowPosition,a.props.dayWidth||a.state.dayWidth),a.initialise=!0),a.setStartEnd();var t=Math.ceil(e.height/a.props.itemHeight),n=a.calcNumVisibleDays(e),i=a.calculateStartEndRows(t,a.props.data,a.state.scrollTop);a.setState({numVisibleRows:t,numVisibleDays:n,startRow:i.start,endRow:i.end,size:e})},a.verticalChange=function(e){if(e!==a.state.scrollTop){var t=a.calculateStartEndRows(a.state.numVisibleRows,a.props.data,e);t.start!==a.state.start&&a.setState({scrollTop:e,startRow:t.start,endRow:t.end})}},a.calculateStartEndRows=function(e,t,n){var i=Math.trunc(n/a.props.itemHeight);return{start:i,end:i+(e>=t.length?t.length:i+e)}},a.setStartEnd=function(){a.dc.setStartEnd(a.state.scrollLeft,a.state.scrollLeft+a.state.size.width,a.state.nowPosition,a.state.dayWidth)},a.horizontalChange=function(e){var t=e%a.pxToScroll,n=Math.trunc((t-e)/a.state.dayWidth);a.setStartEnd();var i={currentDay:n,nowPosition:e,scrollLeft:t};a.setState(i)},a.calculateVerticalScrollVariables=function(e){a.pxToScroll=(1-e.width/nt)*nt-1},a.onHorizonChange=function(e,t){a.props.onHorizonChange&&a.props.onHorizonChange(e,t)},a.doMouseDown=function(e){"timeLinedataViewPort"===e.currentTarget.id&&(a.physicsObject.forces.forEach((function(e){return a.physicsObject.detatchForce(e)})),a.mouseRubberBand=new xt({x:a.physicsObject.centroid.x,y:0,z:0},30),a.physicsObject.attachForce(a.mouseRubberBand),a.physicsObject.onMoved=function(e){var t=e.x;a.horizontalChange(t)}),a.dragging=!0,a.draggingPosition=e.clientX},a.doMouseMove=function(e){if(a.dragging){var t,n=a.draggingPosition-e.clientX;if(0!==n)null===(t=a.mouseRubberBand)||void 0===t||t.setFulcrum(Object(f.a)(Object(f.a)({},a.mouseRubberBand.fulcrum),{},{x:a.mouseRubberBand.fulcrum.x-n})),a.draggingPosition=e.clientX}},a.doMouseUp=function(){a.dragging=!1,a.mouseRubberBand&&a.physicsObject.detatchForce(a.mouseRubberBand)},a.doMouseLeave=function(){a.setState({dragging:!1}),a.dragging=!1,a.mouseRubberBand&&a.physicsObject.detatchForce(a.mouseRubberBand)},a.doTouchStart=function(e){a.setState({dragging:!0,draggingPosition:e.touches[0].clientX})},a.doTouchEnd=function(e){a.setState({dragging:!1})},a.doTouchMove=function(e){if(a.state.dragging){var t=a.state.draggingPosition-e.touches[0].clientX;if(0!==t){var n=Date.now();a.velocity=a.scrollTime?t/(n-a.scrollTime):0,a.scrollTime=n,a.setState({draggingPosition:e.touches[0].clientX}),a.horizontalChange(a.state.scrollLeft+t)}}},a.doTouchCancel=function(e){a.setState({dragging:!1})},a.onTaskListSizing=function(e){a.setState((function(t){return{sideStyle:{width:t.sideStyle.width-e}}}))},a.onSelectItem=function(e){a.props.onSelectItem&&a.props.onSelectItem(e)},a.onStartCreateLink=function(e,t){a.setState({interactiveMode:!0,taskToCreate:{task:e,position:t}})},a.onFinishCreateLink=function(e,t){a.props.onCreateLink&&e&&a.state.taskToCreate&&a.state.taskToCreate.task.id!==e.id&&a.props.onCreateLink({start:a.state.taskToCreate,end:{task:e,position:t}}),a.setState({interactiveMode:!1,taskToCreate:null})},a.onTaskChanging=function(e){a.setState({changingTask:e})},a.calcNumVisibleDays=function(e){return Math.ceil(e.width/a.state.dayWidth)+30},a.dragging=!1,a.draggingPosition=0,a.dc=new ft,a.physicsObject=new Ot({mass:1,damping:5,friction:.4}),a.dc.onHorizonChange=a.onHorizonChange,a.initialise=!1,a.dataViewPortRef=a.props.dataViewPortRef||d.a.createRef(),a.taskViewPortRef=a.props.taskViewPortRef||d.a.createRef(),a.registry=new jt,a.pxToScroll=1900;var i=a.props.dayWidth||a.getDayWidth(a.props.mode);return Xe.load(a.props.config),a.state={currentDay:0,nowPosition:0,startRow:0,endRow:10,sideStyle:{width:.4*window.innerWidth},scrollLeft:0,scrollTop:0,numVisibleRows:40,numVisibleDays:60,dayWidth:i,interactiveMode:!1,taskToCreate:null,links:[],mode:a.props.dayWidth?a.getMode(a.props.dayWidth):a.props.mode||Qe.MONTH,size:{width:1,height:1},changingTask:null},a}return Object(He.a)(n,[{key:"getMode",value:function(e){return e>=et.DAY_IN_DAY_MODE?Qe.DAY:e>=et.DAY_IN_WEEK_MODE?Qe.WEEK:e>=et.DAY_IN_MONTH_MODE?Qe.MONTH:Qe.YEAR}},{key:"getDayWidth",value:function(e){switch(e){case Qe.DAY:return et.DAY_IN_DAY_MODE;case Qe.WEEK:return et.DAY_IN_WEEK_MODE;case Qe.MONTH:return et.DAY_IN_MONTH_MODE;case Qe.YEAR:return et.DAY_IN_YEAR_MODE;default:return et.DAY_IN_MONTH_MODE}}},{key:"checkMode",value:function(){var e=this;if(this.props.mode&&this.props.mode!==this.state.mode){var t=this.getDayWidth(this.props.mode),n=Math.ceil(-this.state.currentDay*this.state.dayWidth/this.pxToScroll);this.setState({nowPosition:n*this.pxToScroll});var a=(this.state.currentDay*this.state.dayWidth+this.state.nowPosition)%this.pxToScroll;this.setState((function(n){return{scrollLeft:a,mode:e.props.mode,dayWidth:e.props.dayWidth||t,numVisibleDays:e.calcNumVisibleDays(n.size)}}))}}},{key:"componentDidMount",value:function(){this.setData(),this.setLinks();var e=document.getElementById("timeLine"),t=(null===e||void 0===e?void 0:e.getBoundingClientRect().width)||20,n=window.innerWidth>1e3?.4*window.innerWidth:t;this.setState({sideStyle:{width:n}})}},{key:"componentWillUnmount",value:function(){this.mouseRubberBand=void 0,this.physicsObject=void 0}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.data!==e.data&&this.setData(),this.props.links!==e.links&&this.setLinks(),this.props.dayWidth!==e.dayWidth){var n=this.props.dayWidth||this.getDayWidth(this.state.mode);this.setState((function(e){return{nowPosition:e.nowPosition*n/e.dayWidth,dayWidth:n,mode:t.props.dayWidth?t.getMode(t.props.dayWidth):t.state.mode}}))}}},{key:"setData",value:function(){var e=this.calculateStartEndRows(this.state.numVisibleRows,this.props.data,this.state.scrollTop);this.setState({startRow:e.start,endRow:e.end}),this.registry.registerData(this.props.data||[])}},{key:"setLinks",value:function(){this.registry.registerLinks(this.props.links||[])}},{key:"render",value:function(){var e=this;this.checkMode(),this.state.size||console.log(this.state);var t=document.getElementById("timeLinedataViewPort"),n=(null===t||void 0===t||t.getBoundingClientRect().height,(null===t||void 0===t?void 0:t.getBoundingClientRect().width)||20),a=this.props.data?this.props.data.length*this.props.itemHeight:10;return Object(R.jsxs)("div",{className:"timeLine rounded",children:[Object(R.jsxs)("div",{className:"timeLine-side-main",style:this.state.sideStyle,children:[Object(R.jsx)(mt,{itemHeight:this.props.itemHeight,startRow:this.state.startRow,endRow:this.state.endRow,data:this.props.data,selectedItems:this.props.selectedItems,onSelectItem:this.onSelectItem,onUpdateTask:this.props.onUpdateTask,onScroll:this.verticalChange,nonEditable:this.props.nonEditableName}),Object(R.jsx)(Ge,{onTaskListSizing:this.onTaskListSizing})]}),Object(R.jsx)("div",{className:"timeLine-main",children:Object(R.jsx)(rt,{numVisibleDays:this.state.numVisibleDays,currentDay:this.state.currentDay,nowPosition:this.state.nowPosition,dayWidth:this.state.dayWidth,mode:this.state.mode,scrollLeft:this.state.scrollLeft,mainViewportHeight:a,mainViewportWidth:n,children:function(t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(lt,{scrollLeft:e.state.scrollLeft,scrollTop:e.state.scrollTop,itemHeight:e.props.itemHeight,nowPosition:e.state.nowPosition,startRow:e.state.startRow,endRow:e.state.endRow,data:e.props.data||[],height:a,selectedItems:e.props.selectedItems,dayWidth:e.state.dayWidth,onMouseDown:e.doMouseDown,onMouseMove:e.doMouseMove,onMouseUp:e.doMouseUp,onMouseLeave:e.doMouseLeave,onTouchStart:e.doTouchStart,onTouchMove:e.doTouchMove,onTouchEnd:e.doTouchEnd,onTouchCancel:e.doTouchCancel,onSelectItem:e.onSelectItem,onUpdateTask:e.props.onUpdateTask,onTaskChanging:e.onTaskChanging,onStartCreateLink:e.onStartCreateLink,onFinishCreateLink:e.onFinishCreateLink,boundaries:{lower:e.state.scrollLeft,upper:e.state.scrollLeft+e.state.size.width},onSize:e.onSize,weekends:t,shouldLink:e.props.shouldLink}),Object(R.jsx)(bt,{scrollLeft:e.state.scrollLeft,scrollTop:e.state.scrollTop,data:e.props.data,nowPosition:e.state.nowPosition,dayWidth:e.state.dayWidth,interactiveMode:e.state.interactiveMode,taskToCreate:e.state.taskToCreate,onFinishCreateLink:e.onFinishCreateLink,changingTask:e.state.changingTask,selectedItems:e.props.selectedItems,onSelectItem:e.onSelectItem,itemHeight:e.props.itemHeight,links:e.props.links,onDoubleClickLink:e.props.onDeleteLink,registry:e.registry})]})}})})]})}}]),n}(c.Component);yt.defaultProps={data:[],links:[],itemHeight:20,dayWidth:24,nonEditableName:!1,mode:Qe.MONTH};var kt=yt,wt=n(792),Dt=n(1121),St=n(865),Tt=n(68),Mt=n(828),Et=(s.GREEN,s.BLUE,s.SAND,s.PINK,s.LAVENDER,[{id:"link-1-2",start:"first",end:"second"}]),Nt=function(){var e=Object(Mt.a)("60956beed0085e1978fc395f").value,t=Object(O.f)((function(e){return e.workflow.tasks})),n=Object(c.useState)(40),a=Object(v.a)(n,2),i=a[0],o=a[1],r=Object(c.useMemo)((function(){return(null===e||void 0===e?void 0:e.milestones.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{tasks:e.tasks.map((function(e){return t[e]})).filter((function(e){return!!e}))})})))||[]}),[e,t]);function s(e,t){return Object(R.jsx)(Ae.a,{fluid:!0,children:Object(R.jsxs)(ge.a,{style:{height:t},children:[Object(R.jsx)(Oe.a,{tag:I.a,xs:"auto",align:"center",children:Object(R.jsx)(L.a,{icon:"level-up-alt",transform:"rotate-90"})}),Object(R.jsx)(Oe.a,{tag:I.a,align:"center",children:Object(R.jsx)("h6",{className:"my-0 py-0",children:e.title})})]})})}var d={color:Tt.g.primary,progress:0,strokeWidth:11,trailWidth:11,trailColor:Tt.e[200],easing:"easeInOut",duration:2e3,svgStyle:{"stroke-linecap":"round",display:"block",width:"100%"},text:{autoStyleContainer:!1},step:function(e,t){var n=Math.round(100*t.value());t.setText("<span class='value'>"+n+"</span>")}};function l(e,t){var n;return Object(R.jsx)(Ae.a,{fluid:!0,children:Object(R.jsxs)(ge.a,{style:{height:t},children:[Object(R.jsx)(Oe.a,{tag:I.a,align:"center",children:Object(R.jsx)("p",{className:"fs--1 my-0 py-0",children:e.title})}),Object(R.jsx)(Oe.a,{tag:I.a,align:"center",xs:2,children:Object(R.jsx)("p",{className:"fs--1 my-0 py-0",children:ue()(e.startDate).format("M/D/YY")})}),Object(R.jsx)(Oe.a,{tag:I.a,align:"center",xs:2,children:Object(R.jsx)("p",{className:"fs--1 my-0 py-0",children:ue()(e.endDate).format("M/D/YY")})}),Object(R.jsx)(Oe.a,{tag:I.a,align:"center",xs:2,children:Object(R.jsx)(Dt.Circle,{progress:(null===(n=e.progress[e.progress.length-1])||void 0===n?void 0:n.percent)/100||0,options:d,container_class:"progress-circle progress-circle-taskmenu",container_style:{width:.67*t+"px",height:.67*t+"px"}})})]})})}var u=Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.reduce((function(e,t){return[].concat(Object(j.a)(e),[Object(f.a)(Object(f.a)({},t),{},{id:t._id,name:t.title,start:t.startDate,end:t.endDate,rowStyle:{backgroundColor:"rgba(150, 150, 190, 0.1)",borderBottom:"2px solid black"},tableContent:s,color:"rgb(245, 148, 134)"})],Object(j.a)(t.tasks.map((function(e){var t;return Object(f.a)(Object(f.a)({},e),{},{id:e._id,name:e.title,start:e.startDate,end:e.endDate,tableContent:l,color:100===(null===(t=e.progress[e.progress.length-1])||void 0===t?void 0:t.percent)?Tt.g.success:"rgb(145, 148, 184)"})}))))}),[])}),[r]),h=Object(c.useState)(Et),b=Object(v.a)(h,2),p=b[0],m=b[1],g=Object(c.useState)(Qe.YEAR),x=Object(v.a)(g,2),y=x[0],k=x[1],w=Object(c.useState)(40),D=Object(v.a)(w,2),S=D[0],T=D[1],M=Object(c.useState)(!1),E=Object(v.a)(M,2),N=E[0],C=E[1],P=Object(c.useState)([]),A=Object(v.a)(P,2),Y=A[0],z=A[1];Object(St.a)("isDark");return Object(R.jsxs)(ie.a,{children:[Object(R.jsxs)(Ye.a,{className:"bg-light",children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(Oe.a,{children:Object(R.jsx)("h3",{children:"Workflow Timelines"})})}),Object(R.jsx)("hr",{}),Object(R.jsxs)(ge.a,{children:[Object(R.jsx)(Oe.a,{xs:"auto",children:Object(R.jsx)("h6",{children:"Row Height:"})}),Object(R.jsx)(Oe.a,{children:Object(R.jsx)(ze.a,{id:"item-height-selector",step:"1",min:"20",max:"50",type:"range",value:S,onChange:function(e){return T(+e.target.value)}})}),Object(R.jsx)(Oe.a,{xs:"auto",className:"border-left",children:Object(R.jsx)("h6",{children:"Time Span:"})}),Object(R.jsx)(Oe.a,{className:"border-right",children:Object(R.jsx)(ze.a,{id:"day-width-selector",step:"1",min:"1",max:"100",type:"range",value:i,onChange:function(e){return o(+e.target.value)}})}),Object(R.jsx)(Oe.a,{xs:"auto",children:Object(R.jsx)(ze.a,{id:"link-mode",type:"checkbox",label:"Link Mode",checked:N,onChange:function(e){return C(e.target.checked)}})}),Object(R.jsx)(Oe.a,{xs:"auto",children:Object(R.jsxs)(We.a,{size:"sm",children:[Object(R.jsx)(_.a,{onClick:function(){return k(Qe.DAY)},color:"primary",children:"Day"}),Object(R.jsx)(_.a,{onClick:function(){return k(Qe.WEEK)},color:"primary",children:"Week"}),Object(R.jsx)(_.a,{onClick:function(){return k(Qe.MONTH)},color:"primary",children:"Month"}),Object(R.jsx)(_.a,{onClick:function(){return k(Qe.YEAR)},color:"primary",children:"Year"})]})}),Object(R.jsx)(Oe.a,{xs:"auto",children:Object(R.jsx)(_.a,{onClick:function(){return z([])},size:"sm",children:"Clear Selections"})})]})]}),Object(R.jsx)(oe.a,{children:Object(R.jsx)(kt,{data:u,links:p,onCreateLink:function(e){return m((function(t){return[].concat(Object(j.a)(t),[{id:Object(wt.a)(),start:e.start.task.id,end:e.end.task.id}])}))},onDeleteLink:function(e){return m((function(t){return t.filter((function(t){return e.id!==t.id}))}))},onUpdateTask:function(e,t){console.log(e,t)},onSelectItem:function(e){return z((function(t){return t.find((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):[].concat(Object(j.a)(t),[e])}))},selectedItems:Y,config:{header:{top:{style:{}},middle:{style:{},selectedStyle:{}},bottom:{style:{},selectedStyle:{}}}},itemHeight:S,mode:y,shouldLink:N,dayWidth:1471.8*Math.exp(-.079*i)})})]})};t.default=function(e){var t=e.match.url;return Object(R.jsxs)(l.d,{children:[Object(R.jsx)(l.b,{path:"".concat(t,"/assignments"),component:Re}),Object(R.jsx)(l.b,{path:"".concat(t,"/teams"),component:u.a}),Object(R.jsx)(l.b,{path:"".concat(t,"/workload"),exact:!0,component:u.a}),Object(R.jsx)(l.b,{path:"".concat(t,"/approvals"),exact:!0,component:u.a}),Object(R.jsx)(l.b,{path:"".concat(t,"/timelines"),exact:!0,component:Nt}),Object(R.jsx)(l.a,{to:"/errors/404"})]})}},811:function(e,t,n){"use strict";var a=n(3),i=n(40),o=(n(1),n(899)),r=n(879),s=n(407),c=n(902),d=n(2),l=["label","formClass","feedback","valid","invalid","isTooltipFeedback","labelProps"],u=["id"];t.a=function(e){var t=e.label,n=e.formClass,h=void 0===n?"":n,b=e.feedback,p=e.valid,m=e.invalid,j=e.isTooltipFeedback,f=e.labelProps,v=Object(i.a)(e,l),g=v.id,O=Object(i.a)(v,u);return Object(d.jsxs)(o.a,{className:h,children:[t&&Object(d.jsx)(r.a,Object(a.a)(Object(a.a)({htmlFor:g},f),{},{children:t})),Object(d.jsx)(s.a,Object(a.a)({id:g,valid:p,invalid:m},O)),b&&Object(d.jsx)(c.a,{valid:p,invalid:m,tooltip:j,children:b})]})}},815:function(e,t,n){"use strict";n(1);var a=n(826),i=n(45),o=n(402),r=n(366),s=n(2);t.a=function(e){var t=e.dataLoader,n=(e.size,e.className),c=e.children;return(null===t||void 0===t?void 0:t.loading)?Object(s.jsx)(a.a,{}):(null===t||void 0===t?void 0:t.error)?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(o.a,{className:"flex-center py-5 "+n,children:Object(s.jsx)(r.a,{xs:"auto",children:Object(s.jsx)(i.a,{icon:"exclamation-circle",className:[{s:"fs-0",m:"fs-1",l:"fs-2",xl:"fs-4"},"text-danger"].join(" ")})})}),Object(s.jsx)(o.a,{className:"flex-center py-5 "+n,children:t.error})]}):Object(s.jsx)(s.Fragment,{children:c})}},816:function(e,t,n){"use strict";var a=n(3),i=n(40),o=(n(1),n(7)),r=n.n(o),s=n(276),c=n(45),d=n(2),l=["icon","iconAlign","iconClassName","transform","children"];t.a=function(e){var t=e.icon,n=e.iconAlign,o=void 0===n?"left":n,u=e.iconClassName,h=e.transform,b=e.children,p=Object(i.a)(e,l);return Object(d.jsxs)(s.a,Object(a.a)(Object(a.a)({},p),{},{children:["right"===o&&b,Object(d.jsx)(c.a,{icon:t,className:r()(u,{"mr-1":b&&"left"===o,"ml-1":b&&"right"===o}),transform:h}),"left"===o&&b]}))}},818:function(e,t,n){"use strict";n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return y}));var a=n(75),i=n(22),o=n.n(i),r=n(3),s=n(50),c=n(860),d=n(265),l=n(107),u=n(819),h=d.a,b=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,i,s,d,h,b,p,m,j,f,v,g,O,x,y,k,w,D;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t.documents),a=[],i=[],s=!0,d=!1,e.prev=5,b=Object(c.a)(n);case 7:return e.next=9,b.next();case 9:return p=e.sent,s=p.done,e.next=13,p.value;case 13:if(m=e.sent,s){e.next=25;break}return v="document",/\.png$|\.jpg$|\.gif$|\.tiff$|\.jpeg/i.test((f=m).path)&&(v="photo"),e.next=20,Object(l.a)(Object(u.a)(f.base64),v,f.path);case 20:(null===(g=e.sent)||void 0===g?void 0:g.success)&&(null===(j=g.files)||void 0===j?void 0:j[v])&&("photo"===v?i.push({location:null===(O=g.files)||void 0===O?void 0:O[v],title:f.path}):"document"==v&&a.push({location:null===(x=g.files)||void 0===x?void 0:x[v].name,thumb:(null===(y=g.files)||void 0===y?void 0:y[v].thumb)?{location:null===(k=g.files)||void 0===k?void 0:k[v].thumb}:void 0,title:f.path}));case 22:s=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),d=!0,h=e.t0;case 31:if(e.prev=31,e.prev=32,s||null==b.return){e.next=36;break}return e.next=36,b.return();case 36:if(e.prev=36,!d){e.next=39;break}throw h;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return w=Object(r.a)(Object(r.a)({},t),{},{documents:a,photos:i}),D=[{name:"createStage",data:w}],e.abrupt("return",{actions:D});case 44:case"end":return e.stop()}}),e,null,[[5,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}();h.create=b;h.getOne=function(e){return{actions:[{name:"getStageDetails",data:{stageId:e}}]}};var p=function(e){return{actions:[{name:"getStageIdentifiers",data:{identifier:e}}]}};h.getStageIdentifiers=p;var m=function(e){return{actions:[{name:"createStageTag",data:{tag:e}}]}};h.createNewTag=m;h.createNewType=function(e){return{actions:[{name:"createStageType",data:{title:e}}]}};var j=function(e,t,n,a){return{actions:[{name:"addStageMember",data:{stageId:e,organizationId:t,personId:n,role:a}}]}};h.addStageMember=j;var f=function(e,t,n){return{actions:[{name:"addStageOrganization",data:{stageId:e,organizationId:t,role:n}}]}};h.addStageOrganization=f;var v=function(e,t){return{actions:[{name:"createNote",data:{body:e,stageId:t}}]}};h.postNote=v;var g=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var i,r,s,c,d,h,b,p,m,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],r=Object(a.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return d=s.value,e.next=8,Object(l.a)(Object(u.a)(d.base64),"document",d.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(c=h.files)||void 0===c?void 0:c.document)&&i.push({location:null===(b=h.files)||void 0===b?void 0:b.document.name,thumb:(null===(p=h.files)||void 0===p?void 0:p.document.thumb)?{location:null===(m=h.files)||void 0===m?void 0:m.document.thumb}:void 0,title:d.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return j=[{name:"addStageDocuments",data:{documents:i,stageId:n}}],e.abrupt("return",{actions:j});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();h.addStageDocuments=g;var O=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var i,r,s,c,d,h,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],r=Object(a.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return d=s.value,e.next=8,Object(l.a)(Object(u.a)(d.base64),"photo",d.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(c=h.files)||void 0===c?void 0:c.photo)&&i.push({location:null===(b=h.files)||void 0===b?void 0:b.photo,title:d.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return p=[{name:"addStagePhotos",data:{photos:i,stageId:n}}],e.abrupt("return",{actions:p});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();h.addStagePhotos=O;var x=function(e,t){return{actions:[{name:"updateStage",data:Object(r.a)({stageId:e},t)}]}};h.updateStage=x;var y=function(e,t){return{actions:[{name:"timesheetCondensedData",data:{personId:e,activeOnly:t}}]}};h.getCondensedTimesheetInfo=y},819:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:a})}},824:function(e,t,n){"use strict";var a=n(3),i=n(26),o=n(40),r=n(45),s=n(74),c=n.n(s),d=n(1),l=n(992),u=n(407),h=n(993),b=n(276),p=n(834),m=n(2),j=["dateFormat","timeFormat","value","onChange","onBlur","pickerProps","size","autoFillBlank","buttonColor"];t.a=function(e){var t=e.dateFormat,n=void 0===t?"MM/DD/YY":t,s=e.timeFormat,f=void 0===s?"hh:mm A":s,v=e.value,g=e.onChange,O=(e.onBlur,e.pickerProps),x=e.size,y=e.autoFillBlank,k=e.buttonColor,w=void 0===k?"primary":k,D=Object(o.a)(e,j),S=Object(d.useState)(""),T=Object(i.a)(S,2),M=T[0],E=T[1],N=Object(d.useState)(!1),C=Object(i.a)(N,2),L=C[0],I=C[1],P=Object(d.useState)(!0),_=Object(i.a)(P,2),R=_[0],A=_[1],Y=n&&f?n+" "+f:n||f;return Object(d.useEffect)((function(){if(!R||(A(!1),v||y)){var e=c()(v);e.isValid()?E(e.format(Y)):E(v)}}),[v]),Object(m.jsxs)("div",{children:[Object(m.jsxs)(l.a,{children:[Object(m.jsx)(u.a,Object(a.a)({onChange:function(e){return E(e.target.value)},onBlur:function(){var e=c()(M);e.isValid()?g&&g(e.format(Y)):g&&g(M)},value:M,size:x},D)),Object(m.jsx)(h.a,{addonType:"append",children:Object(m.jsx)(b.a,{outline:!0,color:w,onClick:function(){return I((function(e){return!e}))},size:x,children:Object(m.jsx)(r.a,{icon:"calendar"})})})]}),Object(m.jsx)(p.a,Object(a.a)({dateFormat:n,timeFormat:f,onChange:function(e){var t=c()(e);t.isValid()&&(E(t.format(Y)),g&&g(t.format(Y)))},value:M,dropLeft:!0,open:L,onClose:function(e){I(!1),(null===O||void 0===O?void 0:O.onClose)&&O.onClose(e)}},O))]})}},826:function(e,t,n){"use strict";var a=n(3),i=(n(1),n(402)),o=n(366),r=n(263),s=n(2);t.a=function(e){return Object(s.jsx)(i.a,{className:"flex-center py-5",children:Object(s.jsx)(o.a,{xs:"auto",children:Object(s.jsx)(r.a,Object(a.a)({width:50},e))})})}},828:function(e,t,n){"use strict";var a=n(818),i=n(144);t.a=function(e){return Object(i.a)({actionCreator:a.i.getOne,postParams:e,selector:function(t){return t.workflow.stages[e]},deduplicate:["getStageDetails",e]})}},832:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n(22),i=n.n(a),o=n(75),r=n(50),s=n(3),c=n(819),d=n(107),l=n(265).b;l.create=function(e,t){return{actions:[{name:"addTask",data:Object(s.a)(Object(s.a)({},e),{},{milestoneId:t})}]}};var u=function(e){return{actions:[{name:"updateTask",data:e}]}};l.update=u;var h=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r,s,l,u,h,b,p,m,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=Object(o.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return u=s.value,e.next=8,Object(d.a)(Object(c.a)(u.base64),"document",u.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(l=h.files)||void 0===l?void 0:l.document)&&a.push({location:null===(b=h.files)||void 0===b?void 0:b.document.name,thumb:(null===(p=h.files)||void 0===p?void 0:p.document.thumb)?{location:null===(m=h.files)||void 0===m?void 0:m.document.thumb}:void 0,title:u.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return j=[{name:"addTaskDocuments",data:{documents:a,taskId:n}}],e.abrupt("return",{actions:j});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();l.addTaskDocuments=h;var b=function(e,t,n,a,i){return{actions:[{name:"createAssignment",data:{taskId:e,assignment:{assignees:t,description:n,assignedHours:a,dueDate:i}}}]}};l.createAssignment=b;var p=function(e,t){return{actions:[{name:"updateAssignment",data:Object(s.a)({assignmentId:e},t)}]}};l.updateAssignment=p;var m=function(e){return{actions:[{name:"getPersonAssignments",data:{personId:e}}]}};l.getPersonAssignments=m;l.reorderAssignments=function(e){return{actions:e.map((function(e){return{name:"reorderAssignment",data:e}}))}}},834:function(e,t,n){"use strict";var a=n(26),i=n(260),o=n(261),r=n(836),s=n(835),c=n(74),d=n.n(c),l=n(1),u=n.n(l),h=n(3),b=n(7),p=n.n(b),m=n(2),j=function(e){var t=e.onClickPrev,n=e.onClickSwitch,a=e.onClickNext,i=e.switchContent,o=e.switchColSpan,r=e.switchProps;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"rdtPrev",onClick:t,children:Object(m.jsx)("span",{children:"\u2039"})}),Object(m.jsx)("th",Object(h.a)(Object(h.a)({className:"rdtSwitch",colSpan:o,onClick:n},r),{},{children:i})),Object(m.jsx)("th",{className:"rdtNext",onClick:a,children:Object(m.jsx)("span",{children:"\u203a"})})]})},f=n(887),v=n.n(f),g=n(888),O=n.n(g);d.a.extend(O.a),d.a.extend(v.a);var x=function(e,t){return Object(m.jsx)("td",Object(h.a)(Object(h.a)({},e),{},{children:t.date()}))},y=function(){return!0},k=function(e){for(var t=e.renderDay,n=void 0===t?x:t,a=e.isValidDate,i=void 0===a?y:a,o=e.viewDate,r=e.navigate,s=e.showView,c=e.timeFormat,l=e.selectedDate,u=e.updateDate,h=o,b=d()(o.toISOString()),f=h.clone().startOf("month"),v=h.clone().endOf("month"),g=[[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7]],O=b.startOf("month").startOf("week"),k=O.add(42,"d"),w=O,D=0,S=g;D<S.length;D++){var T=S[D];for(var M in T){var E=i(w.startOf("day"))||i(w.endOf("day"));T[M]=n({key:w.format("MMDDYYhh"),"data-value":w.date(),"data-month":w.month(),"data-year":w.year(),className:p()("rdtDay",{rdtOld:w.isBefore(f),rdtNew:w.isAfter(v),rdtActive:l&&w.isSame(l,"day"),rdtToday:w.isSame(d()(),"day"),rdtDisabled:!E}),onClick:E?u:void 0},w,l),w=w.add(1,"day")}}return Object(m.jsx)("div",{className:"rdtDays",children:Object(m.jsxs)("table",{children:[Object(m.jsxs)("thead",{children:[Object(m.jsx)(j,{onClickPrev:function(){return r(-1,"month")},onClickSwitch:function(){return s("months",o)},onClickNext:function(){return r(1,"month")},switchContent:b.format("MMM YYYY"),switchColSpan:5,switchProps:{"data-value":o.month()}}),Object(m.jsx)("tr",{children:d.a.weekdaysMin().map((function(e,t){return Object(m.jsx)("th",{className:"dow",children:e},e+t)}))})]}),Object(m.jsx)("tbody",{children:g.map((function(e,t){return Object(m.jsx)("tr",{children:e},"".concat(k.month(),"_").concat(t))}))}),c&&Object(m.jsx)("tfoot",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{onClick:function(){return s("time",o)},colSpan:7,className:"rdtTimeToggle",children:h.format(!0===c?"LT":c)})})})]})})},w=function(e){var t=e.viewDate,n=e.renderMonth,a=void 0===n?function(e,t,n){return Object(m.jsx)("td",Object(h.a)(Object(h.a)({},e),{},{children:d()().year(n).month(t).format("MMM")}))}:n,i=e.isValidDate,o=e.navigate,r=e.showView,s=e.selectedDate,c=e.updateDate,l=null===t||void 0===t?void 0:t.year();function u(e){if(!i)return!1;for(var n=null===t||void 0===t?void 0:t.month(e).date(1),a=null===n||void 0===n?void 0:n.endOf("month");a.isAfter(n);){if(i(a))return!1;a=a.subtract(1,"day")}return!0}for(var b=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],f=0,v=0,g=b;v<g.length;v++){var O=g[v];for(var x in O)O[x]=a({key:f,className:p()("rdtMonth",{rdtDisabled:u(f),rdtActive:s.year()===t.year()&&s.month()===f}),"data-year":t.year(),"data-value":f,onClick:u(f)?void 0:c},f,null===t||void 0===t?void 0:t.year(),s),f++}return Object(m.jsxs)("div",{className:"rdtMonths",children:[Object(m.jsx)("table",{children:Object(m.jsx)("thead",{children:Object(m.jsx)(j,{onClickPrev:function(){return o(-1,"year")},onClickSwitch:function(){return r("years",t)},onClickNext:function(){return o(1,"year")},switchContent:l,switchColSpan:2})})}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:b.map((function(e,t){return Object(m.jsx)("tr",{children:e},t)}))})})]})},D=n(17),S=function(e){var t=e.renderYear,n=void 0===t?function(e,t){return Object(m.jsx)("td",Object(h.a)(Object(h.a)({},e),{},{children:t}))}:t,i=e.isValidDate,o=e.viewDate,r=e.navigate,s=e.showView,c=e.selectedDate,u=e.updateDate,b=Object(l.useState)({}),f=Object(a.a)(b,2),v=f[0],g=f[1],O=null===o||void 0===o?void 0:o.year(),x=null===c||void 0===c?void 0:c.year();function y(e){if(void 0!==v[e])return v[e];if(!i)return!1;for(var t=d()().year(e).month(0).date(1),n=t.endOf("year");n.isAfter(t);){if(i(n))return g((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(D.a)({},e,!1))})),!1;n=n.subtract(1,"day")}return g((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(D.a)({},e,!0))})),!0}Object(l.useEffect)((function(){g({})}),[i]);for(var k=function(e){u(e)},w=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],S=O-1,T=0,M=w;T<M.length;T++){var E=M[T];for(var N in E)E[N]=n({key:S,className:p()("rdtYear",{rdtDisabled:y(S),rdtActive:x===S}),"data-value":S,onClick:y(S)?void 0:k},S,c),S++}return Object(m.jsxs)("div",{className:"rdtYears",children:[Object(m.jsx)("table",{children:Object(m.jsx)("thead",{children:Object(m.jsx)(j,{onClickPrev:function(){return r(-10,"year")},onClickSwitch:function(){return s("years",o)},onClickNext:function(){return r(10,"year")},switchContent:"".concat(O,"-").concat(O+9)})})}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:w.map((function(e,t){return Object(m.jsx)("tr",{children:e},t)}))})})]})},T={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}};function M(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},a=t.toString();a.length<n[e];)a="0"+a;return a}var E=function(e){var t=e.viewDate,n=e.showView,i=e.timeFormat,o=e.dateFormat,r=e.selectedDate,s=e.setTime,c=e.timeConstraints,u=Object(l.useState)(T),b=Object(a.a)(u,2),p=b[0],j=b[1],f=Object(l.useState)({}),v=Object(a.a)(f,2),g=v[0],O=v[1],x=Object(l.useRef)();Object(l.useEffect)((function(){var e={};Object.keys(T).forEach((function(t){e[t]=Object(h.a)(Object(h.a)({},T[t]),c[t]||{})})),j(e)}),[c]),Object(l.useEffect)((function(){if(!x.current||!(null===r||void 0===r?void 0:r.isSame(x.current))){var e=r||t;O({hours:M("hours",e.hour()),minutes:M("minutes",e.minute()),seconds:M("seconds",e.second()),milliseconds:M("milliseconds",e.millisecond()),ampm:e.hour()<12?"AM":"PM"}),x.current=r}}),[null===r||void 0===r?void 0:r.toISOString(),null===t||void 0===t?void 0:t.toISOString()]);var y=[],k=!0===i?"hh:mm A":i;/h/i.test(k)&&(y.push("hours"),/m/.test(k)&&(y.push("minutes"),/s/.test(k)&&(y.push("seconds"),/S/.test(k)&&y.push("milliseconds"))),/a/i.test(k)&&y.push("ampm"));function w(e){O((function(t){var n=p[e],a=parseInt(t[e],10)+n.step;return a>n.max&&(a=n.min+(a-(n.max+1))),Object(h.a)(Object(h.a)({},t),{},Object(D.a)({},e,M(e,a)))}))}function S(e){O((function(t){var n=p[e],a=parseInt(g[e],10)-n.step;return a<n.min&&(a=n.max+1-(n.min-a)),Object(h.a)(Object(h.a)({},t),{},Object(D.a)({},e,M(e,a)))}))}function E(e,t,n){if(!e||!e.button||0===e.button){if("ampm"===n){var a=+g.hours;return a>=12?a-=12:a+=12,void s("hours",a)}var i;t(n);var o=setTimeout((function(){i=setInterval((function(){t(n)}),70)}),500),r=function e(){clearTimeout(o),clearInterval(i),function(e){O((function(t){return s(e,+t[e]),t}))}(n),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)};document.addEventListener("mouseup",r),document.addEventListener("touchend",r)}}return Object(m.jsx)("div",{className:"rdtTime",children:Object(m.jsxs)("table",{children:[o&&Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"rdtSwitch",colSpan:4,onClick:function(){return n("days",t)},children:(r||t).format(o)})})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"rdtCounters",children:y.map((function(e,t){return Object(m.jsxs)(m.Fragment,{children:[!!t&&"ampm"!==e&&Object(m.jsx)("div",{className:"rdtCounterSeparator",children:":"},"sep".concat(t)),Object(m.jsxs)("div",{className:"rdtCounter",children:[Object(m.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return E(t,w,e)},children:"\u25b2"}),Object(m.jsx)("div",{className:"rdtCount",children:"hours"===e&&/a/i.test(k)?(+g[e]-1)%12+1||12:"ampm"===e?d()().hour(+g.hours).format(/A/.test(k)?" A":" a"):g[e]}),Object(m.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return E(t,S,e)},children:"\u25bc"})]},e)]})}))})})})})]})})},N=n(889),C=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).container=u.a.createRef(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:this.props.className,ref:this.container,children:this.props.children})}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(u.a.Component),L=Object(N.a)(C),I={YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"},P=function(){};t.a=function(e){var t=e.id,n=e.value,i=e.initialValue,o=e.initialViewMode,r=e.onClose,s=void 0===r?P:r,c=e.onChange,u=void 0===c?P:c,h=e.onNavigate,b=void 0===h?P:h,j=e.onBeforeNavigate,f=void 0===j?function(e){return e}:j,v=e.onNavigateBack,g=void 0===v?P:v,O=e.onNavigateForward,x=void 0===O?P:O,y=e.updateOnView,D=(e.locale,e.iso),T=e.dateFormat,M=e.timeFormat,N=e.timeConstraints,C=void 0===N?{}:N,_=e.isValidDate,R=void 0===_?function(){return!0}:_,A=e.open,Y=e.setOpen,z=e.closeOnSelect,W=e.closeOnClickOutside,V=void 0===W||W,H=e.renderDay,F=e.renderMonth,U=e.renderYear,B=e.className,K=void 0===B?"":B,X=e.staticDisplay,G=e.dropLeft,Z=Object(l.useState)(o||(T?"days":M?"time":"years")),q=Object(a.a)(Z,2),$=q[0],J=q[1],Q=Object(l.useState)(d()(n||i)),ee=Object(a.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(l.useState)("time"),ie=Object(a.a)(ae,2),oe=ie[0],re=ie[1],se=Object(l.useState)(d()(n||i)),ce=Object(a.a)(se,2),de=ce[0],le=ce[1],ue=Object(l.useState)(""),he=Object(a.a)(ue,2),be=he[0],pe=he[1];Object(l.useEffect)((function(){if(n){var e=d()(n);e.isValid()&&ne(e)}}),[n]),Object(l.useEffect)((function(){var e=!0===T?"L":T,t=!0===M?"LT":M;pe(e?t?e+" "+t:e:t||"")}),[M,T]),Object(l.useEffect)((function(){var e=T?!0===T?"L":T:"";y?re(y):e.match(/[lLD]/)?re(I.DAYS):-1!==e.indexOf("M")?re(I.MONTHS):-1!==e.indexOf("Y")?re(I.YEARS):re(I.TIME)}),[T]),Object(l.useEffect)((function(){var e=d()(n);e.isValid()?le(e):le(d()())}),[n]);var me=function(e,t){var n=f(e,$,t||te);n&&$!==n&&(b(n),J(n))};function je(e){z&&ve(),u(D?null===e||void 0===e?void 0:e.toISOString():null===e||void 0===e?void 0:e.format(be))}var fe=function(e,t){ne((function(n){return n.add(e,t)})),e>0?x(e,t):g(-e,t)},ve=function(){Y&&Y(!1),s(de)};return Object(m.jsx)(L,{className:p()("rdt",K,{rdtStatic:!!X,rdtOpen:!!A}),onClickOut:function(){A&&V&&ve()},children:Object(m.jsxs)("div",{id:t,className:"rdtPicker rounded bg-light",style:G?{right:0}:void 0,children:["years"===$&&Object(m.jsx)(S,{viewDate:te,renderYear:U,isValidDate:R,navigate:fe,showView:me,selectedDate:de,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.YEARS?(le(t),je(t)):me(I.MONTHS,te)}}),"months"===$&&Object(m.jsx)(w,{viewDate:te,renderMonth:F,isValidDate:R,navigate:fe,showView:me,selectedDate:de,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.MONTHS?(le(t),je(t)):me(I.DAYS,te)}}),"days"===$&&Object(m.jsx)(k,{renderDay:H,isValidDate:R,navigate:fe,showView:me,timeFormat:M,viewDate:te,selectedDate:de,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-month")).date(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.DAYS?(le(t),je(t)):M&&me(I.HOURS,te)}}),"time"===$&&M&&Object(m.jsx)(E,{viewDate:te,showView:me,timeFormat:M,dateFormat:!0===T?"L":T,selectedDate:de,setTime:function(e,t){var n,a=de||te;switch(e){case"hours":n=a.hour(t);break;case"minutes":n=a.minute(t);break;case"seconds":n=a.second(t);break;case"milliseconds":n=a.millisecond(t)}le(n),ne(n),je(n)},timeConstraints:C})]})})}},838:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var a=function(){return{actions:[{name:"getStageTypes",data:{}}]}},i=function(){return{actions:[{name:"getStageTagOptions",data:{}}]}},o=function(){return{actions:[{name:"getStageMemberRoleOptions",data:{}}]}},r=function(e){return{actions:[{name:"createStageMemberRole",data:{role:e}}]}},s=function(){return{actions:[{name:"getKanbanCategories",data:{}}]}},c=function(e){return{actions:[{name:"setKanbanCategories",data:{categories:e}}]}}},844:function(e,t,n){"use strict";n(1);var a=n(45),i=n(30),o=n(795),r=n(796),s=n(2);t.a=function(){return Object(s.jsx)(o.a,{className:"text-center",children:Object(s.jsxs)(r.a,{className:"p-5",children:[Object(s.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(s.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(s.jsx)("hr",{}),Object(s.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(s.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(s.jsxs)(i.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(s.jsx)(a.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},851:function(e,t,n){"use strict";var a=n(3),i=n(40),o=(n(1),n(7)),r=n.n(o),s=n(2),c=["size","color","spinnerStyle"],d=["className"];t.a=function(e){var t=e.size,n=e.color,o=e.spinnerStyle,l=Object(i.a)(e,c),u=l.className,h=Object(i.a)(l,d);return Object(s.jsxs)("div",Object(a.a)(Object(a.a)({className:r()("bounce-spinner",{"bounce-spinner-sm":"sm"===t,"bounce-spinner-md":"md"===t,"bounce-spinner-lg":"lg"===t},u)},h),{},{children:[Object(s.jsx)("div",{style:o,className:r()("bounce1","bg-"+n)}),Object(s.jsx)("div",{style:o,className:r()("bounce2","bg-"+n)}),Object(s.jsx)("div",{style:o,className:r()("bounce3","bg-"+n)})]}))}},865:function(e,t,n){"use strict";var a=n(12);t.a=function(e){return Object(a.f)((function(t){return t.app.settings[e]}))}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"Not Started":"secondary","In Progress":"primary",Complete:"success","Running Late":"warning","Having Trouble":"warning",Waiting:"info","Past Due":"danger"}},908:function(e,t,n){"use strict";n(1);var a=n(800),i=n(998),o=n(809),r=n(801),s=n(880),c=n(802),d=n(803),l=n(407),u=n(30),h=n(94),b=n(145),p=n(190),m=n(2);t.a=function(e){var t=e.avatarSize,n=e.showMembers,j=e.people,f=e.isShowMemberFixed,v=void 0!==f&&f,g=e.addMember,O=void 0!==g&&g,x=e.className;return Object(m.jsxs)(a.a,{className:"avatar-group mb-0 align-items-center ".concat(x),children:[null===j||void 0===j?void 0:j.slice(0,n).map((function(e,n){var a,c;return Object(m.jsxs)(i.a,{direction:"right",nav:!0,children:[Object(m.jsx)(o.a,{nav:!0,caret:!1,className:n>0?"ml-n1 p-0":"p-0",id:"person-".concat(null===e||void 0===e?void 0:e._id),children:Object(m.jsx)(b.a,{src:null===e||void 0===e||null===(a=e.avatar)||void 0===a?void 0:a.location,name:Object(p.a)(null===e||void 0===e?void 0:e.name),size:t})}),Object(m.jsx)(r.a,{className:"dropdown-md px-0 py-3",children:Object(m.jsxs)(s.a,{className:"align-items-center px-3",children:[Object(m.jsx)("div",{className:"mr-2",children:Object(m.jsx)(b.a,{src:null===e||void 0===e||null===(c=e.avatar)||void 0===c?void 0:c.location,name:Object(p.a)(null===e||void 0===e?void 0:e.name),size:t})}),Object(m.jsxs)(s.a,{body:!0,children:[Object(m.jsx)("h6",{className:"mb-0",children:Object(m.jsx)(u.b,{className:"text-900 stretched-link",to:"/social/profile/".concat(e._id),children:Object(p.a)(null===e||void 0===e?void 0:e.name)})}),Object(m.jsx)("p",{className:"fs--2 mb-0",children:null===e||void 0===e?void 0:e.position})]})]})})]},n)})),!v&&Object(m.jsxs)(i.a,{nav:!0,children:[Object(m.jsxs)(o.a,{nav:!0,caret:!1,className:"ml-n1 p-0",children:[j&&(null===j||void 0===j?void 0:j.length)>n&&Object(m.jsx)(b.a,{name:"+".concat((null===j||void 0===j?void 0:j.length)-n),size:t,isExact:!0,mediaClass:"avatar-button",className:"mr-n1"}),O&&Object(m.jsx)(b.a,{icon:"plus",size:t,mediaClass:"avatar-button"})]}),Object(m.jsxs)(r.a,{className:"dropdown-md",children:[Object(m.jsx)("h6",{className:"dropdown-header py-0 px-3 mb-0",children:O?"Select Member":"Board Members"}),Object(m.jsx)(c.a,{divider:!0}),O?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("form",{className:"px-3 mb-2",children:Object(m.jsx)(l.a,{placeholder:"Search team member",bsSize:"sm"})}),Object(m.jsx)("ul",{className:"list-unstyled",children:null===j||void 0===j?void 0:j.map((function(e){var n;return Object(m.jsx)("li",{children:Object(m.jsxs)(s.a,{tag:"a",className:"align-items-center px-3 py-1 text-decoration-none",href:"pages/profile",children:[Object(m.jsx)(b.a,{src:null===e||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.location,name:Object(p.a)(null===e||void 0===e?void 0:e.name),className:"mr-2",size:t}),Object(m.jsx)(s.a,{body:!0,children:Object(m.jsx)("h6",{className:"mb-0",children:Object(p.a)(null===e||void 0===e?void 0:e.name)})})]})},null===e||void 0===e?void 0:e._id)}))})]}):Object(m.jsx)(h.a,{className:"px-3",children:null===j||void 0===j?void 0:j.map((function(e){var t;return Object(m.jsxs)(u.b,{className:"text-900 ",to:"/pages/profile",id:"Tooltip-".concat(null===e||void 0===e?void 0:e._id),children:[Object(m.jsx)(b.a,{src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.location,className:"mr-2",size:"xl"}),Object(m.jsx)(d.a,{placement:"top",target:"Tooltip-".concat(null===e||void 0===e?void 0:e._id),children:Object(p.a)(null===e||void 0===e?void 0:e.name)})]},null===e||void 0===e?void 0:e._id)}))})]})]})]})}},962:function(e,t,n){"use strict";var a=n(12),i=n(3),o=n(106),r=n(832),s=n(144);var c=function(e){return Object(s.a)({actionCreator:r.c,selector:function(t){return Object.values(t.workflow.tasks).filter((function(e){return e.isMyAssignment})).reduce((function(t,n){return[].concat(Object(o.a)(t),Object(o.a)(n.assignments.filter((function(t){return t.assignees.find((function(t){return t.personId===e}))})).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{task:{_id:n._id,title:n.title},stage:n.stage})}))))}),[])},equality:a.d,postParams:e,deduplicate:["assignments",e]})};t.a=function(){var e=Object(a.f)((function(e){return e.app.login.personId}));return c(e||"")}}}]);
//# sourceMappingURL=13.d77ffe49.chunk.js.map