{"version":3,"sources":["helpers/uploadDoc.ts","components/PinLogo.tsx","compositions/Logo.tsx","helpers/getSizedImageName.ts","store/thunks/deduplicate.ts","store/hooks/useLoadAndSelect.ts","components/Image.tsx","components/Avatar.tsx","store/ducks/id.ts","environ.ts","store/ducks/login.ts","layouts/navbar/components/NavbarDropdown.tsx","layouts/navbar/components/NavbarItem.tsx","layouts/navbar/components/NavbarTopDropDownMenus.tsx","store/hooks/useWS.ts","store/ducks/deduplicator.js","helpers/makeName.ts","store/thunks/users.ts","store/permissions.ts","compositions/Notification.tsx","helpers/mergeById.ts","store/ducks/BaseDuck.ts","store/hooks/useAction.ts","components/FalconCardHeader.tsx","store/thunks/people.ts","store/ducks/forms/addStage.ts","components/SpinnerLogo.tsx","components/ProgressiveImage.tsx","store/ducks/workflow.ts","components/Section.tsx","compositions/SearchBox.tsx","store/hooks/person/usePeopleList.ts","store/hooks/user/useMyUser.ts","store/ducks/finance.ts","store/hooks/user/useUser.ts","store/ducks/time.ts","hooks/useFetch.ts","components/Background.tsx","components/PersonAvatar.tsx","store/ducks/forms/configureBanks.ts","store/ducks/management.ts","store/ducks/settings.ts","routes/routes.ts","helpers/utils.ts","store/ducks/ws.ts","layouts/test/Loading.tsx","layouts/errors/Error404.tsx","layouts/errors/Error500.tsx","routes/errors/ErrorRoutes.js","layouts/navbar/components/NavbarVerticalMenuItem.tsx","layouts/navbar/components/NavbarVerticalMenu.tsx","layouts/navbar/NavbarVertical.tsx","helpers/autoDrop.ts","layouts/navbar/components/ProfileDropdown.tsx","layouts/navbar/components/NotificationDropdown.tsx","layouts/navbar/components/TopNavRightSideNavItem.tsx","layouts/navbar/NavbarTop.tsx","routes/AuthenticatedAppRoute.jsx","layouts/test/TestPage.tsx","AuthGateway.tsx","components/Toast.tsx","helpers/toggleStylesheet.ts","App.tsx","store/ducks/forms/forms.ts","store/ducks/options.ts","store/storeCreator.ts","helpers/initFA.ts","index.tsx","components/Flex.tsx"],"names":["uploadDoc","file","doctype","name","a","formData","FormData","append","fetch","$fileupload","method","body","credentials","res","json","data","console","log","PinLogo","animationData","width","horiz","className","pinStrokeRGB","r","g","b","animationData_horiz","animationData_vert","_r","_g","_b","arrColors","layers","shapes","it","c","k","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","options","style","marginRight","marginLeft","Logo","at","rest","to","classNames","defaultProps","getSizedImageName","src","size","sizeExtension","includes","newSrc","arrSrc","split","Array","isArray","length","$fileserv","join","deduplicate","testValue","cb","force","dispatch","getState","state","has","deduplicator","actions","set","useLoadAndSelect","actionCreator","selector","equality","postParams","timeout","undefined","useDispatch","useAction","loading","error","post","selected","useSelector","load","useCallback","params","send","forcePull","useEffect","useMemo","value","Image","alt","onLoad","height","imageProps","useState","isImageLoaded","setIsImageLoaded","handleLoad","Avatar","rounded","emoji","mediaClass","isExact","icon","avatarClassNames","mediaClasses","sizeMap","s","m","l","xl","image","ProgressiveImage","singleImage","doubleImage","tripleImage","match","slice","Flex","role","aria-label","getAvatar","people","BaseDuck","customMerge","replaceArrays","personPhotos","users","replaceKeys","usergroups","organizations","setKeys","organizationPhotos","idReducer","combineReducers","reducer","bind","$api","$authentication","version","navbarBreakPoint","topNavbarBreakpoint","autoDropBreakpoint","currencyFormat","Intl","NumberFormat","currency","types","SET_LOGIN","ON_LOGIN","DEFAULT_STATE","loggedIn","userId","personId","organizationId","action","type","payload","login","onLogin","setLogin","isLoggedIn","NavbarDropdown","title","right","children","dropdownConfig","dropdownOpen","setDropdownOpen","class","card","dropdownCardClass","dropdownCardBodyClass","img","dropdownCardHeaderImg","dropdownCardHeaderImgWidth","Dropdown","nav","inNavbar","isOpen","toggle","onMouseOver","window","innerWidth","breakpoints","onMouseLeave","DropdownToggle","caret","DropdownMenu","Card","CardBody","NavbarItem","isDropdown","linkTo","NavLink","tag","Link","NavbarTopDropDownMenus","isCombo","app","settings","isTopNav","handleSetNavbarCollapsed","windowWidth","setNavbarCollapsed","setShowBurgerMenu","renderListMenu","items","map","index","DropdownItem","onClick","homeRoutes","managementRoutes","workflowRoutes","timeRoutes","financeRoutes","socialRoutes","reportingRoutes","adminRoutes","ws","socket","connectionRequests","currentRetries","reconnectInterval","reconnectAttempts","shouldReconnect","queue","setInterval","readyState","OPEN","shift","err","useWS","lastJsonMessage","setLastJsonMessage","handleDerender","close","openSocket","WebSocket","onopen","event","onclose","socketConfig","CLOSE","setTimeout","handleSocketClose","onmessage","JSON","parse","forceLogin","MESSAGE","onerror","ERROR","message","requestId","uuid","messageToSend","stringify","push","SET","CLEAR","RESET","obj","recursor","i","key","path","clear","reset","space","words","filter","x","commaSeparate","forceTitleCase","word","use","toUpperCase","makeName","objName","first","common","last","prefix","middle","reverse","coerceUpper","flat","p","f","t","getAdminOrgEmployees","pageNumber","numberPerPage","getUserFromPerson","getAdminUserInfo","getUserInfo","addOrganizationUser","firstName","lastName","email","position","setUserInfo","internalId","startDate","mailingAddress","phoneNumber","sendUserPermissions","explicitPermissions","activateUser","active","deactivateUser","removeOrganizationUser","removed","PERMISSIONS","GLOBAL_ADMIN","workflow","EDIT_WORKFLOW_INFO","EDIT_WORKFLOW_TASKS","CREATE_ASSIGNMENTS","VIEW_BUDGET_INFO","VIEW_TIME_CHARGED","VIEW_DOCUMENTS","EDIT_DOCUMENTS","EDIT_PHOTOS","INVITE_USERS","SET_USER_PERMISSIONS","EDIT_ORGANIZATION","EDIT_SYSTEM_SETTINGS","CREATE_NEW_USERS","ASSIGN_MANAGERS","CREATE_PERMISSIONS_GROUP","ASSIGN_EMPLOYEES_TO_PERMISSIONS_GROUP","EDIT_ALL_TIMESHEETS","EDIT_CLOSED_TIMESHEETS","UNIVERSAL_APPROVAL_TIMESHEET","UNIVERSAL_APPROVAL_TIMEOFF","CREATE_WORKFLOWS","EDIT_ANY_WORKFLOW_INFO","VIEW_ANY_WORKFLOW_STAGE_INFO","EDIT_ANY_WORKFLOW_STAGE_INFO","EDIT_ANY_WORKFLOW_TASKS","POST_COMMENTS","GENERATE_REPORTS","ENTER_ANY_EXPENSE","UNIVERSAL_APPROVAL_EXPENSE","CREATE_TIME_CODES_AND_TIME_TYPES","CREATE_CONTRACT","EDIT_CONTRACT","VIEW_INVOICES","EDIT_INVOICES","APPROVE_INVOICES","SET_WAGES","EDIT_CONTACTS","Notification","avatar","time","unread","flush","mergeById","objVal","srcVal","object","source","stack","Set","forEach","val","add","from","srcType","Object","prototype","toString","call","merged","mergeWith","keyBy","values","concat","duckName","basicTypes","standardMerge","concatArrays","dateKeys","mergeDates","dayjs","unix","this","customTypes","INSERT","UPSERT","REMOVE","produce","draft","id","customReducer","records","customizer","record","changeObjects","changeObject","_id","insertObject","updateObject","setLoading","setError","setRequestId","response","messageLog","find","resolver","useRef","current","timer","cancel","clearTimeout","msgId","Promise","resolve","reject","success","actionPackage","FalconCardHeader","light","titleTag","TitleTag","titleClass","breakPoint","peopleDuck","getOrgEmployees","sendPersonBio","bio","sendPersonPhones","phones","sendPersonEmails","emails","sendPersonName","sendPersonAvatar","metaData","newFile","files","location","description","sendPersonCover","cover","coverPhoto","sendPersonPosition","sendPersonLocation","sendPersonTitleInfo","addPersonPhotos","photos","photo","Error","objPhoto","getPersonPhotos","delimiter","addPersonExperience","experience","photoData","photoLocation","removePersonExperience","experienceId","addPersonEducation","education","removePersonEducation","educationId","getSetPeopleById","peopleIds","findPeopleUniversal","searchText","organizationIds","createPersonContact","args","getPersonContacts","removePersonContact","DEFAULT_TASK","identifier","DEFAULT_MILESTONE","tasks","workflowId","internalBudget","externalBudget","ownerId","estCompletionDate","properties","city","zip","tags","documents","milestones","TYPE","IDENTIFIER","TITLE","DESCRIPTION","EXTERNAL_BUDGET","INTERNAL_BUDGET","ACTIVE","OWNER","WORKFLOW_ID","EST_COMPLETION_DATE","TAGS","LOCATION","SET_DOCUMENTS","ADD_DOCUMENT","REMOVE_DOCUMENT","UPSERT_ORGANIZATION","REMOVE_ORGANIZATION","UPSERT_MEMBER","REMOVE_MEMBER","INSERT_MILESTONE","UPSERT_MILESTONE","MOVE_MILESTONE","REMOVE_MILESTONE","INSERT_TASK","UPSERT_TASK","MOVE_TASK","REMOVE_TASK","UPSERT_ASSIGNMENT","REMOVE_ASSIGNMENT","merge","toast","matchingOrganization","findIndex","organization","selectedOrganization","org","members","matchingMember","member","newMember","splice","toMove","fromIndex","toIndex","milestoneId","sourceTasks","fromMilestoneId","destinationTasks","toMilestoneId","SpinnerLogo","blurRadius","props","lowQualitySrc","highQualitySrc","setSrc","onload","useProgressiveImage","blur","transition","workflows","stages","threads","workflowReducer","Section","fluid","bg","overlay","video","bgClassName","SearchBox","placeholder","inline","usePeopleList","ids","peopleToRetrieve","shallowEqual","peopleBasicInfo","person","isEqual","useMyUser","myUserId","useUser","wages","expenses","ledgers","adminPermissions","permissions","isAdmin","myUser","myGroup","groupId","myPermissions","union","intersection","timeEntries","timeTypes","timeOffBanks","timeOffRequests","useFetch","errTimeout","result","get","Background","bgStyle","backgroundImage","backgroundPosition","backgroundPositionX","y","backgroundPositionY","autoPlay","muted","playsInline","pop","PersonAvatar","setName","isIterableArray","DEFAULT_BANK","displayIndex","timeCodeId","unit","hoursPerUnit","policy","accrualPeriod","accrualAmount","effectiveDate","Date","toISOString","open","ADD","newIndex","newBank","existingState","newState","REORDER","previousIndex","indexChange","banks","bank","reduce","UNIT","HOURS_PER_UNIT","PERIOD","AMOUNT","DATES","accrueDates","WEEKS","accrueWeeks","MONTHS","accrueMonths","WEEKDAYS","accrueWeekdays","STARTING_ON","startingOn","MAXIMUM","accrualMaximum","EFFECTIVE_DATE","AUTO_ACCRUAL","autoAccrual","TOGGLE","toDos","managementReducer","isFluid","isRTL","isDark","isVertical","showBurgerMenu","isNavbarVerticalCollapsed","navbarStyle","isLoaded","isOpenSidePanel","navbarCollapsed","kanban","categories","setFluid","insert","setDark","setRtl","setTopNav","setVertical","setVerticalCollapsed","setCurrency","setNavbarStyle","setLoaded","setOpenSidePanel","exact","routes","array","extend","relativeTime","xs","sm","md","lg","xxl","getDuration","endDate","start","end","isValid","format","hexToRgb","hexValue","hex","indexOf","substring","exec","replace","parseInt","colors","themeColors","primary","secondary","info","warning","danger","dark","grays","white","100","200","300","400","500","600","700","800","900","1000","1100","black","darkGrays","getGrays","getPaginationArray","color","rgbColor","alpha","rgbaColor","totalSize","sizePerPage","noOfPages","Math","ceil","pageNo","status","errorMessage","Loading","top","left","bottom","display","justifyContent","flexDirection","alignSelf","margin","Error404","href","Error500","ErrorRoutes","url","Row","Col","component","NavbarVerticalMenuItem","route","align","badge","Badge","pill","text","React","memo","withRouter","NavbarVerticalMenu","openedIndex","setOpenedIndex","openedDropdown","pathname","NavItem","e","preventDefault","toggleOpened","aria-expanded","Collapse","Nav","NavbarVertical","navBarRef","HTMLClassList","document","getElementsByTagName","classList","is","windows","chrome","firefox","remove","Navbar","expand","UncontrolledTooltip","placement","target","Button","navbar","innerRef","onMouseEnter","vertical","autoDrop","openAction","ProfileDropdown","autoDropdown","prevState","divider","NotificationDropdown","newNotifications","setNewNotifications","readNotifications","setReadNotifications","setIsOpen","isAllRead","handleToggle","updateNotifications","sendData","markAsRead","n","transform","maxWidth","ListGroup","notification","ListGroupItem","TopNavRightSideNavItem","wsError","wsStatus","CustomInput","label","checked","onChange","autohide","NavbarTop","store","HomeRoutes","loadable","FinanceRoutes","TimeRoutes","ManagementRoutes","SocialRoutes","AdminRoutes","WorkflowRoutes","AuthenticatedAppRoute","forceFluid","preload","scrollTo","minHeight","TestPage","subtract","date","isBefore","Landing","AuthRoutes","AuthGateway","LoadingPage","Fade","cssTransition","enter","exit","CloseButton","closeToast","opacity","getElementsByClassName","link","createElement","process","rel","appendChild","setAttribute","insertStylesheet","App","toggleStylesheet","basename","closeButton","POSITION","BOTTOM_LEFT","formReducer","addStage","configureBanks","stage","memberRoles","identifiers","appConfig","storage","blacklist","settingsConfig","forms","persistReducer","wsTypes","_obj","appReducer","finance","management","createStore","removeItem","compose","applyMiddleware","thunk","devToolsExtension","persistor","persistStore","library","faDownload","faAngleDown","faChartPie","faUserCheck","faUserTimes","faToolbox","faLandmark","faThumbtack","faChartLine","faCopy","faSearch","faHome","faBell","faPlay","faChevronRight","faChevronLeft","faChevronUp","faChevronDown","faExchangeAlt","faAngleRight","faEllipsisH","faCrown","faListAlt","faCheck","faBan","faStream","faArrowsAltV","faSort","faSortAlphaDown","faSortAlphaUp","faSortNumericDown","faSortNumericUp","faSortAmountDown","faSortAmountUp","faCheckCircle","faUserCircle","faQuestionCircle","faLock","faCircle","faHeart","faShareAlt","faCaretRight","faArrowDown","faArrowUp","faArrowLeft","faArrowRight","faPrint","faDollarSign","faLink","faPlus","faPlusCircle","faMinus","faUser","faPencilAlt","faCamera","faTimesCircle","faSignInAlt","faBook","faPuzzlePiece","faTrash","faAlignLeft","faAlignRight","faPlug","faTimes","faFilter","faExternalLinkAlt","faCartPlus","faShoppingCart","faStar","faStarHalfAlt","faArchive","faEnvelope","faClock","faReply","faLocationArrow","faCog","faPaperclip","faImage","faEllipsisV","faEnvelopeOpen","faRedo","faSlidersH","faTrashAlt","faFileArchive","faFilePdf","faFileAlt","faFileWord","faFileExcel","faFileImage","faEye","faCaretUp","faCodeBranch","faExclamationTriangle","faListUl","faTh","faGift","faUsers","faGlobeAmericas","faPlusSquare","faCaretDown","faUserPlus","faCircleNotch","faExclamation","faThumbsUp","faComments","faPalette","faEdit","faShare","faCheckSquare","faTools","faCheckDouble","faSmileBeam","faPoll","faPercentage","faIcons","faList","faUserFriends","faExclamationCircle","faFolderPlus","faTag","faAt","faFile","faCalendar","faQuestion","faLaughBeam","faThumbsDown","faClipboardCheck","faCogs","faChartBar","faPaintBrush","faCalendarCheck","faTasks","faArrowCircleDown","faSpinner","faUserClock","faMicrophone","faMicrophoneSlash","faCalculator","faFlag","faLevelUpAlt","faFacebook","faFacebookF","faFacebookSquare","faGulp","faNodeJs","faSass","faTwitter","faGooglePlusG","faLinkedinIn","faMediumM","faHotjar","faYoutube","faVideo","faInfo","faPhone","faTrello","faMapPin","farHeart","farLightbulb","farObjectUngroup","farPaperPlane","farStar","farImage","farFileArchive","farFilePdf","farFile","farFileVideo","farFileAudio","farFileImage","farFileCode","farClock","farQuestionCircle","farDizzy","farLaughBeam","farSmileBeam","farCircle","farCopy","farComment","farCalendarCheck","ReactDOM","render","getElementById","justify","column","wrap","Tag"],"mappings":"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,MACAC,MACAC,KACAC,MACAC,MACAC,KACAC,KACAC,MACAC,MACAC,MACAC,MACAC,KACAC,MACAC,MACAC,MACAC,KACAC,KACAC,KACAJ,MACAK,MACAC,MACAC,KACAC,MACAC,MACAC,KACAC,KACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,KACAC,KACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,KACAC,MACAC,KACAC,MACAC,MACAC,KACAC,MACAC,KACAxB,MACAyB,MACAC,KACAC,MACAC,KACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,MACAC,KACAC,MACAC,KACAC,MACAC,MACAC,MACAC,KACAC,KACAC,KACAC,MACAC,KACAC,MACAC,KACAC,MACAC,MACAC,MACAC,MACAC,KACAC,MACAC,MAGAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,MACAC,MACAC,MACAC,KACAC,MAIAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,MCvWFC,IAASC,OACP,cAAC,IAAD,CAAUzP,MAAOA,GAAjB,SACI,cAAC,KAAD,CAAajvB,QAAS,KAAMmzB,UAAWA,GAAvC,SACE,cAAC,GAAD,QAINpH,SAAS4S,eAAe,U,0KCwBXj8B,IAhCS,SAAC,GAWlB,IAAD,EAVJk8B,EAUI,EAVJA,QACApU,EASI,EATJA,MACAjM,EAQI,EARJA,OACAsgB,EAOI,EAPJA,OACAC,EAMI,EANJA,KACA9iC,EAKI,EALJA,UAKI,IAJJuL,IAAKw3B,OAID,MAJO,MAIP,EAHJt5B,EAGI,EAHJA,SAEG9H,GACC,EAFJqW,GAEI,kBACJ,OACE,cAAC+qB,EAAD,yBACE/iC,UAAW6B,KAAU,GAEjB,UAAW0gB,EACX,gBAAiBA,GAHA,wCAIGqgB,GAAYA,GAJf,oCAKDpU,GAAUA,GALT,cAMjB,cAAeqU,GANE,cAOjB,YAAaC,GAPI,GASnB9iC,IAEE2B,GAZN,aAcG8H,Q","file":"static/js/main.98aa40ca.chunk.js","sourcesContent":["import {$fileupload} from 'environ'\r\n\r\n const uploadDoc = async (file: Blob, doctype: 'document' | 'avatar' | 'photo' | 'cover', name?: string) => {\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append(doctype, file, name);\r\n\r\n    const res = await fetch($fileupload, {\r\n                            method: 'POST', \r\n                            body: formData,\r\n                            credentials: 'include'\r\n                        })\r\n\r\n    const data = await res.json();\r\n\r\n    console.log(data);\r\n\r\n    return data;\r\n}\r\n\r\nexport default uploadDoc;","import React, { FC } from 'react';\r\nimport Lottie from 'react-lottie';\r\nimport animationData_vert from 'assets/img/logos/pinAnimation.json';\r\nimport animationData_horiz from 'assets/img/logos/pinAnimation_side.json';\r\n\r\n// const aspectRatio = 285.58 / 178.65;\r\n\r\ninterface Props {\r\n    width: number;\r\n    horiz?: boolean;\r\n    className?: string;\r\n    pinStrokeRGB?: {r: number; g: number; b: number;}\r\n}\r\n\r\nconst PinLogo: FC<Props> = ({width, horiz, className, pinStrokeRGB = {r: 44, g: 123, b: 229}}) => {\r\n    \r\n    let animationData;\r\n    if (horiz) {\r\n        animationData = animationData_horiz;\r\n    } else {\r\n        animationData = animationData_vert;\r\n    }\r\n\r\n    const _r = pinStrokeRGB.r / 255;\r\n    const _g = pinStrokeRGB.g / 255;\r\n    const _b = pinStrokeRGB.b / 255;\r\n\r\n    const arrColors = animationData.layers[0].shapes[0].it![1].c!.k;\r\n    arrColors[0] = _r;\r\n    arrColors[1] = _g;\r\n    arrColors[2] = _b;\r\n\r\n    \r\n\r\n    const defaultOptions = {\r\n        loop: false,\r\n        autoplay: true,\r\n        animationData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    return <Lottie options={defaultOptions} style={{ width, marginRight: horiz ? width/9 : width/3, marginLeft: 0 }} />\r\n\r\n};\r\n\r\nexport default PinLogo;","////// Packages //////////////////\r\nimport React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n//////// Assets ////////\r\nimport PinLogo from 'components/PinLogo';\r\n\r\ninterface Props {\r\n  at?: 'navbar-vertical' | 'navbar-top' | 'auth';\r\n  width: number;\r\n  className?: string;\r\n  horiz?: boolean;\r\n  pinStrokeRGB?: {r: number; g: number; b: number;};\r\n}\r\n\r\nconst Logo: FC<Props> = ({ at, width, className, horiz, pinStrokeRGB, ...rest }) => {\r\n  return (\r\n    <Link\r\n      to=\"/home\"\r\n      className={classNames(\r\n        'text-decoration-none',\r\n        { 'navbar-brand text-left': at === 'navbar-vertical' },\r\n        { 'navbar-brand text-left': at === 'navbar-top' }\r\n      )}\r\n      {...rest}\r\n    >\r\n      <div\r\n        className={classNames(\r\n          'd-flex',\r\n          {\r\n            'align-items-center py-3': at === 'navbar-vertical',\r\n            'align-items-center': at === 'navbar-top',\r\n            'flex-center font-weight-normal fs-5 mb-4': at === 'auth'\r\n          },\r\n          className\r\n        )}\r\n      >\r\n        {/* <img className=\"mr-2\" src={horiz ? logo_horiz : logo} alt=\"Logo\" width={width} />*/}\r\n\r\n        <PinLogo horiz={horiz} width={width} pinStrokeRGB={pinStrokeRGB} className=\"pr-1\" />\r\n\r\n        <span className=\"text-sans-serif\">happin</span>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nLogo.defaultProps = { at: 'auth', width: 30, horiz: false };\r\n\r\nexport default Logo;\r\n","import { $fileserv } from \"../environ\";\r\n\r\nfunction getSizedImageName(src: string, size: \"s\" | \"m\" | \"l\" | \"original\") {\r\n  if (!src) return \"\";\r\n  const validSizes = [\"s\", \"m\", \"l\", \"original\"];\r\n  const sizeExtension = validSizes.includes(size) ? \"_\" + size : \"\";\r\n\r\n  let newSrc = \"\";\r\n  const arrSrc = src.split(\".\");\r\n  if (Array.isArray(arrSrc) && arrSrc.length > 1) {\r\n    arrSrc[arrSrc.length - 2] += sizeExtension;\r\n    newSrc = $fileserv + \"/\" + arrSrc.join(\".\");\r\n  }\r\n\r\n  return newSrc;\r\n}\r\n\r\nexport default getSizedImageName;\r\n","import { has } from \"lodash\";\r\nimport deduplicator from 'store/ducks/deduplicator';\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { DefaultRootState } from \"react-redux\";\r\n\r\nfunction deduplicate (testValue: (string|number)[], cb: ()=>void, force?: boolean):\r\n    ThunkAction<void | null, DefaultRootState, any, any> {\r\n        return (dispatch, getState) => {\r\n            if (!force) {\r\n                const state = getState();\r\n                if ( has( state.deduplicator, testValue ) ) return null;\r\n            }\r\n            dispatch( deduplicator.actions.set(testValue) )\r\n            return cb()\r\n        }\r\n}\r\n\r\nexport default deduplicate;","import { useDispatch, useSelector, DefaultRootState } from  'react-redux';\r\nimport useAction from './useAction';\r\nimport { useCallback, useEffect, useMemo } from 'react';\r\nimport deduplicator from 'store/thunks/deduplicate';\r\nimport { ActionCreator } from 'store/types/interface/common';\r\n\r\nexport interface UseLoadAndSelectReturn<T> {\r\n    loading: boolean;\r\n    error?: any;\r\n    value?: T | null;\r\n    force: ()=>void;\r\n}\r\n\r\ninterface UseLoadAndSelectParams<T> {\r\n    actionCreator?: ActionCreator<any> ;\r\n    selector: (state: DefaultRootState)=>( T | null | undefined );\r\n    equality?: (left: any, right: any)=>boolean;\r\n    postParams?: any[] | any;\r\n    deduplicate?: (string | number)[];\r\n    timeout?: number; \r\n}\r\n\r\nexport type Loader = <T>( params: UseLoadAndSelectParams<T> ) => UseLoadAndSelectReturn<T>\r\n\r\nfunction useLoadAndSelect<T>({actionCreator, selector, equality, postParams, deduplicate, timeout = undefined}: UseLoadAndSelectParams<T>): UseLoadAndSelectReturn<T> {\r\n    const dispatch = useDispatch();\r\n    const {loading, error, post} = useAction(actionCreator, timeout);\r\n    const selected = useSelector( selector, equality );\r\n    \r\n    const load = useCallback(() => {\r\n        if ( actionCreator ) {\r\n            const params = Array.isArray(postParams) ? postParams : [postParams]\r\n            post(...params)\r\n        }\r\n    }, [actionCreator, post, postParams])\r\n\r\n    const send = useCallback( (forcePull: boolean) => {\r\n        dispatch( deduplicator( deduplicate || [], load, forcePull ) )\r\n    }, [load, dispatch, deduplicate])\r\n\r\n    const force = useCallback(() => {\r\n        send(true)\r\n    }, [send])\r\n\r\n    useEffect(() => {\r\n        send(false)\r\n    }, [send])\r\n\r\n    const loader: UseLoadAndSelectReturn<T> = useMemo(() => ({\r\n        loading: loading,\r\n        error: error,\r\n        value: selected,\r\n        force\r\n    }), [loading, error, selected, force])\r\n\r\n    return loader;\r\n}\r\n\r\nexport default useLoadAndSelect;","////// Packages //////////////////\r\nimport React, { useCallback, useState, FC } from \"react\";\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport getSizedImageName from \"../helpers/getSizedImageName\";\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\nexport interface Props extends React.ImgHTMLAttributes<HTMLImageElement> {\r\n  size?: \"s\" | \"m\" | \"l\" | \"original\";\r\n}\r\n\r\nconst Image: FC<Props> = ({\r\n  size = \"original\",\r\n  src = \"\",\r\n  alt = \"\",\r\n  onLoad,\r\n  className = \"\",\r\n  width = \"auto\",\r\n  height = \"auto\",\r\n  ...imageProps\r\n}) => {\r\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\r\n  const handleLoad = useCallback(() => setIsImageLoaded(true), []);\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        className={[className, isImageLoaded ? \"d-block\" : \"d-none\"].join(\" \")}\r\n        src={getSizedImageName(src, size)}\r\n        alt={alt}\r\n        onLoad={handleLoad}\r\n        width={width}\r\n        height={height}\r\n        {...imageProps}\r\n      />\r\n      {!isImageLoaded && (\r\n        <div style={{ width, height }} className=\"image-placeholder\" />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","////// Packages //////////////////\r\nimport React, { FC } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport Flex from \"./Flex\";\r\nimport Image from \"./Image\";\r\nimport ProgressiveImage from \"./ProgressiveImage\";\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\nexport type AvatarSize = \"s\" | \"m\" | \"l\" | \"xl\" | \"2xl\" | \"3xl\" | \"4xl\" | \"5xl\";\r\n\r\nexport interface AvatarProps {\r\n  size?: AvatarSize;\r\n  rounded?: string;\r\n  src?: string | string[];\r\n  name?: string;\r\n  emoji?: string;\r\n  className?: string;\r\n  mediaClass?: string;\r\n  isExact?: boolean;\r\n  icon?: IconProp;\r\n}\r\n\r\nconst Avatar: FC<AvatarProps> = ({\r\n  size = \"xl\",\r\n  rounded = \"circle\",\r\n  src,\r\n  name,\r\n  emoji,\r\n  className,\r\n  mediaClass,\r\n  isExact = false,\r\n  icon\r\n}) => {\r\n  const avatarClassNames = [\"avatar\", `avatar-${size}`, className].join(\" \");\r\n  const mediaClasses = [\r\n    rounded ? `rounded-${rounded}` : \"rounded\",\r\n    mediaClass\r\n  ].join(\" \");\r\n  const sizeMap: { [key: string]: \"s\" | \"m\" | \"l\" | \"original\" } = {\r\n    s: \"s\",\r\n    m: \"s\",\r\n    l: \"s\",\r\n    xl: \"m\",\r\n    \"2xl\": \"m\",\r\n    \"3xl\": \"m\",\r\n    \"4xl\": \"l\",\r\n    \"5xl\": \"l\"\r\n  };\r\n\r\n  const image = (src: string, className?: string) => {\r\n    if (sizeMap[size] === \"l\") {\r\n      return (\r\n        <ProgressiveImage\r\n          className={className}\r\n          src={src}\r\n          size={sizeMap[size] || \"m\"}\r\n          alt=\"\"\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <Image\r\n        className={className}\r\n        src={src}\r\n        size={sizeMap[size] || \"m\"}\r\n        alt=\"\"\r\n        width=\"\"\r\n        height=\"\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const singleImage = (src: string) => image(src, mediaClasses);\r\n\r\n  const doubleImage = (src: string[]) => (\r\n    <div className={`${mediaClasses} overflow-hidden h-100 d-flex`}>\r\n      <div className=\"w-50 border-right\">{image(src[0])}</div>\r\n      <div className=\"w-50\">{image(src[1])}</div>\r\n    </div>\r\n  );\r\n\r\n  const tripleImage = (src: string[]) => (\r\n    <div className={`${mediaClasses} overflow-hidden h-100 d-flex`}>\r\n      <div className=\"w-50 border-right\">{image(src[0])}</div>\r\n      <div className=\"w-50 d-flex flex-column\">\r\n        {image(src[1], \"h-50 border-bottom\")}\r\n        {image(src[2], \"h-50\")}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const getAvatar = () => {\r\n    if (src) {\r\n      if (Array.isArray(src)) {\r\n        switch (src.length) {\r\n          case 0:\r\n            break;\r\n          case 1:\r\n            if (!src[0]) break;\r\n            return singleImage(src[0]);\r\n          case 2:\r\n            return doubleImage(src);\r\n          default:\r\n            return tripleImage(src);\r\n        }\r\n      } else {\r\n        return singleImage(src);\r\n      }\r\n    }\r\n\r\n    if (name) {\r\n      return (\r\n        <div className={`avatar-name ${mediaClasses}`}>\r\n          <span>\r\n            {isExact ? name : name.match(/\\b\\w/g)?.slice(0, 4).join(\"\")}\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (icon) {\r\n      return (\r\n        <Flex className={`avatar-name ${mediaClasses} flex-center`}>\r\n          <FontAwesomeIcon icon={icon} />\r\n        </Flex>\r\n      );\r\n    }\r\n\r\n    if (emoji) {\r\n      return (\r\n        <div className={`avatar-emoji ${mediaClasses}`}>\r\n          <span role=\"img\" aria-label=\"Emoji\">\r\n            {emoji}\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <Flex className={`avatar-name ${mediaClasses} flex-center`}>\r\n        <FontAwesomeIcon icon=\"user\" />\r\n      </Flex>\r\n    );\r\n  };\r\n\r\n  return <div className={avatarClassNames}>{getAvatar()}</div>;\r\n};\r\n\r\nexport default Avatar;\r\n","import { combineReducers } from \"redux\";\r\nimport { \r\n    MPerson,\r\n    MUser,\r\n    MPersonPhoto, \r\n    MUserGroup,\r\n    MOrganization,\r\n    MOrganizationPhoto\r\n} from \"../types/models/id\";\r\nimport { BaseDuck } from \"./BaseDuck\";\r\n\r\nexport const people = new BaseDuck<MPerson>('people');\r\npeople.customMerge = people.replaceArrays;\r\n\r\nexport const personPhotos = new BaseDuck<MPersonPhoto>('personPhotos');\r\n\r\nexport const users = new BaseDuck<MUser>('users');\r\nusers.replaceKeys = ['explicitPermissions', 'mailingAddress']\r\n\r\nexport const usergroups = new BaseDuck<MUserGroup>('usergroups');\r\nusergroups.customMerge = usergroups.replaceArrays;\r\n\r\nexport const organizations = new BaseDuck<MOrganization>('organizations');\r\norganizations.setKeys = ['websites', 'tags']\r\n\r\nexport const organizationPhotos = new BaseDuck<MOrganizationPhoto>('organizationPhotos');\r\n\r\nexport const idReducer = combineReducers({\r\n    people: people.reducer.bind(people),\r\n    personPhotos: personPhotos.reducer.bind(personPhotos),\r\n    users: users.reducer.bind(users),\r\n    usergroups: usergroups.reducer.bind(usergroups),\r\n    organizations: organizations.reducer.bind(organizations),\r\n    organizationPhotos: organizationPhotos.reducer.bind(organizationPhotos)\r\n})","export const $api = \"wss://api.happin.design/api\";\r\nexport const $fileserv = \"https://happin.design/files\";\r\nexport const $fileupload = \"https://happin.design/upload\";\r\nexport const $authentication = \"https://api.happin.design/authentication\";\r\nexport const version = '0.0.1';\r\n\r\nexport const navbarBreakPoint = 'xxl'; // Vertical navbar breakpoint\r\n\r\nexport const topNavbarBreakpoint = 'lg';\r\n\r\nexport const autoDropBreakpoint = 992;\r\n\r\nexport const WEBSOCKET_PREFIX = 'happin/websocket/';\r\n\r\nexport const currencyFormat = new Intl.NumberFormat('en-US', {style: 'currency', currency: 'USD'});","import { AnyAction } from \"redux\"\r\nimport { LoginState } from \"store/types/interface/common\"\r\n\r\nexport const types = {\r\n    SET_LOGIN: 'happin/login/SET_LOGIN',\r\n    ON_LOGIN: 'happin/login/ON_LOGIN'\r\n}\r\n\r\nconst DEFAULT_STATE: LoginState = {\r\n    loggedIn: false,\r\n    userId: '',\r\n    personId: '',\r\n    organizationId: ''\r\n}\r\n\r\nexport function reducer(state=DEFAULT_STATE, action: AnyAction = {type: 'none'}) {\r\n\r\n    switch(action.type) {\r\n\r\n        case types.SET_LOGIN: { \r\n            return {...state, loggedIn: action.payload}\r\n        }\r\n\r\n        case types.ON_LOGIN: {\r\n            return {loggedIn: state.loggedIn, ...action.payload}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction onLogin(userId, personId, organizationId) {\r\n    return {\r\n        type: types.ON_LOGIN,\r\n        payload: {\r\n            userId,\r\n            personId,\r\n            organizationId\r\n        }\r\n    }\r\n}\r\n\r\nfunction setLogin(isLoggedIn) {\r\n    return {\r\n        type: types.SET_LOGIN,\r\n        payload: isLoggedIn\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    onLogin,\r\n    setLogin\r\n}\r\n\r\nconst login = {\r\n    types,\r\n    reducer,\r\n    actions\r\n}\r\n\r\nexport default login;","////// Packages //////////////////\r\nimport React, { FC, useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Card, CardBody, DropdownMenu, DropdownToggle, Dropdown } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport { breakpoints } from 'helpers/utils';\r\nimport { topNavbarBreakpoint } from '../../../environ';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\nexport interface NavbarDropdownProps {\r\n  title: string;\r\n  right?: boolean;\r\n  children: React.ReactNode;\r\n  dropdownConfig?: {\r\n    class?: {\r\n      card?: string;\r\n      body?: string;\r\n    };\r\n    img?: {\r\n      src?: string;\r\n      width?: string;\r\n    }\r\n\r\n  }\r\n}\r\nconst NavbarDropdown: FC<NavbarDropdownProps> = ({ title, right, children, dropdownConfig={} }) => {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n\r\n  const {\r\n    class: {\r\n      card: dropdownCardClass = '',\r\n      body: dropdownCardBodyClass = ''\r\n    } = {},\r\n    img: {\r\n      src: dropdownCardHeaderImg = '',\r\n      width: dropdownCardHeaderImgWidth = 130\r\n    } = {}\r\n  } = dropdownConfig\r\n\r\n  return (\r\n      <Dropdown\r\n        nav\r\n        inNavbar\r\n        isOpen={dropdownOpen}\r\n        toggle={() => setDropdownOpen(!dropdownOpen)}\r\n        onMouseOver={() => {\r\n          const windowWidth = window.innerWidth;\r\n          if (windowWidth >= breakpoints[topNavbarBreakpoint]) {\r\n            setDropdownOpen(true);\r\n          }\r\n        }}\r\n        onMouseLeave={() => {\r\n          const windowWidth = window.innerWidth;\r\n          if (windowWidth >= breakpoints[topNavbarBreakpoint]) {\r\n            setDropdownOpen(false);\r\n          }\r\n        }}\r\n      >\r\n        <DropdownToggle nav caret>\r\n          { title }\r\n        </DropdownToggle>\r\n        { children && (\r\n          <DropdownMenu right={ right } className=\"dropdown-menu-card mt-0\">\r\n              <Card className={ classNames( 'shadow-none max-h-dropdown', dropdownCardClass ) } >\r\n                { dropdownCardHeaderImg && \r\n                  <img src={ dropdownCardHeaderImg } alt=\"\" className=\"position-absolute b-0 r-0\" width={ dropdownCardHeaderImgWidth } />\r\n                }\r\n                <CardBody className={ classNames( 'scrollbar', dropdownCardBodyClass ) }>\r\n                  <div className=\"nav flex-column\">\r\n                    { children }\r\n                  </div>\r\n                </CardBody>\r\n              </Card>\r\n            </DropdownMenu>\r\n          )\r\n        }\r\n      </Dropdown>\r\n  );\r\n};\r\n\r\nexport default NavbarDropdown;\r\n","import React, { FC } from 'react';\r\nimport NavbarDropdown, {NavbarDropdownProps} from './NavbarDropdown';\r\nimport { NavLink } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Props extends NavbarDropdownProps {\r\n    isDropdown?: boolean;\r\n    linkTo?: string;\r\n    title: string;\r\n}\r\n\r\nconst NavbarItem: FC<Props> = ({ isDropdown, linkTo, title, children, ...rest }) => (\r\n    <>\r\n        { isDropdown ? \r\n                <NavbarDropdown { ...rest } title={title} >\r\n                    {children}\r\n                </NavbarDropdown>\r\n            :   \r\n                <NavLink to={linkTo} tag={Link} >\r\n                    { title }\r\n                    { children }\r\n                </NavLink>\r\n        }\r\n    </>\r\n)\r\n\r\nexport default NavbarItem;\r\n","////// Packages //////////////////\r\nimport React, { FC } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DropdownItem } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n////// Local Components //////////\r\nimport NavbarItem from './NavbarItem';\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport { \r\n    adminRoutes, \r\n    financeRoutes, \r\n    homeRoutes, \r\n    managementRoutes, \r\n    reportingRoutes, \r\n    RouteDef, \r\n    socialRoutes, \r\n    timeRoutes, \r\n    workflowRoutes \r\n} from '../../../routes/routes';\r\nimport { breakpoints } from 'helpers/utils';\r\nimport { navbarBreakPoint, topNavbarBreakpoint } from 'environ';\r\nimport { settings } from 'store/ducks/settings';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\ninterface Props {\r\n}\r\n\r\nconst NavbarTopDropDownMenus: FC<Props> = () => {\r\n  const dispatch = useDispatch()\r\n  const isCombo = useSelector( state => state.app.settings?.isCombo )\r\n  const isTopNav = useSelector( state => state.app.settings?.isTopNav )\r\n\r\n  const handleSetNavbarCollapsed = () => {\r\n    const windowWidth = window.innerWidth;\r\n    isTopNav && !isCombo && windowWidth < breakpoints[topNavbarBreakpoint] && dispatch(settings.actions.setNavbarCollapsed(false));\r\n    isCombo && windowWidth < breakpoints[navbarBreakPoint] && dispatch(settings.actions.setShowBurgerMenu(false));\r\n  };\r\n\r\n  const renderListMenu = (items?: RouteDef[]) => (\r\n    items?.map( ({ to, name }, index) => (\r\n      <DropdownItem tag={ Link } to={ to } key={ index } onClick={ handleSetNavbarCollapsed }>\r\n        { name }\r\n      </DropdownItem>\r\n    ))\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <NavbarItem linkTo=\"/home\" title={homeRoutes.name} >\r\n        { renderListMenu(homeRoutes.children) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem isDropdown title={managementRoutes.name} >\r\n        { renderListMenu(managementRoutes.children!) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem linkTo='/workflows' title={workflowRoutes.name}>\r\n      { renderListMenu(workflowRoutes.children) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem isDropdown title={timeRoutes.name} >\r\n        { renderListMenu(timeRoutes.children!) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem isDropdown title={financeRoutes.name} >\r\n        { renderListMenu(financeRoutes.children!) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem isDropdown title={socialRoutes.name} >\r\n        { renderListMenu(socialRoutes.children!) }\r\n      </NavbarItem>\r\n\r\n      <NavbarItem linkTo='#' title={reportingRoutes.name} />\r\n\r\n      <NavbarItem isDropdown title={adminRoutes.name} >\r\n        { renderListMenu(adminRoutes.children!) }\r\n      </NavbarItem>\r\n    </>\r\n  );\r\n};\r\n\r\nNavbarTopDropDownMenus.propTypes = { setNavbarCollapsed: PropTypes.func.isRequired };\r\n\r\nexport default NavbarTopDropDownMenus;\r\n","import { $api } from 'environ';\r\nimport { useCallback, useMemo, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport login from 'store/ducks/login';\r\nimport { types } from 'store/ducks/ws';\r\nimport { v4 as uuid} from 'uuid';\r\n\r\ntype WebSocketHolder = {\r\n    [url: string]: {\r\n        socket: WebSocket | null,\r\n        connectionRequests: number,\r\n        reconnectAttempts: number,\r\n        reconnectInterval: number,\r\n        currentRetries: number,\r\n        onOpen?: (event: WebSocketEventMap['open']) => void,\r\n        onClose?: (event: WebSocketEventMap['close']) => void,\r\n        onMessage?: (event: WebSocketEventMap['message']) => void,\r\n        onError?: (event: WebSocketEventMap['error']) => void,\r\n        onReconnectStop?: (numAttempted: number) => void,\r\n        shouldReconnect?: boolean,\r\n        queue: string[]\r\n    }\r\n}\r\n\r\nconst ws: WebSocketHolder = {\r\n    [$api]: {\r\n        socket: null,\r\n        connectionRequests: 0,\r\n        currentRetries: 0,\r\n        reconnectInterval: 5000,\r\n        reconnectAttempts: 20,\r\n        shouldReconnect: true,\r\n        queue: []\r\n    }\r\n}\r\n\r\nsetInterval( () => {\r\n    const {socket, queue} = ws[$api]\r\n    if (queue.length > 0) {\r\n        if (socket && socket.readyState === socket.OPEN) {\r\n            while (queue.length > 0) {\r\n                socket.send(queue[0]);\r\n                queue.shift();\r\n            }\r\n        }\r\n    }   \r\n}, 1000)\r\n\r\nsetInterval( () => {\r\n    const {socket} = ws[$api];\r\n    try { \r\n        socket?.send('keepalive')\r\n    } catch(err) {\r\n        return\r\n    }\r\n    \r\n}, 10000)\r\n\r\nconst useWS = () => {\r\n    const dispatch = useDispatch();\r\n    const [lastJsonMessage, setLastJsonMessage] = useState(null as string | null)\r\n\r\n    useEffect(() => {\r\n        ws[$api].shouldReconnect = true;\r\n        openSocket();\r\n        ws[$api].connectionRequests ++;\r\n        return handleDerender\r\n    }, [])\r\n\r\n    function handleDerender() {\r\n        ws[$api].connectionRequests --;\r\n        if ( ws[$api].connectionRequests <= 0 ) {\r\n            ws[$api].connectionRequests = 0;\r\n            ws[$api].shouldReconnect = false;\r\n            if (ws[$api].socket) {\r\n                ws[$api].socket!.close()\r\n            }\r\n        }\r\n    }\r\n\r\n    function openSocket() {\r\n        if (!ws[$api].shouldReconnect) return\r\n        if (ws[$api].socket) return;\r\n        // eslint-disable-next-line\r\n        // @ts-ignore\r\n        const socket =  new WebSocket($api);\r\n        ws[$api].socket = socket;\r\n        socket.onopen = (event) => {\r\n            dispatch( {type: types.OPEN} );\r\n            ws[$api].currentRetries = 0;\r\n        };\r\n        socket.onclose = event => handleSocketClose(ws[$api], event)\r\n        socket.onmessage = (event) => {\r\n            const data = JSON.parse( event.data )\r\n            if (data?.forceLogin) {\r\n                dispatch({ type: 'RESET' })\r\n            }\r\n            dispatch( { type: types.MESSAGE, payload: data } )\r\n\r\n        }\r\n        socket.onerror = (event) => { dispatch( {type: types.ERROR}); socket.close()}\r\n    }\r\n\r\n    function handleSocketClose(socketConfig: WebSocketHolder[''], event: WebSocketEventMap['close']) {\r\n        console.log('socket closed', event)\r\n        dispatch( {type: types.CLOSE} );\r\n        socketConfig.currentRetries ++;\r\n        socketConfig.socket = null;\r\n        if (socketConfig.currentRetries > socketConfig.reconnectAttempts) {\r\n            onReconnectStop(socketConfig.currentRetries)\r\n        } else {\r\n            setTimeout( () => {\r\n                openSocket()\r\n            }, socketConfig.reconnectInterval)\r\n        }\r\n    }\r\n    \r\n    function onReconnectStop(numAttempted: number) {\r\n        dispatch( login.actions.setLogin(false) )\r\n    }\r\n\r\n    const socket = ws[$api].socket;\r\n\r\n    const send = useCallback( (message: Record<string, any>) => {\r\n        const requestId = uuid();\r\n        const messageToSend = JSON.stringify({...message, requestId});\r\n        if (socket && socket.readyState === socket.OPEN) {\r\n            socket.send(messageToSend);\r\n            setLastJsonMessage(messageToSend)\r\n        } else {\r\n            ws[$api].queue.push(messageToSend);\r\n        }\r\n        return requestId;\r\n     }, [socket])\r\n\r\n     const reply = useMemo(() => ({\r\n         socket,\r\n         send,\r\n         lastJsonMessage,\r\n         readyState: socket?.readyState\r\n     }), [socket, send, lastJsonMessage, socket?.readyState]);\r\n\r\n     return reply\r\n}\r\n\r\nexport default useWS;","export const types = {\r\n    SET: 'happin/deduplicator/SET',\r\n    CLEAR: 'happin/deduplicator/CLEAR',\r\n    RESET: 'happin/deduplicator/RESET'\r\n}\r\n\r\nexport function reducer(state = {}, action = {}) {\r\n    switch(action.type) {\r\n        case types.SET: {\r\n            const obj = {...state};\r\n            let recursor = obj;\r\n            for (const i in action.payload) {\r\n                const key = action.payload[i];\r\n                if (i < action.payload.length - 1) {\r\n                    recursor[key] = {...recursor[key]}\r\n                    recursor = recursor[key]\r\n                } else {\r\n                    recursor[key] = true;\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n\r\n        case types.CLEAR: {\r\n            const obj = {...state};\r\n            let recursor = obj;\r\n            for (const i in action.payload) {\r\n                const key = action.payload[i];\r\n                if (i < action.payload.length - 1) {\r\n                    recursor[key] = {...recursor[key]}\r\n                    recursor = recursor[key]\r\n                } else {\r\n                    delete recursor[key];\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n\r\n        case types.RESET: return {};\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nfunction set(path) {\r\n    if (!Array.isArray(path)) return {type: ''}\r\n    return {\r\n        type: types.SET,\r\n        payload: path\r\n    }\r\n}\r\n\r\nfunction clear(path) {\r\n    if (!Array.isArray(path)) return {type: ''}\r\n    return {\r\n        type: types.CLEAR,\r\n        payload: path\r\n    }\r\n}\r\n\r\nfunction reset() {\r\n    return {\r\n        type: types.RESET\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    set,\r\n    clear,\r\n    reset\r\n}\r\nconst deduplicator = {\r\n    types,\r\n    reducer,\r\n    actions\r\n}\r\n\r\nexport default deduplicator;","import { IName } from \"store/types/models/id\";\r\n\r\ntype OptionalString = string | false | undefined;\r\n\r\nfunction space(words?: OptionalString[]) {\r\n  if (words && Array.isArray(words) && words.length > 0) {\r\n    return words.filter((x) => x).join(\" \");\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction commaSeparate(words?: OptionalString[]) {\r\n  if (words && Array.isArray(words) && words.length > 0) {\r\n    return words.filter((x) => x).join(\", \");\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction forceTitleCase(word?: string, use?: boolean) {\r\n  if (use && word && typeof word === \"string\") {\r\n    word = word[0].toUpperCase() + word.slice(1) || \"\";\r\n  }\r\n  return word || \"\";\r\n}\r\n\r\n/* objName is a name stored in the form \r\n{\r\n    prefix: String?,\r\n    first: String?,\r\n    common: String?,\r\n    middle: String?,\r\n    last: String?,\r\n    title: String?\r\n} \r\n\r\n options is an object of the form \r\n{\r\n    prefix: Boolean?,\r\n    first: Boolean? / 'abbreviated',\r\n    common: Boolean? / 'abbreviated',\r\n    middle: Boolean? / 'abbreviated',\r\n    last: Boolean? / 'abbreviated',\r\n    title: Boolean?,\r\n    reverse: Boolean?, --changes name to  last, first middle, prefix, title format\r\n    coerceUpper: Boolean? -- ensures that all names are returned in upper case\r\n} \r\n\r\ncollisions where \r\n    objName is undefined and options is true or\r\n    objName is defined and options are false\r\nare resolved by ignoring the part with collision\r\n\r\ncollision of options\r\n    first: true AND common: true\r\nis resolved by printing the common name instead of the first name\r\n\r\n*/\r\nexport interface MakeNameProps {\r\n  prefix?: boolean;\r\n  first?: boolean | \"abbreviated\";\r\n  common?: boolean | \"abbreviated\";\r\n  middle?: boolean | \"abbreviated\";\r\n  last?: boolean | \"abbreviated\";\r\n  title?: boolean;\r\n  reverse?: boolean;\r\n  coerceUpper?: boolean;\r\n  flat?: boolean;\r\n}\r\n\r\nfunction makeName(\r\n  objName: IName | undefined,\r\n  {\r\n    prefix,\r\n    first,\r\n    common,\r\n    middle,\r\n    last,\r\n    title,\r\n    reverse,\r\n    coerceUpper,\r\n    flat\r\n  }: MakeNameProps = { first: true, common: true, last: true }\r\n) {\r\n  if (typeof objName !== \"object\") return \"\";\r\n  if (!objName) return \"\";\r\n  const p = forceTitleCase(objName.prefix, coerceUpper);\r\n  const f = forceTitleCase(objName.first, coerceUpper);\r\n  const c = forceTitleCase(objName.common, coerceUpper);\r\n  const m = forceTitleCase(objName.middle, coerceUpper);\r\n  const l = forceTitleCase(objName.last, coerceUpper);\r\n  const t = forceTitleCase(objName.title, coerceUpper);\r\n  \r\n  if (flat) return (['prefix', 'first', 'common', 'middle', 'last', 'title'] as const).map(a => objName?.[a]).filter(s=>s).join(' ')\r\n\r\n  if (reverse) {\r\n    return commaSeparate([\r\n      last && l && (last === \"abbreviated\" ? l[0] + \".\" : l),\r\n      space([\r\n        common && c && (common === \"abbreviated\" ? c[0] + \".\" : c),\r\n        first &&\r\n          (!common || !c) &&\r\n          f &&\r\n          (first === \"abbreviated\" ? f[0] + \".\" : f),\r\n        middle && m && (middle === \"abbreviated\" ? m[0] + \".\" : m)\r\n      ]),\r\n      prefix && p,\r\n      title && t\r\n    ]);\r\n  } else {\r\n    return commaSeparate([\r\n      space([\r\n        prefix && p,\r\n        common && (c || \"\") && (common === \"abbreviated\" ? c[0] + \".\" : c),\r\n        first &&\r\n          (!common || !c) &&\r\n          (f || \"\") &&\r\n          (first === \"abbreviated\" ? f[0] + \".\" : f),\r\n        middle && (m || \"\") && (middle === \"abbreviated\" ? m[0] + \".\" : m),\r\n        last && l && (last === \"abbreviated\" ? l[0] + \".\" : l)\r\n      ]),\r\n      title && t\r\n    ]);\r\n  }\r\n}\r\n\r\nexport default makeName;\r\n","import { IName, MPerson } from 'store/types/models/id';\r\nimport { Permission } from 'store/types/models/common';\r\nimport { ActionCreator } from 'store/types/interface/common';\r\n\r\n\r\nexport const getAdminOrgEmployees: ActionCreator<['getAdminOrgEmployees']> = (organizationId: string, pageNumber: number, numberPerPage: number) => {\r\n    const actions = [\r\n        {\r\n            name: 'getAdminOrgEmployees',\r\n            data: {\r\n                organizationId,\r\n                pageNumber,\r\n                numberPerPage\r\n            }\r\n        }\r\n    ] as const;\r\n    return {actions}\r\n}\r\n\r\n\r\nexport const getUserFromPerson: ActionCreator<[\"getUserFromPerson\"]> = (personId: MPerson['_id']) => {\r\n    const actions = [\r\n        {\r\n            name: 'getUserFromPerson',\r\n            data: {personId}\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\nexport const getAdminUserInfo: ActionCreator<[\"getAdminUserInfo\"]> = (userId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'getAdminUserInfo',\r\n            data: {\r\n                userId\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\n\r\nexport const getUserInfo: ActionCreator<[\"getUserInfo\"]> = (userId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'getUserInfo',\r\n            data: {\r\n                userId\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\n\r\nexport const addOrganizationUser: ActionCreator<[\"addOrganizationUser\"]> = (firstName: string, lastName: string, email: string, position: string) => {\r\n    const name = {\r\n        first: firstName,\r\n        last: lastName\r\n    }\r\n    const actions = [\r\n        {\r\n            name: 'addOrganizationUser',\r\n            data: {\r\n                name,\r\n                email,\r\n                position\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\n\r\nexport const setUserInfo: ActionCreator<[\"setUserInfo\"]> = (name: IName, internalId, startDate: Date, position: string, email: string, mailingAddress, phoneNumber, userId: string) => {\r\n    const actions = [\r\n        {\r\n            name: \"setUserInfo\",\r\n            data: {\r\n                userId,\r\n                name,\r\n                internalId,\r\n                startDate,\r\n                position,\r\n                email,\r\n                mailingAddress,\r\n                phoneNumber\r\n            }\r\n        }\r\n        //mailingAddress\r\n        //phoneNumber\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\n\r\nexport const sendUserPermissions: ActionCreator<[\"setUserExplicitPermissions\"]> = (explicitPermissions: Permission[], userId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'setUserExplicitPermissions',\r\n            data: {\r\n                userId,\r\n                explicitPermissions\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\nexport const activateUser: ActionCreator<[\"setOrgEmployeeActive\"]> = (personId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'setOrgEmployeeActive',\r\n            data: {\r\n                active: true,\r\n                personId\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\nexport const deactivateUser: ActionCreator<[\"setOrgEmployeeActive\"]> = (personId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'setOrgEmployeeActive',\r\n            data: {\r\n                active: false,\r\n                personId\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\n\r\nexport const removeOrganizationUser: ActionCreator<[\"setOrgEmployeeRemoved\"]> = (personId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'setOrgEmployeeRemoved',\r\n            data: {\r\n                personId,\r\n                removed: true\r\n            }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\n\r\nconst thunks = {\r\n    getAdminOrgEmployees,\r\n    addOrganizationUser,\r\n    setUserInfo,\r\n    sendUserPermissions,\r\n    activateUser,\r\n    deactivateUser,\r\n    removeOrganizationUser\r\n}\r\n\r\nexport default thunks","const PERMISSIONS = {\r\n\r\n    GLOBAL_ADMIN: 'Organization global administrator',\r\n\r\n    workflow: {\r\n        EDIT_WORKFLOW_INFO: \"Edit this workflow's information\",\r\n        EDIT_WORKFLOW_TASKS: \"Edit this workflow's milestones and tasks\",\r\n        CREATE_ASSIGNMENTS: 'Create assignments in this workflow',\r\n        VIEW_BUDGET_INFO: 'View this budget information of this workflow',\r\n        VIEW_TIME_CHARGED: 'View time charged to this workflow',\r\n        VIEW_DOCUMENTS: 'View documents in this workflow',\r\n        EDIT_DOCUMENTS: 'Add or edit documents in this workflow',\r\n        EDIT_PHOTOS: 'Add or edit photos in this workflow',\r\n        INVITE_USERS: 'Invite users to join',\r\n        SET_USER_PERMISSIONS: 'Set permissions for other users in this workflow'\r\n    },\r\n    \r\n    EDIT_ORGANIZATION: 'Edit the organization',\r\n    EDIT_SYSTEM_SETTINGS: 'Edit system settings',\r\n    CREATE_NEW_USERS: 'Add and edit organization users',\r\n    ASSIGN_MANAGERS: 'Assign employees to managers',\r\n    CREATE_PERMISSIONS_GROUP: 'Create a permissions group',\r\n    ASSIGN_EMPLOYEES_TO_PERMISSIONS_GROUP: 'Add employees to a permission group',\r\n\r\n    EDIT_ALL_TIMESHEETS: 'Edit any timesheet',\r\n    EDIT_CLOSED_TIMESHEETS: 'Edit closed timesheets',\r\n    UNIVERSAL_APPROVAL_TIMESHEET: 'Approve any timesheet',\r\n    UNIVERSAL_APPROVAL_TIMEOFF: 'Approve any time off',\r\n\r\n    CREATE_WORKFLOWS: 'Create new workflows',\r\n    EDIT_ANY_WORKFLOW_INFO: \"Edit any workflow's information\",\r\n    VIEW_ANY_WORKFLOW_STAGE_INFO: \"View any workflow's stage info\",\r\n    EDIT_ANY_WORKFLOW_STAGE_INFO: \"Edit any workflow's stage info\",\r\n    EDIT_ANY_WORKFLOW_TASKS: \"Edit any workflow's milestones and tasks\",\r\n    CREATE_ASSIGNMENTS: 'Create assignments',\r\n    VIEW_TIME_CHARGED: 'View all time charged',\r\n    POST_COMMENTS: 'Post comments to any workflow',\r\n    GENERATE_REPORTS: 'Generate administrative reports',\r\n    VIEW_BUDGET_INFO: 'View any contract or workflow budget information',\r\n\r\n    ENTER_ANY_EXPENSE: \"Create expenses on others' behalf\",\r\n    UNIVERSAL_APPROVAL_EXPENSE: 'Create or approve any expense',\r\n\r\n    CREATE_TIME_CODES_AND_TIME_TYPES: 'Create or edit time codes and time types',\r\n    CREATE_CONTRACT: 'Create new contracts',\r\n    EDIT_CONTRACT: 'Create new contracts',\r\n    VIEW_INVOICES: 'View generated invoices',\r\n    EDIT_INVOICES: 'Edit generated invoices',\r\n    APPROVE_INVOICES: 'Approve generated invoices',\r\n    SET_WAGES: 'Set Employee Wages',\r\n    EDIT_CONTACTS: \"Create and edit contacts' information\"\r\n} as const\r\n\r\nexport default PERMISSIONS;","////// Packages //////////////////\r\nimport React, { FC } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport Avatar, {AvatarProps} from '../components/Avatar';\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\ninterface Props {\r\n  to?: string;\r\n  avatar: AvatarProps;\r\n  time: string;\r\n  className?: string;\r\n  unread?: boolean;\r\n  flush?: boolean;\r\n  emoji?: React.ReactNode;\r\n\r\n}\r\nconst Notification: FC<Props> = ({ to, avatar, time, className, unread, flush, emoji, children }) => (\r\n  <Link className={classNames('notification', { 'bg-200': unread, 'notification-flush': flush }, className)} to={to || \"#\"}>\r\n    {avatar && (\r\n      <div className=\"notification-avatar\">\r\n        <Avatar {...avatar} className=\"mr-3\" />\r\n      </div>\r\n    )}\r\n    <div className=\"notification-body\">\r\n      <p className={emoji ? 'mb-1' : 'mb-0'} >\r\n        { children }\r\n      </p>\r\n      <span className=\"notification-time\">\r\n        {emoji && (\r\n          <span className=\"mr-1\" role=\"img\" aria-label=\"Emoji\">\r\n            {emoji}\r\n          </span>\r\n        )}\r\n        {time}\r\n      </span>\r\n    </div>\r\n  </Link>\r\n);\r\n\r\n\r\nexport default Notification;\r\n","// const mergeById = (target: Record<string, any> | any[], source: Record<string, any> | any[], key?: string | undefined, replaceKeys?: string[]) => {\r\n//     const targetType = Object.prototype.toString.call(target);\r\n//     const sourceType = Object.prototype.toString.call(source);\r\n\r\nimport { concat, keyBy, mergeWith, unset } from \"lodash\";\r\n\r\n//     switch (sourceType) {\r\n//         case '[object Undefined]':\r\n//             return;\r\n//         case '[object Array]': {\r\n//             if (!(targetType === sourceType)) {\r\n//                 return target = source\r\n//             }\r\n//             for (const src of source) {\r\n//                 const srcType = Object.prototype.toString.call(src);\r\n//                 if (srcType === '[object Object]' && src._id) {\r\n//                     //perform a search of the target for matching _id field\r\n//                     let found = false\r\n//                     for (const trg of target) {\r\n//                         const trgType = Object.prototype.toString.call(trg);\r\n//                         if (trgType === '[object Object]' && trg._id) {\r\n//                             if ( trg._id === src._id ) {\r\n//                                 mergeById(trg, src, undefined, replaceKeys)\r\n//                                 found = true\r\n//                                 break;\r\n//                             }\r\n//                         }\r\n//                     }\r\n//                     if (!found) target.push(src)\r\n//                 } else {\r\n//                     target.push(src)\r\n//                 }\r\n//             }\r\n//             break;\r\n//         }\r\n//         case '[object Object]': {\r\n//             if (!(targetType === sourceType)) {\r\n//                 return target = source\r\n//             } \r\n//             for (const key in source) {\r\n//                 console.log('source', source)\r\n//                 console.log('target', target)\r\n//                 // if (replaceKeys?.includes(key)) {\r\n//                 //     target[key] = source[key]\r\n//                 // }\r\n//                 const src = source[key];\r\n//                 const trg = target[key];\r\n//                 const srcType = Object.prototype.toString.call(src);\r\n//                 const trgType = Object.prototype.toString.call(trg);\r\n//                 if ((srcType === '[object Object]' || srcType === '[object Array]') && srcType === trgType) {\r\n//                     mergeById(trg, src, key, replaceKeys)\r\n//                 } else if (srcType === '[object Undefined]') {\r\n//                     break;\r\n//                 } else {\r\n//                     target[key] = source[key]\r\n//                 }\r\n//             }\r\n//         }\r\n\r\n//     }\r\n// }\r\n\r\n// export default mergeById;\r\n\r\n\r\nexport function mergeById(replaceKeys?: string[], setKeys?: string[]) {\r\n    function customizer(objVal: any, srcVal: any, key: string, object: any, source: any, stack: any): any {\r\n        if ( replaceKeys?.includes(key) ) {\r\n            return srcVal\r\n        }\r\n        if ( setKeys?.includes(key)) {\r\n            const set = new Set()\r\n            if (Array.isArray(srcVal)) {\r\n                if (Array.isArray(objVal)) {\r\n                    objVal.forEach( val => set.add(val))\r\n                }\r\n                srcVal.forEach( val => set.add(val))\r\n            }\r\n            return Array.from(set)\r\n        }\r\n        const srcType = Object.prototype.toString.call(srcVal)\r\n        if ( srcType === '[object Object]') {\r\n            const objType = Object.prototype.toString.call(objVal)\r\n            if (objType === '[object Object]' && srcVal[\"~delete~\"]) {\r\n                console.log('found a delete key')\r\n                delete object[key]\r\n                return null\r\n            }\r\n            return\r\n        } else if ( srcType === '[object Array]' ) {\r\n            if (srcVal[0]) {\r\n                if (Object.prototype.toString.call(srcVal[0]) === '[object Object]' && srcVal[0]['_id']) {\r\n                    const merged = mergeWith(keyBy(objVal, '_id'), keyBy(srcVal, '_id'), mergeById(replaceKeys, setKeys));\r\n                    const values = Object.values(merged).filter(s=>s);\r\n                    return values\r\n                }\r\n                return concat(objVal || [], srcVal)\r\n            }\r\n            \r\n        }\r\n    }\r\n    return customizer\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { produce } from 'immer';\r\nimport { concat, mergeWith } from 'lodash';\r\nimport dayjs from \"dayjs\";\r\nimport { WritableDraft } from \"immer/dist/internal\";\r\nimport { mergeById } from \"helpers/mergeById\";\r\nimport {types} from './ws';\r\n\r\ntype DeepPartial<T> = T extends Record<any, any> \r\n    ?\r\n    {[K in keyof T]?: DeepPartial<T[K]>}\r\n    :\r\n    T\r\n\r\nexport class BaseDuck<T> {\r\n    public duckName: string;\r\n    public DEFAULT_STATE: Record<string | number | symbol, T>;\r\n    private basicTypes: {INSERT: string; UPSERT: string; REMOVE: string;};\r\n\r\n    constructor (duckName: string, DEFAULT_STATE: Record<string | number | symbol, T> = {}) {\r\n        this.duckName = duckName;\r\n        this.DEFAULT_STATE = DEFAULT_STATE;\r\n        this.basicTypes = {\r\n            INSERT: 'happin/' + duckName + '/INSERT',\r\n            UPSERT: 'happin/' + duckName + '/UPSERT',\r\n            REMOVE: 'happin/' + duckName + '/REMOVE'\r\n        } \r\n        this.dateKeys = {};\r\n    }\r\n\r\n    public standardMerge = () => undefined;\r\n    public replaceArrays = (objVal: any, srcVal: any) => Array.isArray(srcVal) ? srcVal : undefined;\r\n    public concatArrays = (objVal: any, srcVal: any) => Array.isArray(srcVal) ? concat(objVal, srcVal) : undefined;\r\n    public dateKeys: Partial<T>;\r\n    public mergeDates = (objVal: any, srcVal: any) => (objVal && srcVal) ?? dayjs(objVal).unix();\r\n    \r\n    public customMerge: \r\n    (\r\n        objValue: unknown, \r\n        srcValue: unknown, \r\n        key?: string, \r\n        object?: Record<string, unknown>, \r\n        source?: Record<string, unknown>, \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        stack?: any\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    ) => any \r\n    = this.standardMerge;\r\n\r\n\r\n    reducer(this: BaseDuck<T>, state: Record<string | number | symbol, T> = this.DEFAULT_STATE, action: AnyAction = {type: 'none'}): Record<string | number | symbol, T> {\r\n\r\n        return produce(state, draft => {\r\n            const {type, payload} = action;\r\n\r\n            if (type === types.MESSAGE) {\r\n                const message = payload;\r\n                if (!message || message.error) return;\r\n\r\n                const { records } = message;\r\n                if (!records || !Array.isArray(records)) return;\r\n                const customizer = mergeById(this.replaceKeys, this.setKeys);\r\n\r\n                for (const record of records) {\r\n                    if (record[ this.duckName ]) {\r\n                        const changeObjects = record[ this.duckName ];\r\n                        if (!changeObjects || !Array.isArray(changeObjects)) break;\r\n                        for (const changeObject of changeObjects) {\r\n                            if (Object.prototype.toString.call(changeObject) !== '[object Object]') break;\r\n                            const {_id} = changeObject;\r\n                            if (draft[_id]) {\r\n                                if (changeObject[\"~delete~\"]) {\r\n                                    delete draft[_id]\r\n                                } else {\r\n                                    mergeWith(draft[_id], changeObject, customizer)\r\n                                }\r\n                            } else {\r\n                                draft[_id] = changeObject\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n                    \r\n\r\n            if (!payload?.id) return;\r\n            \r\n            switch(type) {\r\n                case this.basicTypes.INSERT:\r\n                    draft[payload.id] = payload.data\r\n                    break\r\n                case this.basicTypes.UPSERT:\r\n                    if (draft[payload.id] !== undefined) {\r\n                        mergeWith(draft[payload.id], payload.data, mergeById(this.replaceKeys))\r\n                    } else {\r\n                        draft[payload.id] = payload.data\r\n                    }\r\n                    break\r\n                case this.basicTypes.REMOVE:\r\n                    delete draft[payload.id]\r\n                    break\r\n            }\r\n            this.customReducer(draft, action)\r\n        })\r\n    }\r\n\r\n    insert(insertObject: T, id: string | number) {\r\n        return {\r\n            type: this.basicTypes.INSERT,\r\n            payload: {\r\n                id,\r\n                data: insertObject\r\n            }\r\n        }\r\n    }\r\n\r\n    upsert(updateObject: DeepPartial<T>, id: string | number) {\r\n        return {\r\n            type: this.basicTypes.UPSERT,\r\n            payload: {\r\n                id,\r\n                data: updateObject\r\n            }\r\n        }\r\n    }\r\n\r\n    remove(id: string | number) {\r\n        return {\r\n            type: this.basicTypes.REMOVE,\r\n            payload: {\r\n                id\r\n            }\r\n        }\r\n    }\r\n\r\n    public customTypes: Record<string, string>={}\r\n\r\n    get types() {\r\n        return {\r\n            ...this.basicTypes,\r\n            ...this.customTypes\r\n        }\r\n    }\r\n    public actions: Record<string, (...args: any[])=>AnyAction>  = {}\r\n\r\n    public replaceKeys: string[] = [];\r\n    public setKeys: string[] = [];\r\n    // eslint-disable-next-line\r\n    public customReducer( draft: WritableDraft<Record<string | number | symbol, T>>, action: AnyAction ) {  }\r\n\r\n}","import { useCallback, useEffect, useMemo, useRef, useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { ActionCreator, WsMessage } from 'store/types/interface/common';\r\nimport useWS from './useWS';\r\n\r\nexport const useAction = (actionCreator?: ActionCreator<any>, timeout = 3000) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const { send } = useWS();\r\n    const [requestId, setRequestId] = useState(null as null | string);\r\n    const response = useSelector( state => state.ws.messageLog.find( message => message.requestId === requestId ) as WsMessage )\r\n\r\n    const resolver = useRef( null as null |( (value: WsMessage)=>void) );\r\n\r\n    useEffect(() => {\r\n        if (response) {\r\n            if (resolver.current) resolver.current(response)\r\n        }\r\n    }, [response])\r\n\r\n    const post = useCallback( async (...params: any[]): Promise<WsMessage | null> => {\r\n        if ( !actionCreator ) return null;\r\n\r\n        setLoading(true);\r\n        const timer = setTimeout(() => {\r\n            setLoading(false);\r\n            setError('Request Timed Out');\r\n        }, timeout)\r\n        const actions = await actionCreator(...params)\r\n        if (actions.cancel) {\r\n            clearTimeout(timer);\r\n            setLoading(false);\r\n            return null;\r\n        }\r\n        const msgId = send(actions)\r\n        setRequestId(msgId);\r\n\r\n        const data: WsMessage = await new Promise( (resolve, reject) => {\r\n            resolver.current = resolve;\r\n        })\r\n        clearTimeout(timer)\r\n        setLoading(false)\r\n        if (data?.success) {\r\n            setError('');\r\n        } else {\r\n            console.log(data?.error);\r\n            setError(data?.error || \"Something went wrong\")\r\n        }\r\n        \r\n        return data;\r\n\r\n    }, [actionCreator, timeout])\r\n\r\n    const actionPackage = useMemo(() => ({\r\n        loading,\r\n        error,\r\n        post\r\n    }), [loading, error, post])\r\n\r\n    return actionPackage\r\n}\r\n\r\nexport default useAction;","import React, { FC } from \"react\";\r\nimport { Col, CardHeader, Row } from \"reactstrap\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface Props {\r\n  title: React.ReactNode;\r\n  light?: boolean;\r\n  titleTag?: string | React.FC | React.DOMElement<any, any> | any;\r\n  titleClass?: string;\r\n  className?: string;\r\n  breakPoint?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst FalconCardHeader: FC<Props> = ({\r\n  title,\r\n  light = true,\r\n  titleTag: TitleTag = \"h5\",\r\n  titleClass,\r\n  className,\r\n  breakPoint,\r\n  children\r\n}) => (\r\n  <CardHeader className={classNames({ \"bg-light\": light }, className)}>\r\n    {children ? (\r\n      <Row className=\"align-items-center\">\r\n        <Col>\r\n          <TitleTag\r\n            className={classNames(\r\n              {\r\n                \"mb-0\": !breakPoint,\r\n                [`mb-${breakPoint}-0`]: !!breakPoint\r\n              },\r\n              titleClass\r\n            )}\r\n          >\r\n            {title}\r\n          </TitleTag>\r\n        </Col>\r\n        <Col\r\n          className={\"text\" + (breakPoint ? \"-\" + breakPoint : \"\") + \"-right\"}\r\n          {...{ [breakPoint ? breakPoint : \"xs\"]: \"auto\" }}\r\n        >\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    ) : (\r\n      <TitleTag\r\n        className={classNames(\r\n          {\r\n            \"mb-0\": !breakPoint,\r\n            [`mb-${breakPoint}-0`]: !!breakPoint\r\n          },\r\n          titleClass\r\n        )}\r\n      >\r\n        {title}\r\n      </TitleTag>\r\n    )}\r\n  </CardHeader>\r\n);\r\n\r\nexport default FalconCardHeader;\r\n","import uploadDoc from \"helpers/uploadDoc\";\r\nimport { people as peopleDuck } from '../ducks/id'\r\nimport {\r\n    ImageData\r\n} from 'store/store';\r\nimport { IEducation, IEmail, IExperience, IName, IPhone, IPhoto, MOrganization, MPerson } from \"store/types/models/id\";\r\nimport { BaseDuck } from \"store/ducks/BaseDuck\";\r\nimport { ActionCreator } from \"store/types/interface/common\";\r\n\r\ninterface PeopleController extends BaseDuck<MPerson> {\r\n    getOrgEmployees: ActionCreator<['getOrgEmployees']>;\r\n    sendPersonBio: ActionCreator<['setPersonBio']>;\r\n    sendPersonPhones: ActionCreator<['setPersonPhoneNumbers']>;\r\n    sendPersonEmails: ActionCreator<['setPersonEmailAddresses']>;\r\n    sendPersonName: ActionCreator<['setPersonName']>;\r\n    sendPersonAvatar: ActionCreator<['setPersonAvatar']>;\r\n    sendPersonCover: ActionCreator<['setPersonCover']>;\r\n    sendPersonPosition: ActionCreator<['setPersonPosition']>;\r\n    sendPersonLocation: ActionCreator<['setPersonLocation']>;\r\n    sendPersonTitleInfo: ActionCreator<['setPersonLocation', 'setPersonPosition', 'setPersonName']>;\r\n    addPersonPhotos: ActionCreator<['addPersonPhoto']>;\r\n    getPersonPhotos: ActionCreator<['getPersonPhotos']>;\r\n    addPersonExperience: ActionCreator<['addPersonExperience']>;\r\n    removePersonExperience: ActionCreator<['removePersonExperience']>;\r\n    addPersonEducation: ActionCreator<['addPersonEducation']>;\r\n    removePersonEducation: ActionCreator<['removePersonEducation']>;\r\n    getSetPeopleById: ActionCreator<['getPeopleInfo']>;\r\n    findPeopleUniversal: ActionCreator<['findPeopleUniversal']>;\r\n    getPersonContacts: ActionCreator<['getPersonContacts']>;\r\n    createPersonContact: ActionCreator<['createPersonContact']>;\r\n    removePersonContact: ActionCreator<['removePersonContact']>;\r\n}\r\n\r\n\r\nexport const people: PeopleController = peopleDuck as PeopleController;\r\n\r\nexport const getOrgEmployees: ActionCreator<['getOrgEmployees']> = (organizationId: string, numberPerPage = 100, pageNumber?: number) => {\r\n    const actions = [{\r\n        name: 'getOrgEmployees',\r\n        data: {\r\n            organizationId,\r\n            numberPerPage,\r\n            pageNumber\r\n        }\r\n    }] as const;\r\n    return {actions}\r\n}\r\npeople.getOrgEmployees = getOrgEmployees;\r\n\r\nexport const sendPersonBio: ActionCreator<['setPersonBio']> = (bio: string, personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonBio',\r\n        data: { bio, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonBio = sendPersonBio;\r\n\r\nexport const sendPersonPhones: ActionCreator<['setPersonPhoneNumbers']> = (phones: IPhone[], personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonPhoneNumbers',\r\n        data: { phones, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonPhones = sendPersonPhones;\r\n\r\nexport const sendPersonEmails: ActionCreator<['setPersonEmailAddresses']> = (emails: IEmail[], personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonEmailAddresses',\r\n        data: { emails, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonEmails = sendPersonEmails\r\n\r\nexport const sendPersonName: ActionCreator<['setPersonName']> = (name: IName, personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonName',\r\n        data: { name, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonName = sendPersonName;\r\n\r\nexport const sendPersonAvatar: ActionCreator<['setPersonAvatar']> = async (file: Blob, personId: string, metaData: { [key: string]: any }) => {\r\n    const newFile = await uploadDoc(file, 'avatar');\r\n    if (!newFile?.success || !newFile.files?.avatar) return {cancel: true};\r\n\r\n    const actions = [{\r\n        name: 'setPersonAvatar',\r\n        data: {\r\n            avatar: {\r\n                location: newFile.files?.avatar,\r\n                description: '',\r\n                metaData\r\n            },\r\n            personId\r\n        }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonAvatar = sendPersonAvatar;\r\n\r\nexport const sendPersonCover: ActionCreator<['setPersonCover']> = async (file: any, personId: string, metaData: { [key: string]: any }) => {\r\n    const newFile = await uploadDoc(file, 'cover');\r\n    if (!newFile?.success || !newFile.files?.cover) return {cancel: true};\r\n\r\n    const actions = [{\r\n\r\n        name: 'setPersonCover',\r\n        data: {\r\n            coverPhoto: {\r\n                location: newFile.files?.cover,\r\n                description: '',\r\n                metaData\r\n            },\r\n            personId\r\n        }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonCover = sendPersonCover;\r\n\r\n\r\nexport const sendPersonPosition: ActionCreator<['setPersonPosition']> = (position: string, personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonPosition',\r\n        data: { position, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonPosition = sendPersonPosition\r\n\r\nexport const sendPersonLocation: ActionCreator<['setPersonLocation']> = (location: string, personId: string) => {\r\n    const actions = [{\r\n        name: 'setPersonLocation',\r\n        data: { location, personId }\r\n    }] as const;\r\n    return { actions }\r\n}\r\n\r\npeople.sendPersonLocation = sendPersonLocation;\r\n\r\n\r\nexport const sendPersonTitleInfo: ActionCreator<['setPersonLocation', 'setPersonPosition', 'setPersonName']> = (location: string, position: string, name: IName, personId: string) => {\r\n    const actions = [\r\n        {\r\n            name: 'setPersonLocation',\r\n            data: { location, personId }\r\n        },\r\n        {\r\n            name: 'setPersonPosition',\r\n            data: { position, personId }\r\n        },\r\n        {\r\n            name: 'setPersonName',\r\n            data: { name, personId }\r\n        }\r\n    ] as const;\r\n    return { actions }\r\n}\r\npeople.sendPersonTitleInfo = sendPersonTitleInfo;\r\n\r\nexport const addPersonPhotos: ActionCreator<['addPersonPhoto']> = async (photos: ImageData[], personId: string) => {\r\n        const actions = [] as any;\r\n        for (const photo of photos) {\r\n            if (!photo.name || !photo.data) throw new Error('Incorrect photo data format')\r\n            console.log(photo.data)\r\n            const data = await uploadDoc(photo.data, 'photo', photo.name)\r\n            const location = data.files.photo;\r\n            const objPhoto: IPhoto = {\r\n                description: photo.name || '',\r\n                location: location,\r\n                metaData: {}\r\n            }\r\n            actions.push({\r\n                name: 'addPersonPhoto',\r\n                data: {\r\n                    personId,\r\n                    photo: objPhoto\r\n                }\r\n            })\r\n        }\r\n        return { actions }\r\n}\r\npeople.addPersonPhotos = addPersonPhotos;\r\n\r\nexport const getPersonPhotos: ActionCreator<['getPersonPhotos']> = (personId: string, delimiter = '' ) => {\r\n        const actions = [\r\n            {\r\n                name: 'getPersonPhotos',\r\n                data: {\r\n                    personId,\r\n                    delimiter\r\n                }\r\n            }\r\n        ] as const;\r\n\r\n        return {actions}\r\n}\r\npeople.getPersonPhotos = getPersonPhotos;\r\n\r\nexport const addPersonExperience: ActionCreator<['addPersonExperience']> = async (experience: IExperience & {photo: ImageData}, personId: string) => {\r\n        let photoLocation;\r\n        const photoData = experience.photo;\r\n        if (photoData?.data) {\r\n            const data = await uploadDoc(photoData.data, 'photo', photoData.name);\r\n            photoLocation = data.files?.photo\r\n            if (!photoLocation) return { cancel: true }\r\n        }\r\n        const photo = photoLocation && {\r\n            location: photoLocation,\r\n            description: photoData.name,\r\n            metaData: {}\r\n        }\r\n        const actions = [{\r\n            name: 'addPersonExperience',\r\n            data: {\r\n                experience: {\r\n                    ...experience,\r\n                    photo\r\n                },\r\n                personId\r\n            }\r\n        }] as const;\r\n        return { actions }\r\n    }\r\npeople.addPersonExperience = addPersonExperience;\r\n\r\n\r\nexport const removePersonExperience: ActionCreator<['removePersonExperience']> = (experienceId: string, personId: string) => {\r\n    const actions = [{\r\n        name: 'removePersonExperience',\r\n        data: {\r\n            experienceId,\r\n            personId\r\n        }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.removePersonExperience = removePersonExperience;\r\n\r\n\r\nexport const addPersonEducation: ActionCreator<['addPersonEducation']> = async (education: IEducation & {photo: ImageData}, personId: string) => {\r\n    let photoLocation;\r\n    const photoData = education.photo;\r\n    if (photoData?.data) {\r\n        const data = await uploadDoc(photoData.data, 'photo', photoData.name);\r\n        photoLocation = data.files?.photo;\r\n        if (!photoLocation) return { cancel: true }\r\n    }\r\n    const photo = photoLocation && {\r\n        location: photoLocation,\r\n        description: photoData.name,\r\n        metaData: {}\r\n    }\r\n    const actions = [{\r\n        name: 'addPersonEducation',\r\n        data: {\r\n            education: {\r\n                ...education,\r\n                photo\r\n            },\r\n            personId\r\n        }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.addPersonEducation = addPersonEducation\r\n\r\n\r\nexport const removePersonEducation: ActionCreator<['removePersonEducation']> = (educationId: string, personId: string) => {\r\n        const actions = [{\r\n            name: 'removePersonEducation',\r\n            data: {\r\n                educationId,\r\n                personId\r\n            }\r\n        }] as const;\r\n        return {actions}\r\n}\r\npeople.removePersonEducation = removePersonEducation;\r\n\r\nexport const getSetPeopleById: ActionCreator<['getPeopleInfo']> = (...peopleIds: string[]) => {\r\n    if (peopleIds.length === 0) return {cancel: true};\r\n\r\n    const actions = [{\r\n        name: 'getPeopleInfo',\r\n        data: peopleIds\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.getSetPeopleById = getSetPeopleById\r\n\r\nexport const findPeopleUniversal: ActionCreator<['findPeopleUniversal']> = (searchText: string, organizationIds: MOrganization['_id'][], numberPerPage = 100) => {\r\n    const actions = [{\r\n        name: 'findPeopleUniversal',\r\n        data: {\r\n            searchText,\r\n            numberPerPage,\r\n            organizationIds\r\n        }\r\n    }] as const;\r\n    return { actions }\r\n}\r\npeople.findPeopleUniversal = findPeopleUniversal;\r\n\r\ninterface CreatePersonContactArgs {\r\n    name: IName,\r\n    organizationId: MOrganization['_id'];\r\n    position: string;\r\n    location?: string;\r\n    bio?: string;\r\n    birthday?: string;\r\n}\r\n\r\nexport const createPersonContact: ActionCreator<['createPersonContact']> = (args: CreatePersonContactArgs) => {\r\n    const actions = [{\r\n        name: 'createPersonContact',\r\n        data: {\r\n            ...args\r\n        }\r\n    }] as const;\r\n    return {actions}\r\n}\r\npeople.createPersonContact = createPersonContact\r\n\r\nexport const getPersonContacts: ActionCreator<['getPersonContacts']> = () => {\r\n    const actions = [{\r\n        name: 'getPersonContacts',\r\n        data: {\r\n\r\n        }\r\n    }] as const;\r\n    return {actions}\r\n}\r\npeople.getPersonContacts = getPersonContacts;\r\n\r\nexport const removePersonContact: ActionCreator<['deletePersonContact']> = (personId) => {\r\n    const actions = [{\r\n        name: 'deletePersonContact',\r\n        data: {\r\n            personId\r\n        }\r\n    }] as const;\r\n    return {actions}\r\n}\r\npeople.removePersonContact = removePersonContact;\r\n\r\nconst thunks = {\r\n    sendPersonBio,\r\n    sendPersonPhones,\r\n    sendPersonEmails,\r\n    sendPersonName,\r\n    sendPersonAvatar,\r\n    sendPersonCover,\r\n    sendPersonPosition,\r\n    sendPersonLocation,\r\n    sendPersonTitleInfo,\r\n    addPersonPhotos,\r\n    addPersonExperience,\r\n    addPersonEducation,\r\n    removePersonEducation,\r\n    getSetPeopleById,\r\n    getPersonContacts,\r\n    createPersonContact,\r\n    removePersonContact\r\n}\r\n\r\nexport default thunks;","import produce from \"immer\";\r\nimport { merge } from \"lodash\";\r\nimport { v4 as uuid } from 'uuid'\r\nimport { toast } from \"react-toastify\";\r\nimport { DropzoneFile } from \"store/store\";\r\nimport { \r\n    MMilestone, \r\n    MTask, \r\n} from \"store/types/models/workflow\";\r\nimport { $PersonListItem, MOrganization } from \"store/types/models/id\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport type FormMember = $PersonListItem & {value: $PersonListItem['_id']; label: string; personId: $PersonListItem['_id']; role: string}\r\nexport type FormOrganization = MOrganization & {value: MOrganization['_id']; label: MOrganization['name']; organizationId: MOrganization['_id']; role: string; members: FormMember[] }\r\nexport interface FormState {\r\n    workflowId: string; // this needs to be gotten from caller\r\n    metaData: {\r\n        type: string; // for Access this is Project, Pursuit, Potential\r\n                        // for KCPL this would be Prospective, Planned, Project, Construction, Retirement\r\n        identifier: string; // needs to check with API if the entered name is available. Debounce it!\r\n        title: string;\r\n        description: string; // maybe??? quilleditor?\r\n        internalBudget?: number; // displayed as money, stored as number\r\n        externalBudget?: number; // displayed as money, stored as number\r\n        active: boolean; // checkbox\r\n        ownerId: string; // this should be a selection box of people?\r\n        estCompletionDate?: string; // date entry -- calendar popup\r\n    };\r\n    tags: string[]; // react-select element with multiselection. Maybe would be cool to have different colors of the tags, just to look pretty\r\n    location?: {\r\n        type: 'Point',\r\n        coordinates?: [number, number]\r\n        properties: {\r\n            description?: string;\r\n            city?: string;\r\n            state?: string;\r\n            zip?: string;\r\n        }\r\n    }\r\n    documents: Record<string, DropzoneFile>;\r\n    organizations: FormOrganization[];\r\n    milestones: {\r\n        identifier:string;\r\n        title: MMilestone['title'];\r\n        startDate?: MMilestone['startDate'];\r\n        endDate: MMilestone['endDate'];\r\n        tasks: {\r\n            identifier: string;\r\n            title: MTask['title'];\r\n            budgetHours: MTask['budgetHours'];\r\n            startDate?: MTask['startDate'];\r\n            endDate?: MTask['endDate'];\r\n            description?: MTask['description'];\r\n            isBillable?: MTask['isBillable'];\r\n        }[]\r\n    }[];\r\n}\r\n\r\nconst DEFAULT_TASK = () => ({\r\n    identifier: 'task-' + uuid(),\r\n    title: ''\r\n})\r\nconst DEFAULT_MILESTONE = () => ({\r\n    identifier: 'milestone-' + uuid(), \r\n    title: '',\r\n    tasks: [DEFAULT_TASK()]\r\n})\r\n\r\nexport const DEFAULT_STATE: FormState = {\r\n    workflowId: '', // this needs to be gotten from caller\r\n    metaData: {\r\n        type: '', // for Access this is Project, Pursuit, Potential\r\n                        // for KCPL this would be Prospective, Planned, Project, Construction, Retirement\r\n        identifier: '', // needs to check with API if the entered name is available. Debounce it!\r\n        title: '',\r\n        description: '', // maybe??? quilleditor?\r\n        internalBudget: undefined, // displayed as money, stored as number\r\n        externalBudget: undefined, // displayed as money, stored as number\r\n        active: false, // checkbox\r\n        ownerId: '', // this should be a selection box of people?\r\n        estCompletionDate: undefined // date entry -- calendar popup\r\n    },\r\n    location: {\r\n        type: 'Point',\r\n        properties: {\r\n            description: '',\r\n            city: '',\r\n            state: '',\r\n            zip: ''\r\n        }\r\n    },\r\n    tags: [], // react-select element with multiselection. Maybe would be cool to have different colors of the tags, just to look pretty\r\n    documents: {},\r\n    organizations: [],\r\n    milestones: [DEFAULT_MILESTONE()]\r\n}\r\n\r\nexport type Types = \r\n    'RESET' |\r\n    'TYPE' |\r\n    'IDENTIFIER' |\r\n    'TITLE' |\r\n    'DESCRIPTION' |\r\n    'EXTERNAL_BUDGET' |\r\n    'INTERNAL_BUDGET' |\r\n    'ACTIVE' |\r\n    'OWNER' |\r\n    'WORKFLOW_ID' |\r\n    'EST_COMPLETION_DATE' |\r\n    'TAGS' |\r\n    'LOCATION' | \r\n    'SET_DOCUMENTS' |\r\n    'ADD_DOCUMENT' |\r\n    'REMOVE_DOCUMENT' |\r\n    'UPSERT_ORGANIZATION' |\r\n    'REMOVE_ORGANIZATION' |\r\n    'UPSERT_MEMBER' |\r\n    'REMOVE_MEMBER' |\r\n    'INSERT_MILESTONE' |\r\n    'UPSERT_MILESTONE' |\r\n    'MOVE_MILESTONE' |\r\n    'REMOVE_MILESTONE' |\r\n    'INSERT_TASK' |\r\n    'UPSERT_TASK' |\r\n    'MOVE_TASK' |\r\n    'REMOVE_TASK' |\r\n    'UPSERT_ASSIGNMENT' |\r\n    'REMOVE_ASSIGNMENT'\r\n\r\n\r\nexport const types = {\r\n    RESET: 'happin/forms/addStage/RESET',\r\n    TYPE: 'happin/forms/addStage/TYPE',\r\n    IDENTIFIER: 'happin/forms/addStage/IDENTIFIER',\r\n    TITLE: 'happin/forms/addStage/TITLE',\r\n    DESCRIPTION: 'happin/forms/addStage/DESCRIPTION',\r\n    EXTERNAL_BUDGET: 'happin/forms/addStage/EXTERNAL_BUDGET',\r\n    INTERNAL_BUDGET: 'happin/forms/addStage/INTERNAL_BUDGET',\r\n    ACTIVE: 'happin/forms/addStage/ACTIVE',\r\n    OWNER: 'happin/forms/addStage/OWNER',\r\n    WORKFLOW_ID: 'happin/forms/addStage/WORKFLOW_ID',\r\n    EST_COMPLETION_DATE: 'happin/forms/addStage/EST_COMPLETION_DATE',\r\n    TAGS: 'happin/forms/addStage/TAGS',\r\n    LOCATION: 'happin/forms/addStage/LOCATION',\r\n    SET_DOCUMENTS: 'happin/forms/addStage/SET_DOCUMENTS',\r\n    ADD_DOCUMENT: 'happin/forms/addStage/ADD_DOCUMENT',\r\n    REMOVE_DOCUMENT: 'happin/forms/addStage/REMOVE_DOCUMENT',\r\n    UPSERT_ORGANIZATION: 'happin/forms/addStage/UPSERT_ORGANIZATION',\r\n    REMOVE_ORGANIZATION: 'happin/forms/addStage/REMOVE_ORGANIZATION',\r\n    UPSERT_MEMBER: 'happin/forms/addStage/UPSERT_MEMBER',\r\n    REMOVE_MEMBER: 'happin/forms/addStage/REMOVE_MEMBER',\r\n    INSERT_MILESTONE: 'happin/forms/addStage/INSERT_MILESTONE',\r\n    UPSERT_MILESTONE: 'happin/forms/addStage/UPSERT_MILESTONE',\r\n    MOVE_MILESTONE: 'happin/forms/addStage/MOVE_MILESTONE',\r\n    REMOVE_MILESTONE: 'happin/forms/addStage/REMOVE_MILESTONE',\r\n    INSERT_TASK: 'happin/forms/addStage/INSERT_TASK',\r\n    UPSERT_TASK: 'happin/forms/addStage/UPSERT_TASK',\r\n    MOVE_TASK: 'happin/forms/addStage/MOVE_TASK',\r\n    REMOVE_TASK: 'happin/forms/addStage/REMOVE_TASK',\r\n    UPSERT_ASSIGNMENT: 'happin/forms/addStage/UPSERT_ASSIGNMENT',\r\n    REMOVE_ASSIGNMENT: 'happin/forms/addStage/REMOVE_ASSIGNMENT'\r\n}\r\n\r\ninterface ValidAction { type: Types; payload: any; }\r\n\r\nexport function reducer (state = DEFAULT_STATE, action: ValidAction): FormState {\r\n    return produce(state, draft => {\r\n\r\n        const {type, payload} = action;\r\n\r\n        switch(type) {\r\n            \r\n            case types.TYPE: \r\n                draft.metaData.type = payload;\r\n                break;\r\n\r\n            case types.IDENTIFIER:\r\n                draft.metaData.identifier = payload;\r\n                break;\r\n            case types.TITLE: \r\n                draft.metaData.title = payload;\r\n                break;\r\n\r\n            case types.DESCRIPTION:\r\n                draft.metaData.description = payload;\r\n                break;\r\n\r\n            case types.EXTERNAL_BUDGET: \r\n                draft.metaData.externalBudget = payload;\r\n                break;\r\n\r\n            case types.INTERNAL_BUDGET: \r\n                draft.metaData.internalBudget = payload;\r\n                break;\r\n\r\n            case types.EST_COMPLETION_DATE: \r\n                draft.metaData.estCompletionDate = payload;\r\n                break;\r\n\r\n            case types.TAGS: \r\n                draft.tags = payload;\r\n                break;\r\n\r\n            case types.LOCATION: \r\n                draft.location = payload;\r\n                break;\r\n\r\n            case types.ACTIVE: \r\n                draft.metaData.active = payload;\r\n                break;\r\n\r\n            case types.OWNER: \r\n                draft.metaData.ownerId = payload;\r\n                break;\r\n\r\n            case types.WORKFLOW_ID:\r\n                draft.workflowId = payload;\r\n                break;\r\n\r\n            case types.SET_DOCUMENTS:\r\n                if (typeof payload !== 'object') break;\r\n                draft.documents = payload;\r\n                break;\r\n\r\n            case types.ADD_DOCUMENT:\r\n                merge( draft, {documents: payload} );\r\n                break;\r\n\r\n            case types.REMOVE_DOCUMENT:\r\n                delete draft.documents[payload];\r\n                break;\r\n\r\n            case types.UPSERT_ORGANIZATION: {\r\n                if ( typeof payload !== 'object' || !payload?._id ) {\r\n                    toast.error('Invalid upsert organization. Aborted.');\r\n                    break;\r\n                }\r\n                const matchingOrganization = draft.organizations.findIndex( organization => organization._id === payload._id )\r\n                if (matchingOrganization !== -1) {\r\n                     draft.organizations[matchingOrganization] = {...payload, organizationId: payload._id}\r\n                } else {\r\n                    draft.organizations.push({...payload, organizationId: payload._id})\r\n                }  \r\n                break;\r\n            }\r\n            case types.REMOVE_ORGANIZATION: \r\n                draft.organizations = draft.organizations.filter(organization => organization._id !== payload)\r\n                break;\r\n\r\n            case types.UPSERT_MEMBER: {\r\n                if ( typeof payload !== 'object' || !payload?._id ) {\r\n                    toast.error('Invalid upsert member. Aborted.');\r\n                    break;\r\n                }\r\n                const selectedOrganization = draft.organizations.find(org => org._id === payload.organization._id)\r\n                if (selectedOrganization) {\r\n                    selectedOrganization.members = selectedOrganization.members || [];\r\n                    const matchingMember = selectedOrganization.members.findIndex( member => member.personId === payload._id );\r\n                    const newMember = {...payload, personId: payload._id}\r\n                    if (matchingMember !== -1) {\r\n                        selectedOrganization.members[matchingMember] = newMember\r\n                    } else {\r\n                        selectedOrganization.members.push(newMember)\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case types.REMOVE_MEMBER: {\r\n                for ( const organization of draft.organizations) {\r\n                    if (!organization.members) continue;\r\n                    for (const member of organization.members) {\r\n                        if (member.personId === payload) {\r\n                            organization.members = organization.members!.filter( member => member.personId !== payload)\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case types.INSERT_MILESTONE: {\r\n                draft.milestones.splice( payload.index, 0, DEFAULT_MILESTONE() );\r\n                break;\r\n            }\r\n\r\n            case types.UPSERT_MILESTONE: {\r\n                const { index, ...rest } = payload;\r\n                merge ( draft.milestones[payload.index], rest )\r\n                break;\r\n            }\r\n\r\n            case types.MOVE_MILESTONE: {\r\n                const toMove = draft.milestones.splice(payload.fromIndex, 1)\r\n                const toIndex = payload.fromIndex < payload.toIndex ? payload.toIndex -1 : payload.toIndex\r\n                draft.milestones.splice( toIndex, 0, toMove[0] )\r\n                break;\r\n            }\r\n\r\n            case types.REMOVE_MILESTONE: \r\n                draft.milestones.splice( payload.index, 1 )\r\n                if (draft.milestones.length === 0) draft.milestones.push(DEFAULT_MILESTONE())\r\n                break;\r\n\r\n            case types.INSERT_TASK: \r\n                draft.milestones[payload.milestoneId]\r\n                    .tasks\r\n                    ?.splice( payload.index, 0, DEFAULT_TASK() );\r\n                break;\r\n\r\n            case types.UPSERT_TASK: { \r\n                const {index, milestoneId, ...rest} = payload;\r\n                merge ( draft.milestones[milestoneId]?.tasks![index], rest )\r\n                break;\r\n            }\r\n\r\n            case types.MOVE_TASK: {\r\n                const sourceTasks = draft.milestones[payload.fromMilestoneId].tasks!;\r\n                const destinationTasks = draft.milestones[payload.toMilestoneId].tasks!;\r\n                const toMove = sourceTasks.splice( payload.fromIndex, 1 );\r\n                destinationTasks.splice( payload.toIndex, 0, toMove[0] );\r\n                if (sourceTasks.length === 0) sourceTasks.push( DEFAULT_TASK() )\r\n                break;\r\n            }\r\n\r\n            case types.REMOVE_TASK: {\r\n                const tasks = draft.milestones[payload.milestoneId].tasks\r\n                tasks.splice( payload.index, 1 );\r\n                if (tasks.length === 0) tasks.push( DEFAULT_TASK() )\r\n                break;\r\n            }\r\n\r\n            // case types.UPSERT_ASSIGNMENT:\r\n            //     if ( typeof payload !== 'object' || !payload?.id ) {\r\n            //         console.log('Invalid upsert assignment. Aborted.')\r\n            //         break;\r\n            //     }\r\n            //     draft.assignments[payload.id] = payload\r\n            //     break;\r\n\r\n            // case types.REMOVE_ASSIGNMENT: \r\n            //     delete draft.assignments[payload]\r\n            //     break;\r\n\r\n            case types.RESET:\r\n                return DEFAULT_STATE;\r\n\r\n            default: \r\n                break;\r\n        }\r\n    })\r\n}","import React, { FC } from 'react';\r\nimport Lottie from 'react-lottie';\r\nimport animationData from 'assets/img/logos/pinAnimationDualDirection.json'\r\n\r\nexport interface Props {\r\n    width?: number;\r\n    horiz?: boolean;\r\n    className?: string;\r\n    pinStrokeRGB?: {r: number; g: number; b: number;};\r\n    style?: React.CSSProperties\r\n}\r\n\r\nconst SpinnerLogo: FC<Props> = ({style, width, horiz, className, pinStrokeRGB = {r: 44, g: 123, b: 229}}) => {\r\n    const _r = pinStrokeRGB.r / 255;\r\n    const _g = pinStrokeRGB.g / 255;\r\n    const _b = pinStrokeRGB.b / 255;\r\n\r\n    const arrColors = animationData.layers[0].shapes[0].it![1].c!.k;\r\n    arrColors[0] = _r;\r\n    arrColors[1] = _g;\r\n    arrColors[2] = _b;\r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={className} style={style}>\r\n            <Lottie options={defaultOptions} style={{ width, marginRight: 0, marginLeft: 0 }} />\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default SpinnerLogo;","////// Packages //////////////////\r\nimport React, { useEffect, useState, FC } from \"react\";\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport getSizedImageName from \"helpers/getSizedImageName\";\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\nconst useProgressiveImage = (\r\n  lowQualitySrc: string,\r\n  highQualitySrc: string\r\n): [string, boolean] => {\r\n  const [src, setSrc] = useState(lowQualitySrc);\r\n\r\n  useEffect(() => {\r\n    setSrc(lowQualitySrc);\r\n\r\n    const img = new Image();\r\n    img.src = highQualitySrc;\r\n\r\n    img.onload = () => {\r\n      setSrc(highQualitySrc);\r\n    };\r\n\r\n    return () => {\r\n      img.onload = null;\r\n    };\r\n  }, [lowQualitySrc, highQualitySrc]);\r\n\r\n  return [src, src === lowQualitySrc];\r\n};\r\n\r\ninterface Props {\r\n  className?: string;\r\n  src: string | undefined | null;\r\n  style?: React.CSSProperties;\r\n  alt?: string;\r\n  size?: \"s\" | \"m\" | \"l\" | \"original\";\r\n  blurRadius?: number;\r\n  width?: number | string;\r\n  height?: number | string;\r\n}\r\n\r\nconst ProgressiveImage: FC<Props> = ({\r\n  className,\r\n  src,\r\n  style,\r\n  alt = \"\",\r\n  size = \"original\",\r\n  blurRadius = 6,\r\n  width = \"auto\",\r\n  height = \"auto\",\r\n  ...props\r\n}) => {\r\n  const [source, blur] = useProgressiveImage(\r\n    getSizedImageName(src, \"s\"),\r\n    getSizedImageName(src, size) + \" \"\r\n  );\r\n\r\n  return (\r\n    <img\r\n      style={{\r\n        ...style,\r\n        filter: blur\r\n          ? `blur(${\r\n              typeof blurRadius === \"number\" ? blurRadius + \"px\" : blurRadius\r\n            })`\r\n          : \"none\",\r\n        transition: blur ? \"none\" : \"filter 0.3s ease-out\"\r\n      }}\r\n      className={className}\r\n      src={source}\r\n      alt={alt}\r\n      width={width}\r\n      height={height}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProgressiveImage;\r\n","import { \r\n    MWorkflow,\r\n    MStage,\r\n    MThread,\r\n    MTask\r\n} from \"store/types/models/workflow\";\r\nimport { BaseDuck } from \"./BaseDuck\";\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nexport const workflows = new BaseDuck<MWorkflow>('workflows');\r\n\r\nexport const stages = new BaseDuck<MStage>('stages');\r\nstages.setKeys = ['tasks', 'threads', 'tags'];\r\nstages.replaceKeys = ['coordinates'];\r\n\r\nexport const tasks = new BaseDuck<MTask>('tasks');\r\ntasks.setKeys = [];\r\n\r\nexport const threads = new BaseDuck<MThread>('threads');\r\nthreads.setKeys = ['members'];\r\n\r\nexport const workflowReducer = combineReducers({\r\n    workflows: workflows.reducer.bind(workflows),\r\n    stages: stages.reducer.bind(stages),\r\n    tasks: tasks.reducer.bind(tasks),\r\n    threads: threads.reducer.bind(threads)\r\n})","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport { Container } from 'reactstrap';\r\nimport Background, {Props as BackgroundProps} from './Background';\r\n\r\ninterface Props extends BackgroundProps {\r\n  fluid?: boolean;\r\n  bg?: string;\r\n  bgClassName?: string;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Section: FC<Props> = ({ fluid, bg, image, overlay, position, video, bgClassName, className, children, ...rest }) => {\r\n\r\n  return (\r\n    <section className={classNames({ [`bg-${bg}`]: bg }, className)} {...rest}>\r\n      {image && <Background className={bgClassName} image={image} overlay={overlay} position={position} video={video} />}\r\n      <Container fluid={fluid}>{children}</Container>\r\n    </section>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Section;\r\n","import React, { FC } from 'react';\r\nimport { Form, Input, InputProps } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst SearchBox: FC<InputProps> = ({type, placeholder, className, ...props}) => (\r\n  <Form inline className=\"search-box\">\r\n    <Input type=\"search\" placeholder=\"Search...\" aria-label=\"Search\" className={\"rounded-pill search-input \" + className} {...props}/>\r\n    <FontAwesomeIcon icon=\"search\" className=\"position-absolute text-400 search-box-icon\" />\r\n  </Form>\r\n);\r\n\r\nexport default SearchBox;\r\n","import { isEqual } from 'lodash';\r\nimport { shallowEqual, useSelector } from 'react-redux';\r\nimport { getSetPeopleById } from 'store/thunks/people';\r\nimport useLoadAndSelect from 'store/hooks/useLoadAndSelect';\r\nimport { $BasicPerson } from 'store/types/models/id';\r\n\r\n\r\nfunction usePeopleList(...ids: string[]) {\r\n    const peopleToRetrieve = useSelector( state => ids.filter( id => !state.id.people[id]?.name ), shallowEqual )\r\n\r\n    const peopleBasicInfo = useLoadAndSelect<$BasicPerson[]>({\r\n        actionCreator: peopleToRetrieve?.length > 0 ? getSetPeopleById : undefined,\r\n        selector(state) {\r\n            return ids.map( id => {\r\n                const person = state.id.people[id];\r\n                return {\r\n                    _id: id,\r\n                    avatar: person?.avatar, \r\n                    name: person?.name,\r\n                    position: person?.position,\r\n                    organizationId: person?.organizationId\r\n                }\r\n            })\r\n        },\r\n        equality: isEqual,\r\n        postParams: peopleToRetrieve,\r\n        deduplicate: ['basicPeople', peopleToRetrieve.join('~')]\r\n    })\r\n\r\n    return peopleBasicInfo;\r\n}\r\n\r\nexport default usePeopleList;","import { useSelector } from 'react-redux';\r\nimport useUser from './useUser';\r\n\r\nconst useMyUser = () => {\r\n    const myUserId = useSelector( state => state.app.login.userId || '');\r\n    const myUser = useUser(myUserId);\r\n\r\n    return myUser;\r\n}\r\n\r\nexport default useMyUser;","import { combineReducers } from 'redux';\r\nimport {\r\n    MWage,\r\n    InvoicePaymentModel,\r\n    ExpenseModel,\r\n    MLedger,\r\n    MExpenseReport\r\n} from 'store/types/models/finance';\r\nimport { BaseDuck } from './BaseDuck';\r\n\r\nexport const wages = new BaseDuck<MWage>('wages');\r\n\r\nexport const contracts = new BaseDuck<ContractModel>('contracts');\r\n\r\nexport const subcontracts = new BaseDuck<SubcontractModel>('subcontracts');\r\n\r\nexport const invoices = new BaseDuck<InvoiceModel>('invoices');\r\n\r\nexport const invoicePayments = new BaseDuck<InvoicePaymentModel>('invoicePayments');\r\n\r\nexport const expenses = new BaseDuck<MExpenseReport>('expenses');\r\n\r\nexport const ledgers = new BaseDuck<MLedger>('ledgers');\r\n\r\nexport const reducer = combineReducers({\r\n    wages: wages.reducer.bind(wages),\r\n    // contracts: contracts.reducer,\r\n    // subcontracts: subcontracts.reducer,\r\n    // invoices: invoices.reducer,\r\n    // invoicePayments: invoicePayments.reducer,\r\n    expenses: expenses.reducer.bind(expenses),\r\n    ledgers: ledgers.reducer.bind(ledgers)\r\n})","import { intersection, isEqual, union } from 'lodash';\r\nimport { getAdminUserInfo, getUserInfo } from 'store/thunks/users';\r\nimport permissions from 'store/permissions';\r\nimport useLoadAndSelect from 'store/hooks/useLoadAndSelect';\r\nimport { MUser } from 'store/types/models/id';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst useUser = (userId: string) => {\r\n    const adminPermissions = [permissions.GLOBAL_ADMIN, permissions.CREATE_NEW_USERS];\r\n    const isAdmin = useSelector( state => {\r\n        const myUserId = state.app.login.userId;\r\n        const myUser = state.id.users[myUserId || ''];\r\n        const myGroup = state.id.usergroups[myUser?.groupId || '']\r\n        const myPermissions = union(myUser?.explicitPermissions, myGroup?.permissions)\r\n        return intersection(myPermissions, adminPermissions).length > 0\r\n    })\r\n\r\n    const user = useLoadAndSelect<MUser>({\r\n        actionCreator: isAdmin ? getAdminUserInfo : getUserInfo,\r\n        selector(state) { \r\n            return state.id.users[userId]\r\n        },\r\n        equality: isEqual,\r\n        postParams: userId,\r\n        deduplicate: [isAdmin ? 'adminUserInfo' : 'userInfo', userId]\r\n    })\r\n\r\n    return user;\r\n}\r\n\r\nexport default useUser;","import { combineReducers } from 'redux';\r\nimport {\r\n    MTimeBank,\r\n    MTimeBankWithCharged,\r\n    MTimeEntry,\r\n    MTimeOffRequest,\r\n    MTimeType,\r\n//    TimeOffBank,\r\n//    TimeOffPlan,\r\n//    TimesheetEntry\r\n} from 'store/types/models/time';\r\n\r\nimport { BaseDuck } from './BaseDuck';\r\n\r\nexport const timeEntries = new BaseDuck<MTimeEntry>('timeEntries');\r\n\r\nexport const timeTypes = new BaseDuck<MTimeType>('timeTypes');\r\n\r\nexport const timeOffBanks = new BaseDuck<MTimeBankWithCharged>('timeOffBanks');\r\ntimeOffBanks.setKeys = ['accrueWeekdays', 'accrueWeeks', 'accrueDates', 'accrueMonths']\r\n\r\nexport const timeOffRequests = new BaseDuck<MTimeOffRequest>('timeOffRequests');\r\n\r\n// export const timesheet = new BaseDuck<TimesheetEntry>('timesheet');\r\n\r\nexport const reducer = combineReducers({\r\n    timeEntries: timeEntries.reducer.bind(timeEntries),\r\n    timeTypes: timeTypes.reducer.bind(timeTypes),\r\n    timeOffBanks: timeOffBanks.reducer.bind(timeOffBanks),\r\n    timeOffRequests: timeOffRequests.reducer.bind(timeOffRequests)\r\n //   timesheet: timesheet.reducer,\r\n})","////// Packages //////////////////\r\nimport { useState } from 'react';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport { $api } from 'environ';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\n\r\n\r\n\r\nconst useFetch = (timeout = 3000, options: Parameters<typeof fetch>[1] = {}) => {\r\n        const [loading, setLoading] = useState(false);\r\n        const [error, setError] = useState('');\r\n\r\n        const post = async (data: any, path = $api) => {\r\n            setLoading(true);\r\n            const errTimeout = setTimeout( () => {\r\n                setLoading( false ); \r\n                setError( 'Request Timed Out' );\r\n            }, timeout )\r\n            const response = await fetch(path, {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                ...options\r\n            }) ;\r\n            const result = await response.json()\r\n            setLoading(false);\r\n            clearTimeout(errTimeout);\r\n            if (!result?.success) {\r\n                if (result?.error) {\r\n                    setError(result.error)\r\n                } else {\r\n                    setError('Something went wrong')\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        const get = async (path = $api) => {\r\n            setLoading(true);\r\n            const errTimeout = setTimeout( () => {\r\n                setLoading( false ); \r\n                setError( 'Request Timed Out' );\r\n            }, timeout )\r\n            const response = await fetch(path, {\r\n                method: 'GET',\r\n                ...options\r\n            }) ;\r\n            const result = await response.json()\r\n            setLoading(false);\r\n            clearTimeout(errTimeout);\r\n            if (!result?.success) {\r\n                if (result?.error) {\r\n                    setError(result.error)\r\n                } else {\r\n                    setError('Something went wrong')\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        \r\n        return {\r\n            loading,\r\n            error,\r\n            post,\r\n            get\r\n        }\r\n\r\n}\r\n\r\n\r\nexport default useFetch;","////// Packages //////////////////\r\nimport React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\nexport interface Props {\r\n  image?: string;\r\n  overlay?: 'primary' | 'info' | 'success' | 'warning' | 'danger' | '0' | '1' | '2';\r\n  position?: string | {x: string; y: string;};\r\n  video?: string[];\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\nconst Background: FC<Props> = ({ image, overlay, position, video, className, style }) => {\r\n  const bgStyle = { backgroundImage: `url(${image})`, ...style } as React.CSSProperties;\r\n  if (typeof position === 'string') {\r\n    bgStyle.backgroundPosition = position;\r\n  } else if (typeof position === 'object') {\r\n    position.x && (bgStyle.backgroundPositionX = position.x);\r\n    position.y && (bgStyle.backgroundPositionY = position.y);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        'bg-holder',\r\n        { overlay: overlay, [`overlay-${overlay}`]: typeof overlay === 'string' },\r\n        className\r\n      )}\r\n      style={bgStyle}\r\n    >\r\n      {video && (\r\n        <video className=\"bg-video\" autoPlay loop muted playsInline>\r\n          {video.map((src, index) => (\r\n            <source key={index} src={src} type={`video/${src.split('.').pop()}`} />\r\n          ))}\r\n        </video>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Background;\r\n","////// Packages //////////////////\r\nimport React, { useEffect, useState, FC } from \"react\";\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport Avatar from \"./Avatar\";\r\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\n////// CommonJS Helpers //////////\r\nimport { isIterableArray } from '../helpers/utils';\r\n\r\n////// Custom Hooks //////////////\r\nimport usePeopleList from 'store/hooks/person/usePeopleList'\r\nimport makeName from \"helpers/makeName\";\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\ninterface Props {\r\n    ids: string[];\r\n    size?: 's' | 'm' | 'l' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl'; \r\n    rounded?: 'circle' | '0' | 'soft' ;\r\n    emoji?: string;\r\n    className?: string;\r\n    mediaClass?: string;\r\n    isExact?: boolean;\r\n    icon?: IconProp;\r\n}\r\n\r\nconst PersonAvatar: FC<Props> = ({ ids, size=\"xl\", rounded, emoji, className, mediaClass, isExact, icon }) => {\r\n    const [name, setName] = useState('');\r\n    const [src, setSrc] = useState([] as string[]);\r\n    const people = usePeopleList(...ids).value\r\n\r\n    useEffect( () => {\r\n        if (people && isIterableArray(people)) {\r\n            if ( people.length > 1) {\r\n                setSrc( people.map( person => person?.avatar?.location || '') );\r\n                setName( makeName( people[0].name, { first: true, common: true, last: true } ) );\r\n            } else {\r\n                setSrc([people[0]?.avatar?.location || '']);\r\n                setName( makeName( people[0]?.name, { first: true, common: true, last: true } ) );\r\n            }\r\n        } else {\r\n            setSrc([]);\r\n            setName('');\r\n        }\r\n    }, [JSON.stringify(people)])\r\n\r\n\r\n    return <Avatar\r\n            src={src} \r\n            name={name} \r\n            size={size} \r\n            rounded={rounded} \r\n            emoji={emoji} \r\n            className={className} \r\n            mediaClass={mediaClass} \r\n            isExact={isExact} \r\n            icon={icon} />\r\n}\r\n\r\nexport default PersonAvatar;","import { MTimeBank, MTimeOffPolicy } from \"store/types/models/time\";\r\nimport { v1 as uuid } from 'uuid'\r\n\r\nexport type ConfigurationBank = Omit<\r\n                            MTimeBank, \r\n                                '_id' \r\n                                | 'accruals' \r\n                                | 'requests' \r\n                                | 'policy'\r\n                                | 'hoursPerUnit'\r\n                            > & {\r\n                                id: string, \r\n                                policy: Omit<\r\n                                            MTimeOffPolicy, \r\n                                                '_id'\r\n                                                | 'accrualAmount'\r\n                                                | 'accrualMaximum'\r\n                                            > & {\r\n                                                accrualAmount: string | number, \r\n                                                accrualMaximum?: string | number\r\n                                            }, \r\n                                displayIndex: number, \r\n                                open: boolean, \r\n                                hoursPerUnit: string | number,\r\n                                templateTitle?: string,\r\n                                error?: string\r\n                            }\r\n\r\nexport interface ConfigureBanksFormState {\r\n    [bankId: string]: ConfigurationBank\r\n}\r\n\r\nfunction DEFAULT_BANK(displayIndex: number, title?: string, personId?: string, timeCodeId?: string): ConfigurationBank {\r\n    return {\r\n        id: uuid(),\r\n        displayIndex,\r\n        title: title || '',\r\n        personId: personId || '',\r\n        unit: 'hour',\r\n        hoursPerUnit: 1,\r\n        timeCodeId: timeCodeId || '',\r\n        policy: {\r\n            accrualPeriod: 'never',\r\n            accrualAmount: 0,\r\n            effectiveDate: new Date().toISOString()\r\n        },\r\n        open: false\r\n    }\r\n}\r\n\r\nexport enum types {\r\n    RESET = 'happin/forms/configureBanks/RESET',\r\n    ADD = 'happin/forms/configureBanks/ADD_BANK',\r\n    REMOVE = 'happin/forms/configureBanks/REMOVE_BANK',\r\n    REORDER = 'happin/forms/configureBanks/REORDER',\r\n    TITLE = 'happin/forms/configureBanks/TITLE',\r\n    UNIT = 'happin/forms/configureBanks/SET_UNIT',\r\n    HOURS_PER_UNIT = 'happin/forms/configureBanks/HOURS_PER_UNIT',\r\n    PERIOD = 'happin/forms/configureBanks/PERIOD',\r\n    AMOUNT = 'happin/forms/configureBanks/AMOUNT',\r\n    DATES = 'happin/forms/configureBanks/DATES',\r\n    WEEKS = 'happin/forms/configureBanks/WEEKS',\r\n    MONTHS = 'happin/forms/configureBanks/MONTHS',\r\n    WEEKDAYS = 'happin/forms/configureBanks/WEEKDAYS',\r\n    STARTING_ON = 'happin/forms/configureBanks/STARTING_ON',\r\n    MAXIMUM = 'happin/forms/configureBanks/MAXIMUM',\r\n    TOGGLE = 'happin/forms/configureBanks/TOGGLE',\r\n    EFFECTIVE_DATE = 'happin/forms/configureBanks/EFFECTIVE_DATE',\r\n    AUTO_ACCRUAL = 'happin/forms/configureBanks/AUTO_ACCRUAL',\r\n    TEMPLATE_TITLE = 'happin/forms/configureBanks/TEMPLATE_TITLE',\r\n    ERROR = 'happin/forms/configureBanks/ERROR'\r\n}\r\n\r\n\r\nexport type Actions =\r\n | {\r\n     type: types.RESET, \r\n     payload: ConfigureBanksFormState \r\n    }\r\n | {\r\n     type: types.ADD, \r\n     payload: {title: string, personId: string, timeCodeId: string} \r\n    }\r\n| {\r\n    type: types.REMOVE, \r\n    payload: {id: string} \r\n    }\r\n| {\r\n    type: types.REORDER, \r\n    payload: {id: string, newIndex: number} \r\n    }\r\n | {\r\n     type: types.TITLE, \r\n     payload: {id: string, title: string} \r\n    }\r\n | {\r\n     type: types.UNIT, \r\n     payload: {id: string, unit: string} \r\n    }\r\n | {\r\n     type: types.HOURS_PER_UNIT, \r\n     payload: {id: string, hoursPerUnit: number | string} \r\n    }\r\n | {\r\n     type: types.PERIOD, \r\n     payload: {id: string, accrualPeriod: MTimeOffPolicy['accrualPeriod']} \r\n    }\r\n | {\r\n     type: types.AMOUNT, \r\n     payload: {id: string, accrualAmount: number | string} \r\n    }\r\n | {\r\n     type: types.DATES, \r\n     payload: {id: string, accrueDates: MTimeOffPolicy['accrueDates']} \r\n    }\r\n | {\r\n     type: types.WEEKS, \r\n     payload: {id: string, accrueWeeks: MTimeOffPolicy['accrueWeeks']} \r\n    }\r\n | {\r\n     type: types.MONTHS, \r\n     payload: {id: string, accrueMonths: MTimeOffPolicy['accrueMonths']} \r\n    }\r\n | {\r\n     type: types.WEEKDAYS, \r\n     payload: {id: string, accrueWeekdays: MTimeOffPolicy['accrueWeekdays']} \r\n    }\r\n | {\r\n     type: types.STARTING_ON, \r\n     payload: {id: string, startingOn: string} \r\n    }\r\n | {\r\n     type: types.MAXIMUM, \r\n     payload: { id: string, accrualMaximum: number | string | undefined } \r\n    }\r\n| {\r\n    type: types.TOGGLE, \r\n    payload: {id: string} \r\n    }\r\n| {\r\n    type: types.EFFECTIVE_DATE, \r\n    payload: {id: string, effectiveDate: string}\r\n    }\r\n| {\r\n    type: types.AUTO_ACCRUAL, \r\n    payload: {id: string, autoAccrual?: boolean}\r\n    }\r\n| {\r\n    type: types.TEMPLATE_TITLE, \r\n    payload: {id: string, templateTitle?: string}\r\n    }\r\n| {\r\n    type: types.ERROR, \r\n    payload: {id: string, error?: string}\r\n    }\r\nexport function reducer(state: ConfigureBanksFormState={}, action: Actions): ConfigureBanksFormState {\r\n    if (action.type === types.RESET) return action.payload\r\n    \r\n    if (action.type === types.ADD) {\r\n        const newIndex = Object.values(state).length\r\n        const newBank = DEFAULT_BANK(newIndex, action.payload.title, action.payload.personId, action.payload.timeCodeId);\r\n        return {\r\n            ...state,\r\n            [newBank.id]: newBank\r\n        }\r\n    }\r\n    const existingState = state[action.payload?.id]\r\n    if (!existingState) return state\r\n    switch (action.type) {\r\n        case types.REMOVE: {\r\n            const {[action.payload.id]: _redacted, ...newState} = state;\r\n            return newState\r\n        }\r\n        case types.REORDER: {\r\n            const previousIndex = existingState.displayIndex;\r\n            const indexChange = action.payload.newIndex - previousIndex;\r\n            console.log('index change', indexChange, 'from', previousIndex)\r\n            const banks = Object.values(state);\r\n            const newState = banks.map( bank => {\r\n                        if (bank.id === action.payload.id) {\r\n                            return {\r\n                                ...bank,\r\n                                displayIndex: action.payload.newIndex\r\n                            }\r\n                        } else if (indexChange < 0 && bank.displayIndex >= action.payload.newIndex && bank.displayIndex < previousIndex ) {\r\n                            return {\r\n                                ...bank,\r\n                                displayIndex: bank.displayIndex + 1\r\n                            }\r\n                        } else if (indexChange > 0 && bank.displayIndex <= action.payload.newIndex && bank.displayIndex > previousIndex ) {\r\n                            return {\r\n                                ...bank,\r\n                                displayIndex: bank.displayIndex - 1\r\n                            }\r\n                        } else {\r\n                            return bank\r\n                        }\r\n                    })\r\n                    .reduce( (newState, bank) => ({...newState, [bank.id]: bank}), {} as Record<string, ConfigurationBank>)\r\n\r\n            return newState\r\n        }\r\n        case types.TITLE: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    title: action.payload.title\r\n                }\r\n            }\r\n        }\r\n        case types.UNIT: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    unit: action.payload.unit\r\n                }\r\n            }\r\n        }\r\n        case types.HOURS_PER_UNIT: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    hoursPerUnit: action.payload.hoursPerUnit\r\n                }\r\n            }\r\n        }\r\n        case types.PERIOD: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrualPeriod: action.payload.accrualPeriod\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.AMOUNT: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrualAmount: action.payload.accrualAmount\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.DATES: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrueDates: action.payload.accrueDates\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.WEEKS: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrueWeeks: action.payload.accrueWeeks\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.MONTHS: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrueMonths: action.payload.accrueMonths\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.WEEKDAYS: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrueWeekdays: action.payload.accrueWeekdays\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.STARTING_ON: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        startingOn: action.payload.startingOn\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.MAXIMUM: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        accrualMaximum: action.payload.accrualMaximum\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.EFFECTIVE_DATE: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        effectiveDate: action.payload.effectiveDate\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.AUTO_ACCRUAL: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    policy: {\r\n                        ...existingState.policy,\r\n                        autoAccrual: action.payload.autoAccrual\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case types.TOGGLE: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    open: !existingState.open\r\n                }\r\n            }\r\n        }\r\n        case types.ERROR: {\r\n            return {\r\n                ...state,\r\n                [action.payload.id]: {\r\n                    ...existingState,\r\n                    error: action.payload.error\r\n                }\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport { MToDo } from \"store/types/models/management\";\r\nimport { BaseDuck } from \"./BaseDuck\";\r\n\r\n\r\nexport const toDos = new BaseDuck<MToDo>('todos');\r\n\r\n\r\nexport const managementReducer = combineReducers({\r\n    toDos: toDos.reducer.bind(toDos)\r\n})","import { BaseDuck } from './BaseDuck';\r\n\r\nconst DEFAULT_STATE = {\r\n    isFluid: false,\r\n    isRTL: false,\r\n    isDark: false,\r\n    isTopNav: false,\r\n    isVertical: true,\r\n    get isCombo() {\r\n      return this.isVertical && this.isTopNav;\r\n    },\r\n    showBurgerMenu: false, // controls showing vertical nav on mobile\r\n    currency: '$',\r\n    isNavbarVerticalCollapsed: false,\r\n    navbarStyle: 'transparent',\r\n    isLoaded: false,\r\n    isOpenSidePanel: false,\r\n    navbarCollapsed: false,\r\n    kanban: {\r\n        categories: []\r\n    }\r\n}\r\n\r\nexport const settings = new BaseDuck<any>('settings', DEFAULT_STATE);\r\nsettings.replaceKeys = ['categories'];\r\n\r\nconst setFluid = (value: boolean) => settings.insert(value, 'isFluid')\r\nsettings.actions.setFluid = setFluid\r\n\r\nconst setDark = (value: boolean) => settings.insert(value, 'isDark')\r\nsettings.actions.setDark = setDark\r\n\r\nconst setRtl = (value: boolean) => settings.insert(value, 'isRTL')\r\nsettings.actions.setRtl = setRtl\r\n\r\nconst setTopNav = (value: boolean) => settings.insert(value, 'isTopNav')\r\nsettings.actions.setTopNav = setTopNav\r\n\r\nconst setVertical = (value: boolean) => settings.insert(value, 'isVertical')\r\nsettings.actions.setVertical = setVertical\r\n\r\nconst setVerticalCollapsed = (value: boolean) => settings.insert(value, 'isNavbarVerticalCollapsed')\r\nsettings.actions.setVerticalCollapsed = setVerticalCollapsed\r\n\r\nconst setCurrency = (value: string) => settings.insert(value, 'currency')\r\nsettings.actions.setCurrency = setCurrency\r\n\r\nconst setShowBurgerMenu = (value: boolean) => settings.insert(value, 'showBurgerMenu')\r\nsettings.actions.setShowBurgerMenu = setShowBurgerMenu\r\n\r\nconst setNavbarStyle = (value: string) => settings.insert(value, 'navbarStyle')\r\nsettings.actions.setNavbarStyle = setNavbarStyle\r\n\r\nconst setLoaded = (value: boolean) => settings.insert(value, 'isLoaded')\r\nsettings.actions.setLoaded = setLoaded\r\n\r\nconst setOpenSidePanel = (value: boolean) => settings.insert(value, 'isOpenSidePanel')\r\nsettings.actions.setOpenSidePanel = setOpenSidePanel\r\n\r\nconst setNavbarCollapsed = (value: boolean) => settings.insert(value, 'isNavbarCollapsed')\r\nsettings.actions.setNavbarCollapsed = setNavbarCollapsed","import { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { FalconColors } from 'components/falconTypes';\r\n\r\nexport interface RouteDef {\r\n  name: string;\r\n  to: string;\r\n  icon?: IconProp;\r\n  exact?: boolean;\r\n  children?: RouteDef[];\r\n  badge?: {\r\n    color: FalconColors;\r\n    text: string;\r\n  }\r\n}\r\n\r\n//still needs config\r\nexport const homeRoutes: RouteDef = {\r\n  name: 'Home',\r\n  to: '/home',\r\n  exact: true,\r\n  icon: 'chart-pie'\r\n};\r\n\r\nexport const adminRoutes: RouteDef = {\r\n  name: 'Administration',\r\n  to: '/admin',\r\n  icon: 'toolbox',\r\n  children: [\r\n    { to: '/admin/organization', name: 'My Organization' },\r\n    { to: '/admin/users', name: 'Users' },\r\n    { to: '/admin/user-groups', name: 'Groups' },\r\n    { to: '/admin/account', name: 'Account' },\r\n    { to: '/admin/billing', name: 'Billing' },\r\n    { to: '/admin/settings', name: 'System Settings'}\r\n  ]\r\n};\r\n\r\nexport const workflowRoutes: RouteDef = {\r\n  name: 'Workflows',\r\n  to: '/workflows',\r\n  icon: 'thumbtack'\r\n};\r\n\r\nexport const timeRoutes: RouteDef = {\r\n  name: 'Time',\r\n  to: '/time',\r\n  icon: 'clock',\r\n  children: [\r\n    { to: '/time/timesheet', name: 'Timesheet' },\r\n    { to: '/time/timeoff', name: 'Time Off' },\r\n    { to: '/time/approvals', name: 'Approvals' }\r\n  ]\r\n};\r\n\r\nexport const socialRoutes: RouteDef = {\r\n  name: 'Social',\r\n  to: '/social',\r\n  icon: 'users',\r\n  children: [\r\n    { to: `/social/profile/my`, name: 'My Profile' },\r\n    { to: '/social/people', name: 'People' },\r\n    { to: '/social/organizations', name: 'Organizations' },\r\n    { to: '/social/relationships', name: 'Relationships' },\r\n    { to: '/social/chat', name: 'Chat' }\r\n  ]\r\n};\r\n\r\nexport const financeRoutes: RouteDef = {\r\n  name: 'Finance',\r\n  to: '/finance',\r\n  icon: 'dollar-sign',\r\n  children: [\r\n    { to: '/finance/expenses', name: 'Expenses' },\r\n    { to: '/finance/contracts', name: 'Contracts' },\r\n    { to: '/finance/invoices', name: 'Invoices' },\r\n    { to: '/finance/payable', name: 'Payable' },\r\n    { to: '/finance/receivable', name: 'Receivable' },\r\n    { to: '/finance/wages', name: 'Wages' },\r\n    { to: '/finance/accounts', name: 'Accounts'}\r\n  ]\r\n};\r\n\r\nexport const managementRoutes: RouteDef = {\r\n  name: 'Management',\r\n  to: '/management',\r\n  icon: 'chart-line',\r\n  children: [\r\n    { to: '/management/assignments', name: 'Assignments' },\r\n    { to: '/management/teams', name: 'Teams' },\r\n    { to: '/management/workload', name: 'Workload'},\r\n    { to: '/management/approvals', name: 'Approvals' },\r\n    { to: '/management/timelines', name: 'Timelines' }\r\n  ]\r\n}\r\n\r\nexport const reportingRoutes: RouteDef = {\r\n  name: 'Reporting',\r\n  to: '/reports',\r\n  icon: 'stream',\r\n  exact: true\r\n}\r\n\r\nconst routes = [\r\n  homeRoutes,\r\n  managementRoutes,\r\n  workflowRoutes,\r\n  timeRoutes,\r\n  financeRoutes,\r\n  socialRoutes,\r\n  reportingRoutes,\r\n  adminRoutes\r\n];\r\n\r\nexport default routes;\r\n","import { RefObject } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport { RouteDef } from 'routes/routes'\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function isIterableArray(array: any): array is Array<any> {\r\n  return !!array && Array.isArray(array) && !!array.length;\r\n}\r\n\r\n//===============================\r\n// Breakpoints\r\n//===============================\r\nexport const breakpoints = {\r\n  xs: 0,\r\n  sm: 576,\r\n  md: 768,\r\n  lg: 992,\r\n  xl: 1200,\r\n  xxl: 1540\r\n};\r\n\r\n//===============================\r\n// Store\r\n//===============================\r\nexport const getItemFromStore = <T>(key: string, defaultValue: T, store = localStorage) =>\r\n  JSON.parse(store.getItem(key) || '') || defaultValue;\r\n\r\nexport const setItemToStore = (key: string, payload: unknown, store = localStorage) => store.setItem(key, JSON.stringify(payload));\r\n\r\nexport const getStoreSpace = (store = localStorage) =>\r\n  parseFloat((escape(encodeURIComponent(JSON.stringify(store))).length / (1024 * 1024)).toFixed(2));\r\n\r\n//===============================\r\n// Cookie\r\n//===============================\r\nexport const getCookieValue = (name: string) => {\r\n  const value = document.cookie.match('(^|[^;]+)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)');\r\n  return value ? value.pop() : null;\r\n};\r\n\r\nexport const createCookie = (name: string, value: string, cookieExpireTime: number) => {\r\n  const date = new Date();\r\n  date.setTime(date.getTime() + cookieExpireTime);\r\n  const expires = '; expires=' + date.toUTCString();\r\n  document.cookie = name + '=' + value + expires + '; path=/';\r\n};\r\n\r\n//===============================\r\n// Day.js\r\n//===============================\r\nexport const getDuration = (startDate: dayjs.ConfigType, endDate?: dayjs.ConfigType) => {\r\n  const start = dayjs(startDate);\r\n  const end = dayjs(endDate);\r\n  if (start.isValid()) {\r\n    if (endDate) {\r\n      if (end.isValid()) {\r\n        return `${start.format('MMM YYYY')} - ${end.format('MMM YYYY')}  ${start.to(end, true)}`\r\n      }\r\n      console.log(`End date could not be parsed to dayjs received ${typeof endDate}`)\r\n      return null\r\n    } else {\r\n      return `${start.format('MMM YYYY')} - Present  ${start.to(dayjs(), true)}`\r\n    }\r\n  }\r\n  console.log(`Start date could not be parsed by dayjs ${startDate}`)\r\n  return null\r\n};\r\n\r\n//===============================\r\n// Number Formatter\r\n//===============================\r\nexport const numberFormatter = (number: number, fixed = 2) => {\r\n  // Nine Zeroes for Billions\r\n  return Math.abs(Number(number)) >= 1.0e9\r\n    ? (Math.abs(Number(number)) / 1.0e9).toFixed(fixed) + 'B'\r\n    : // Six Zeroes for Millions\r\n    Math.abs(Number(number)) >= 1.0e6\r\n    ? (Math.abs(Number(number)) / 1.0e6).toFixed(fixed) + 'M'\r\n    : // Three Zeroes for Thousands\r\n    Math.abs(Number(number)) >= 1.0e3\r\n    ? (Math.abs(Number(number)) / 1.0e3).toFixed(fixed) + 'K'\r\n    : Math.abs(Number(number)).toFixed(fixed);\r\n};\r\n\r\n//===============================\r\n// Colors\r\n//===============================\r\nexport const hexToRgb = (hexValue: string) => {\r\n  let hex;\r\n  hexValue.indexOf('#') === 0 ? (hex = hexValue.substring(1)) : (hex = hexValue);\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(\r\n    hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b)\r\n  );\r\n  return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)] : null;\r\n};\r\n\r\nexport const rgbColor = (color = colors[0]) => `rgb(${hexToRgb(color)})`;\r\nexport const rgbaColor = (color = colors[0], alpha = 0.5) => `rgba(${hexToRgb(color)},${alpha})`;\r\n\r\nexport const colors = [\r\n  '#2c7be5',\r\n  '#00d97e',\r\n  '#e63757',\r\n  '#39afd1',\r\n  '#fd7e14',\r\n  '#02a8b5',\r\n  '#727cf5',\r\n  '#6b5eae',\r\n  '#ff679b',\r\n  '#f6c343'\r\n];\r\n\r\nexport const themeColors = {\r\n  primary: '#2c7be5',\r\n  secondary: '#748194',\r\n  success: '#00d27a',\r\n  info: '#27bcfd',\r\n  warning: '#f5803e',\r\n  danger: '#e63757',\r\n  light: '#f9fafd',\r\n  dark: '#0b1727'\r\n};\r\n\r\nexport const grays = {\r\n  white: '#fff',\r\n  100: '#f9fafd',\r\n  200: '#edf2f9',\r\n  300: '#d8e2ef',\r\n  400: '#b6c1d2',\r\n  500: '#9da9bb',\r\n  600: '#748194',\r\n  700: '#5e6e82',\r\n  800: '#4d5969',\r\n  900: '#344050',\r\n  1000: '#232e3c',\r\n  1100: '#0b1727',\r\n  black: '#000'\r\n};\r\n\r\nexport const darkGrays = {\r\n  white: '#fff',\r\n  1100: '#f9fafd',\r\n  1000: '#edf2f9',\r\n  900: '#d8e2ef',\r\n  800: '#b6c1d2',\r\n  700: '#9da9bb',\r\n  600: '#748194',\r\n  500: '#5e6e82',\r\n  400: '#4d5969',\r\n  300: '#344050',\r\n  200: '#232e3c',\r\n  100: '#0b1727',\r\n  black: '#000'\r\n};\r\n\r\nexport const getGrays = (isDark?: boolean) => (isDark ? darkGrays : grays);\r\n\r\nexport const rgbColors = colors.map(color => rgbColor(color));\r\nexport const rgbaColors = colors.map(color => rgbaColor(color));\r\n\r\n//===============================\r\n// Echarts\r\n//===============================\r\nexport const getPosition = <T extends {contentSize: [number, number]}>(pos: [number, number], params: any, dom: Document, rect: any, size: T) => ({\r\n  top: pos[1] - size.contentSize[1] - 10,\r\n  left: pos[0] - size.contentSize[0] / 2\r\n});\r\n\r\n//===============================\r\n// E-Commerce\r\n//===============================\r\nexport const calculateSale = (base: number, less = 0, fix = 2) => (base - base * (less / 100)).toFixed(fix);\r\nexport const getTotalPrice = (cart: {id: any, quantity: number}[], baseItems: { id: any, price: number, sale: number }[] ) =>\r\n  cart.reduce((accumulator, currentValue) => {\r\n    const { id, quantity } = currentValue;\r\n    const { price, sale } = baseItems.find(item => item.id === id) || {};\r\n    return accumulator + +calculateSale(price || NaN, sale) * quantity;\r\n  }, 0);\r\n\r\n//===============================\r\n// Helpers\r\n//===============================\r\nexport const getPaginationArray = (totalSize: number, sizePerPage: number) => {\r\n  const noOfPages = Math.ceil(totalSize / sizePerPage);\r\n  const array = [];\r\n  let pageNo = 1;\r\n  while (pageNo <= noOfPages) {\r\n    array.push(pageNo);\r\n    pageNo = pageNo + 1;\r\n  }\r\n  return array;\r\n};\r\n\r\nexport const capitalize = (str: string) => (str.charAt(0).toUpperCase() + str.slice(1)).replace(/-/g, ' ');\r\n\r\ninterface SlicerArgs {\r\n  routes: RouteDef[];\r\n  columns?: number;\r\n  rows?: number;\r\n}\r\nexport const routesSlicer = ({ routes, columns = 3, rows }: SlicerArgs) => {\r\n  const routesCollection = [] as RouteDef[];\r\n  routes.map(route => {\r\n    if (route.children) {\r\n      return route.children.map(item => {\r\n        if (item.children) {\r\n          return routesCollection.push(...item.children);\r\n        }\r\n        return routesCollection.push(item);\r\n      });\r\n    }\r\n    return routesCollection.push(route);\r\n  });\r\n\r\n  const totalRoutes = routesCollection.length;\r\n  const calculatedRows = rows || Math.ceil(totalRoutes / columns);\r\n  const routesChunks = [];\r\n  for (let i = 0; i < totalRoutes; i += calculatedRows) {\r\n    routesChunks.push(routesCollection.slice(i, i + calculatedRows));\r\n  }\r\n  return routesChunks;\r\n};\r\n\r\nexport const getPageName = (pageName: string) => {\r\n  return window.location.pathname.split('/').slice(-1)[0] === pageName;\r\n};\r\n\r\nexport const copyToClipBoard = <T extends HTMLInputElement>(textFieldRef: RefObject<T>) => {\r\n  const textField = textFieldRef.current;\r\n  if (!textField) return;\r\n  textField.focus();\r\n  textField.select();\r\n  document.execCommand('copy');\r\n};\r\n","import { AnyAction } from \"redux\"\r\nimport { WsMessage } from \"store/types/interface/common\"\r\n\r\nexport const types = {\r\n    OPEN: 'happin/app/WS/OPEN',\r\n    CLOSE: 'happin/app/WS/CLOSE',\r\n    MESSAGE: 'happin/app/WS/MESSAGE',\r\n    ERROR: 'happin/app/WS/ERROR'\r\n}\r\n\r\nconst DEFAULT_STATE = {\r\n    status: 'closed',\r\n    errorMessage: '',\r\n    messageLog: [] as WsMessage[]\r\n}\r\n\r\nexport const reducer = (state = DEFAULT_STATE, action = {} as AnyAction) => {\r\n    if (!action) return state;\r\n    const {payload, type} = action;\r\n\r\n    switch(type) {\r\n        case types.OPEN:\r\n            return {...state, status: 'open'}\r\n        case types.CLOSE:\r\n            return {...state, status: 'closed'}\r\n        case types.MESSAGE:\r\n            return {\r\n                ...state,\r\n                messageLog: state.messageLog.slice(-49).concat([payload])\r\n            }\r\n        case types.ERROR:\r\n            return {...state, status: 'error', errorMessage: payload}\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, {FC} from 'react';\r\nimport SpinnerLogo from 'components/SpinnerLogo';\r\n\r\ninterface Props {\r\n\r\n}\r\nconst Loading: FC<Props> = ({}) => ( // eslint-disable-line no-empty-pattern\r\n    <div style={{position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, display: 'flex', justifyContent: 'center'}}>\r\n        <div style={{flexDirection: 'column', alignSelf: \"center\", display: 'flex'}}>\r\n            <SpinnerLogo width={50} style={{margin: 'auto'}} /> \r\n            <h5 className=\"text-center\">happin is loading...</h5>\r\n        </div>\r\n    </div>  \r\n);\r\n\r\nexport default Loading;\r\n","////// Packages //////////////////\r\nimport React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, CardBody } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\nconst Error404 = () => (\r\n  <Card className=\"text-center\">\r\n    <CardBody className=\"p-5\">\r\n      <div className=\"display-1 text-200 fs-error\">404</div>\r\n      <p className=\"lead mt-4 text-800 text-sans-serif font-weight-semi-bold\">\r\n        {`The page you're looking for is not found.`}\r\n      </p>\r\n      <hr />\r\n      <p>\r\n        {`Make sure the address is correct and that the page hasn't moved. If you think this is a mistake,`}\r\n        <a href=\"mailto:info@exmaple.com\" className=\"ml-1\">\r\n          contact us\r\n        </a>\r\n        .\r\n      </p>\r\n      <Link className=\"btn btn-primary btn-sm mt-3\" to=\"/\">\r\n        <FontAwesomeIcon icon=\"home\" className=\"mr-2\" />\r\n        Take me home\r\n      </Link>\r\n    </CardBody>\r\n  </Card>\r\n);\r\n\r\nexport default Error404;\r\n","import React from 'react';\r\nimport { Card, CardBody } from 'reactstrap';\r\n\r\nconst Error500 = () => (\r\n  <Card className=\"text-center h-100\">\r\n    <CardBody className=\"p-5\">\r\n      <div className=\"display-1 text-200 fs-error\">500</div>\r\n      <p className=\"lead mt-4 text-800 text-sans-serif font-weight-semi-bold\">Whoops, something went wrong!</p>\r\n      <hr />\r\n      <p>\r\n        Try refreshing the page, or going back and attempting the action again. If this problem persists,\r\n        <a href=\"mailto:info@exmaple.com\" className=\"ml-1\">\r\n          contact us\r\n        </a>\r\n        .\r\n      </p>\r\n    </CardBody>\r\n  </Card>\r\n);\r\n\r\nexport default Error500;\r\n","////// Packages //////////////////\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Col, Row } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport Error404 from 'layouts/errors/Error404';\r\nimport Error500 from 'layouts/errors/Error500';\r\nimport Section from 'components/Section';\r\nimport Logo from 'compositions/Logo';\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\n\r\nconst ErrorRoutes = ({ match: { url } }) => (\r\n  <Section className=\"py-0\">\r\n    <Row className=\"flex-center min-vh-100 py-6\">\r\n      <Col sm={11} md={9} lg={7} xl={6} className=\"col-xxl-5\">\r\n        <Logo />\r\n        <Switch>\r\n          <Route path={`${url}/404`} component={Error404} />\r\n          <Route path={`${url}/500`} component={Error500} />\r\n\r\n          {/*Redirect*/}\r\n          <Redirect to={`${url}/404`} />\r\n        </Switch>\r\n      </Col>\r\n    </Row>\r\n  </Section>\r\n);\r\n\r\nErrorRoutes.propTypes = { match: PropTypes.object };\r\n\r\nexport default ErrorRoutes;\r\n","////// Packages //////////////////\r\nimport React, {FC} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Badge } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport Flex from 'components/Flex';\r\nimport { RouteDef } from 'routes/routes';\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\ninterface Props {\r\n  route: RouteDef;\r\n}\r\n\r\nconst NavbarVerticalMenuItem: FC<Props> = ({ route }) => (\r\n  <Flex align=\"center\">\r\n    {route.icon && (\r\n      <span className=\"nav-link-icon\">\r\n        <FontAwesomeIcon icon={route.icon} />\r\n      </span>\r\n    )}\r\n    <span className=\"nav-link-text\">{route.name}</span>\r\n    {!!route.badge && (\r\n      <Badge color={route.badge.color || 'soft-success'} pill className=\"ml-2\">\r\n        {route.badge.text}\r\n      </Badge>\r\n    )}\r\n  </Flex>\r\n);\r\n\r\nexport default React.memo(NavbarVerticalMenuItem);\r\n","////// Packages //////////////////\r\nimport React, {  useEffect, useState, FC } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { Collapse, Nav, NavItem, NavLink as BootstrapNavLink } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\nimport NavbarVerticalMenuItem from './NavbarVerticalMenuItem';\r\n\r\n////// Global Components /////////\r\nimport { RouteDef } from 'routes/routes'\r\nimport { Location } from 'history'\r\n\r\n////// CommonJS Helpers //////////\r\nimport { settings } from 'store/ducks/settings';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\n\r\ninterface Props {\r\n  routes: RouteDef[];\r\n  location: Location;\r\n}\r\n\r\nconst NavbarVerticalMenu: FC<Props> = ({ routes, location }) => {\r\n  const [openedIndex, setOpenedIndex] = useState(null as number | null);\r\n  const dispatch = useDispatch();\r\n  \r\n  useEffect(() => {\r\n    let openedDropdown = null;\r\n    routes.forEach((route, index) => {\r\n      if (location.pathname.indexOf(route.to) === 0) openedDropdown = index;\r\n    });\r\n\r\n    setOpenedIndex(openedDropdown);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const toggleOpened = (event: React.MouseEvent<HTMLAnchorElement>, index: number) => {\r\n    event.preventDefault();\r\n    return setOpenedIndex(openedIndex === index ? null : index);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {routes.map((route, index) => {\r\n        if (!route.children) {\r\n          return (\r\n            <NavItem key={index}>\r\n              <NavLink className=\"nav-link\" {...route} onClick={() => dispatch(settings.actions.setShowBurgerMenu(false))}>\r\n                <NavbarVerticalMenuItem route={route} />\r\n              </NavLink>\r\n            </NavItem>\r\n          )\r\n        }\r\n        return (\r\n          <NavItem key={index}>\r\n            <BootstrapNavLink\r\n              onClick={e => toggleOpened(e, index)}\r\n              className=\"dropdown-indicator cursor-pointer\"\r\n              aria-expanded={openedIndex === index}\r\n            >\r\n              <NavbarVerticalMenuItem route={route} />\r\n            </BootstrapNavLink>\r\n            <Collapse isOpen={openedIndex === index}>\r\n              <Nav>\r\n                <NavbarVerticalMenu routes={route.children} location={location} />\r\n              </Nav>\r\n            </Collapse>\r\n          </NavItem>\r\n        );\r\n      })}\r\n    </>\r\n  )\r\n};\r\n\r\nexport default withRouter<any, any>(NavbarVerticalMenu);\r\n","////// Packages //////////////////\r\nimport React, { useEffect, useRef, FC } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button, Collapse, Nav, Navbar, UncontrolledTooltip } from 'reactstrap';\r\nimport is from 'is_js';\r\nimport classNames from 'classnames';\r\n\r\n////// Local Components //////////\r\nimport NavbarVerticalMenu from './components/NavbarVerticalMenu';\r\nimport NavbarTopDropDownMenus from './components/NavbarTopDropDownMenus';\r\n\r\n////// Global Components /////////\r\nimport Logo from 'compositions/Logo';\r\nimport Flex from 'components/Flex';\r\n\r\n////// CommonJS Helpers //////////\r\nimport routes from 'routes/routes';\r\nimport { navbarBreakPoint, topNavbarBreakpoint } from 'environ';\r\nimport {settings} from 'store/ducks/settings';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\ninterface Props {\r\n  navbarStyle?: 'dark' | 'vibrant' | 'card' | 'inverted' | 'transparent';\r\n}\r\n\r\nconst NavbarVertical: FC<Props> = ({ navbarStyle=\"transparent\" }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const showBurgerMenu = useSelector(state => state.app.settings.showBurgerMenu)\r\n  const isNavbarVerticalCollapsed = useSelector(state => state.app.settings.isNavbarVerticalCollapsed)\r\n  const isCombo = useSelector(state => state.app.settings.isVertical && state.app.settings.isTopNav)\r\n\r\n  const navBarRef = useRef(null);\r\n\r\n  const HTMLClassList = document.getElementsByTagName('html')[0].classList;\r\n\r\n  //Control Component did mount and unmounted of hover effect\r\n  if (isNavbarVerticalCollapsed) {\r\n    HTMLClassList.add('navbar-vertical-collapsed');\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (is.windows()) {\r\n      HTMLClassList.add('windows');\r\n    }\r\n    if (is.chrome()) {\r\n      HTMLClassList.add('chrome');\r\n    }\r\n    if (is.firefox()) {\r\n      HTMLClassList.add('firefox');\r\n    }\r\n    return () => {\r\n      HTMLClassList.remove('navbar-vertical-collapsed-hover');\r\n    };\r\n  }, [isNavbarVerticalCollapsed, HTMLClassList]);\r\n\r\n  //Control mouseEnter event\r\n  let time: NodeJS.Timeout | null = null;\r\n  const handleMouseEnter = () => {\r\n    if (isNavbarVerticalCollapsed) {\r\n      time = setTimeout(() => {\r\n        HTMLClassList.add('navbar-vertical-collapsed-hover');\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const getNavbarToggler = () => (\r\n    <>\r\n      <UncontrolledTooltip placement=\"left\" target=\"toggleNavigationTooltip\">\r\n        Toggle Navigation\r\n      </UncontrolledTooltip>\r\n      <div className=\"toggle-icon-wrapper\">\r\n        <Button\r\n          color=\"link\"\r\n          className=\"navbar-toggler-humburger-icon navbar-vertical-toggle\"\r\n          id=\"toggleNavigationTooltip\"\r\n          onClick={() => {\r\n            document.getElementsByTagName('html')[0].classList.toggle('navbar-vertical-collapsed');\r\n            dispatch(settings.actions.setVerticalCollapsed(!isNavbarVerticalCollapsed));\r\n          }}\r\n        >\r\n          <span className=\"navbar-toggle-icon\">\r\n            <span className=\"toggle-line\" />\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <Navbar\r\n      expand={navbarBreakPoint}\r\n      className={classNames('navbar-vertical navbar-glass', {\r\n        [`navbar-${navbarStyle}`]: navbarStyle !== 'transparent'\r\n      })}\r\n      light\r\n    >\r\n      <Flex align=\"center\">\r\n        {getNavbarToggler()}\r\n        <Logo at=\"navbar-vertical\" horiz width={50} />\r\n      </Flex>\r\n\r\n      <Collapse\r\n        navbar\r\n        isOpen={showBurgerMenu}\r\n        className=\"scrollbar\"\r\n        innerRef={navBarRef}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={() => {\r\n          if (time) clearTimeout(time);\r\n          HTMLClassList.remove('navbar-vertical-collapsed-hover');\r\n        }}\r\n        style={\r\n          (navbarStyle === 'vibrant' || undefined) && {\r\n            backgroundImage: `linear-gradient(-45deg, rgba(0, 160, 255, 0.86), #0048a2))`\r\n          }\r\n        }\r\n      >\r\n        <Nav navbar vertical>\r\n          <NavbarVerticalMenu routes={routes} />\r\n        </Nav>\r\n        <div className=\"settings px-3 px-xl-0\">\r\n          {isCombo && (\r\n            <div className={`d-${topNavbarBreakpoint}-none`}>\r\n              <div className=\"navbar-vertical-divider\">\r\n                <hr className=\"navbar-vertical-hr my-2\" />\r\n              </div>\r\n              <Nav navbar>\r\n                <NavbarTopDropDownMenus\r\n                  setNavbarCollapsed={() => dispatch(settings.actions.setNavbarCollapsed(true))}\r\n                  setShowBurgerMenu={() => dispatch(settings.actions.setShowBurgerMenu(true))}\r\n                />\r\n              </Nav>\r\n            </div>\r\n          )}\r\n          <div className=\"navbar-vertical-divider\">\r\n            <hr className=\"navbar-vertical-hr my-2\" />\r\n          </div>\r\n        </div>\r\n      </Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\n\r\nexport default NavbarVertical;\r\n","import { autoDropBreakpoint } from '../environ'\r\n\r\ntype AnyFunction<T extends any[]> = (...args: T)=>void\r\n\r\nconst autoDrop = <T extends any[]>( cb: AnyFunction<T> = () =>{} ) => {\r\n    let timer: NodeJS.Timeout;\r\n    return (openAction?: any, ...params: T) => () => {\r\n        const windowWidth = window.innerWidth;\r\n        if (windowWidth > autoDropBreakpoint) {\r\n            if (openAction) {\r\n                clearTimeout(timer);\r\n                cb && cb(...params);\r\n            } else {\r\n                timer = setTimeout(() => {\r\n                    cb && cb(...params)\r\n                }, 200);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default autoDrop;","////// Packages //////////////////\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DropdownItem, DropdownMenu, DropdownToggle, Dropdown } from 'reactstrap';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport PersonAvatar from 'components/PersonAvatar';\r\n\r\n////// CommonJS Helpers //////////\r\nimport autoDrop from 'helpers/autoDrop';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\nconst ProfileDropdown = () => {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const personId = useSelector( state => state.app.login.personId)\r\n  const toggle = () => setDropdownOpen(prevState => !prevState);\r\n  const autoDropdown = autoDrop(setDropdownOpen);\r\n  \r\n  return (\r\n    <Dropdown\r\n      nav\r\n      inNavbar\r\n      isOpen={dropdownOpen}\r\n      toggle={toggle}\r\n      onMouseOver={autoDropdown(true, true)}\r\n      onMouseLeave={autoDropdown(false, false)}\r\n    >\r\n      <DropdownToggle nav className=\"pr-0\">\r\n        <PersonAvatar ids={[personId!]} />\r\n      </DropdownToggle>\r\n      <DropdownMenu right className=\"dropdown-menu-card\">\r\n        <div className=\"bg-white rounded-soft py-2\">\r\n          <DropdownItem className=\"font-weight-bold text-warning\" href=\"#!\">\r\n            <FontAwesomeIcon icon=\"crown\" className=\"mr-1\" />\r\n            <span>Go Pro</span>\r\n          </DropdownItem>\r\n          <DropdownItem divider />\r\n          <DropdownItem href=\"#!\">Set status</DropdownItem>\r\n          <DropdownItem tag={Link} to=\"/social/profile/my\">\r\n            Profile\r\n          </DropdownItem>\r\n          <DropdownItem href=\"#!\">Feedback</DropdownItem>\r\n          <DropdownItem divider />\r\n          <DropdownItem tag={Link} to=\"/social/editprofile\">\r\n            Settings\r\n          </DropdownItem>\r\n          <DropdownItem tag={Link} to=\"/auth/logout\">\r\n            Logout\r\n          </DropdownItem>\r\n        </div>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport default ProfileDropdown;\r\n","////// Packages //////////////////\r\nimport React, { useState } from 'react';\r\nimport { Card, Dropdown, DropdownMenu, DropdownToggle, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport classNames from 'classnames';\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\nimport FalconCardHeader from 'components/FalconCardHeader';\r\nimport Notification from 'compositions/Notification';\r\n\r\n////// CommonJS Helpers //////////\r\nimport { isIterableArray } from 'helpers/utils';\r\nimport autoDrop from 'helpers/autoDrop';\r\n\r\n////// Custom Hooks //////////////\r\nimport useFetch from 'hooks/useFetch';\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\nconst NotificationDropdown = () => {\r\n  // State\r\n  const { post, loading, error } = useFetch();\r\n\r\n  const [newNotifications, setNewNotifications] = useState([]);\r\n  const [readNotifications, setReadNotifications] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isAllRead, setIsAllRead] = useState(false);\r\n\r\n  const autoDropdown = autoDrop(setIsOpen)\r\n\r\n  // Handler\r\n  const handleToggle = e => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const updateNotifications = async (sendData) => {\r\n    const data = await post(sendData, '/notifications');\r\n    setNewNotifications( data.filter( e =>  e.unread ) );\r\n    setReadNotifications( data.filter( e => !e.unread ) );\r\n    return data;\r\n  }\r\n\r\n  const markAsRead = async e => {\r\n    e.preventDefault();\r\n    const sendData = {\r\n      items: newNotifications.map( n => n.id ), \r\n      action: 'mark', \r\n      unread: false\r\n    }\r\n    await updateNotifications(sendData);\r\n  };\r\n\r\n  return (\r\n    <Dropdown\r\n      nav\r\n      inNavbar\r\n      isOpen={isOpen}\r\n      toggle={handleToggle}\r\n      onMouseOver={autoDropdown(true, true)}\r\n      onMouseLeave={autoDropdown(false, false)}\r\n    >\r\n      <DropdownToggle\r\n        nav\r\n        className={classNames('px-1', {\r\n          'notification-indicator notification-indicator-primary': !isAllRead\r\n        })}\r\n      >\r\n        <FontAwesomeIcon icon=\"bell\" transform=\"shrink-6\" className=\"fs-4\" />\r\n      </DropdownToggle>\r\n      <DropdownMenu right className=\"dropdown-menu-card\">\r\n        <Card className=\"card-notification shadow-none\" style={{ maxWidth: '20rem' }}>\r\n          <FalconCardHeader className=\"card-header\" title=\"Notifications\" titleTag=\"h6\" light={false}>\r\n            <Link className=\"card-link font-weight-normal\" to=\"#!\" onClick={markAsRead}>\r\n              Mark all as read\r\n            </Link>\r\n          </FalconCardHeader>\r\n          <ListGroup flush className=\"font-weight-normal fs--1\">\r\n            <div className=\"list-group-title\">NEW</div>\r\n            {isIterableArray(newNotifications) &&\r\n              newNotifications.map((notification, index) => (\r\n                <ListGroupItem key={index} onClick={handleToggle}>\r\n                  <Notification {...notification} flush />\r\n                </ListGroupItem>\r\n              ))}\r\n            <div className=\"list-group-title\">EARLIER</div>\r\n            {isIterableArray(readNotifications) &&\r\n              readNotifications.map((notification, index) => (\r\n                <ListGroupItem key={index} onClick={handleToggle}>\r\n                  <Notification {...notification} flush />\r\n                </ListGroupItem>\r\n              ))}\r\n          </ListGroup>\r\n          <div className=\"card-footer text-center border-top\" onClick={handleToggle}>\r\n            <Link className=\"card-link d-block\" to=\"/pages/notifications\">\r\n              View all\r\n            </Link>\r\n          </div>\r\n        </Card>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport default NotificationDropdown;\r\n","////// Packages //////////////////\r\nimport React from 'react';\r\nimport { CustomInput, Nav, NavItem, NavLink, UncontrolledTooltip } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n////// Local Components //////////\r\nimport ProfileDropdown from './ProfileDropdown';\r\nimport NotificationDropdown from './NotificationDropdown';\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\nimport { settings } from 'store/ducks/settings';\r\nimport useWS from 'store/hooks/useWS';\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\nconst TopNavRightSideNavItem = () => {\r\n  const isTopNav = useSelector( state => state.app.settings?.isTopNav );\r\n  const isDark = useSelector( state => state.app.settings?.isDark )\r\n  const dispatch= useDispatch();\r\n  const wsError = useSelector( state => state.ws.errorMessage);\r\n  const wsStatus = useSelector( state => state.ws.status);\r\n  const { socket } = useWS();\r\n  \r\n  return (\r\n    <Nav navbar className=\"navbar-nav-icons ml-auto flex-row align-items-center\">\r\n      <NavItem className=\"d-none d-sm-inline mx-2\">\r\n        { wsStatus === 'open' \r\n          ? <h6 className=\"m-0\">Connected <FontAwesomeIcon icon=\"check\" className=\"text-success\" /></h6>\r\n          : wsStatus === 'closed'\r\n            ? <h6 className=\"m-0\">Disconnected <FontAwesomeIcon icon=\"times\" className=\"text-secondary\" /></h6>\r\n            : <h6 className=\"m-0\">Error: {wsError} <FontAwesomeIcon icon=\"exclamation-circle\" className=\"text-danger\" /></h6>  \r\n        }\r\n      </NavItem>\r\n      <NavItem className=\"d-none d-md-inline mx-2\">\r\n        <CustomInput\r\n          type=\"switch\"\r\n          id=\"customSwitch\"\r\n          name=\"customSwitch\"\r\n          label=\"Dark Mode\"\r\n          checked={!!isDark}\r\n          onChange={e => dispatch(settings.actions.setDark(e.target.checked))}\r\n        />\r\n      </NavItem>\r\n      {isTopNav && (\r\n        <NavItem className={`p-2 px-lg-0 cursor-pointer d-none d-sm-block`}>\r\n          <NavLink tag={Link} to=\"/changelog\" id=\"changelog\">\r\n            <FontAwesomeIcon icon=\"code-branch\" transform=\"right-6 grow-4\" />\r\n          </NavLink>\r\n          <UncontrolledTooltip autohide={false} placement=\"left\" target=\"changelog\">\r\n            Changelog\r\n          </UncontrolledTooltip>\r\n        </NavItem>\r\n      )}\r\n      <NotificationDropdown />\r\n      <ProfileDropdown />\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default TopNavRightSideNavItem;\r\n","////// Packages //////////////////\r\nimport React, { useCallback } from 'react';\r\nimport { Collapse, Navbar, NavItem, Nav } from 'reactstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport { isEqual } from 'lodash';\r\n\r\n////// Local Components //////////\r\nimport SearchBox from '../../compositions/SearchBox';\r\nimport TopNavRightSideNavItem from './components/TopNavRightSideNavItem';\r\nimport NavbarTopDropDownMenus from './components/NavbarTopDropDownMenus';\r\n\r\n////// Global Components /////////\r\nimport Logo from 'compositions/Logo';\r\n\r\n////// CommonJS Helpers //////////\r\nimport { navbarBreakPoint, topNavbarBreakpoint } from 'environ';\r\nimport { settings } from \"store/ducks/settings\";\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n\r\nconst NavbarTop = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    showBurgerMenu,\r\n    isTopNav,\r\n    isVertical,\r\n    isCombo,\r\n    navbarCollapsed\r\n  } = useSelector( store => store.app.settings, isEqual );\r\n\r\n  const handleBurgerMenu = () => {\r\n    if (isTopNav && !isCombo) dispatch(settings.actions.setNavbarCollapsed(!navbarCollapsed));\r\n    if (isCombo || isVertical) dispatch(settings.actions.setShowBurgerMenu(!showBurgerMenu));\r\n  };\r\n\r\n  const setNavCollapsed = useCallback(value => dispatch(settings.actions.setNavbarCollapsed(value)), [dispatch])\r\n\r\n  return (\r\n    <Navbar\r\n      light\r\n      className=\"navbar-glass fs--1 font-weight-semi-bold row navbar-top sticky-kit\"\r\n      expand={topNavbarBreakpoint}\r\n    >\r\n      <div\r\n        className={classNames('toggle-icon-wrapper mr-md-3 mr-2', {\r\n          'd-lg-none': isTopNav && !isCombo,\r\n          [`d-${navbarBreakPoint}-none`]: isVertical || isCombo\r\n        })}\r\n      >\r\n        <button\r\n          className=\"navbar-toggler-humburger-icon btn btn-link d-flex flex-center\"\r\n          onClick={ handleBurgerMenu }\r\n          id=\"burgerMenu\"\r\n        >\r\n          <span className=\"navbar-toggle-icon\">\r\n            <span className=\"toggle-line\" />\r\n          </span>\r\n        </button>\r\n      </div>\r\n      <Logo at=\"navbar-top\" width={40} />\r\n      <Collapse navbar isOpen={navbarCollapsed} className=\"scrollbar\">\r\n        {!isTopNav ? (\r\n          <Nav navbar className=\"align-items-center d-none d-lg-block\">\r\n            <NavItem>\r\n              <SearchBox />\r\n            </NavItem>\r\n          </Nav>\r\n        ) : (\r\n          <Nav navbar>\r\n            <NavbarTopDropDownMenus />\r\n          </Nav>\r\n        )}\r\n      </Collapse>\r\n      <TopNavRightSideNavItem />\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavbarTop;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport loadable from '@loadable/component';\r\nimport SimpleReactLightbox from 'simple-react-lightbox';\r\n\r\nimport NavbarVertical from '../layouts/navbar/NavbarVertical';\r\nimport NavbarTop from '../layouts/navbar/NavbarTop';\r\nimport { Route, Switch } from 'react-router';\r\nimport useMyUser from 'store/hooks/user/useMyUser';\r\n\r\nconst HomeRoutes = loadable(() => import('./home/HomeRoutes'));\r\nconst FinanceRoutes = loadable(() => import('./finance/FinanceRoutes'));\r\nconst TimeRoutes = loadable(() => import('./time/TimeRoutes'));\r\nconst ManagementRoutes = loadable(() => import('./management/ManagementRoutes'));\r\nconst SocialRoutes = loadable(() => import('./social/SocialRoutes'));\r\nconst AdminRoutes = loadable(() => import('./admin/AdminRoutes'));\r\nconst WorkflowRoutes = loadable(() => import('./workflows/WorkflowRoutes'));\r\nconst checkFluidPages = (a) => true;\r\n\r\nconst AuthenticatedAppRoute = () => {\r\n    const { value: _user } = useMyUser()\r\n    const isFluid = useSelector( state => state.app.settings?.isFluid )\r\n    const isVertical = useSelector( state => state.app.settings?.isVertical )\r\n    \r\n    const forceFluid = checkFluidPages( window.location.pathname )\r\n\r\n    useEffect(() => {\r\n        SocialRoutes.preload()\r\n    }, []);\r\n\r\n    // reset window position on navigation\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n      }, [window.location.pathname]);\r\n\r\n    return (\r\n        <SimpleReactLightbox>\r\n            <div className={isFluid || forceFluid ? 'container-fluid' : 'container'}>\r\n                { isVertical &&\r\n                    <NavbarVertical />\r\n                }\r\n                <div className=\"content\">\r\n                    <NavbarTop />\r\n                    <Switch>\r\n                    \r\n                        <Route path=\"/finance\" component={FinanceRoutes} />\r\n                        <Route path='/social' component={SocialRoutes} />\r\n                        <Route path=\"/management\" component={ManagementRoutes} />\r\n                        <Route path='/time' component={TimeRoutes}/>\r\n                        <Route path='/admin' component={AdminRoutes}/>\r\n                        <Route path='/workflows' component={WorkflowRoutes} />\r\n                        <Route path=\"/home\" component={HomeRoutes} />\r\n                    </Switch>\r\n                    <div id=\"footer-spacer\" style={{minHeight: \"20vh\"}} />\r\n                </div>\r\n            </div>\r\n        </SimpleReactLightbox>\r\n    );\r\n};\r\n\r\n\r\nexport default AuthenticatedAppRoute;\r\n","////// Packages //////////////////\r\nimport dayjs, { Dayjs } from 'dayjs'\r\nimport React, { FC } from 'react'\r\n\r\n////// Local Components //////////\r\n\r\n////// Global Components /////////\r\n\r\n////// CommonJS Helpers //////////\r\n\r\n////// Custom Hooks //////////////\r\n\r\n////// Thunks ////////////////////\r\n\r\n////// Types /////////////////////\r\n\r\ninterface Props {\r\n    \r\n}\r\n\r\nconst TestPage: FC<Props> = () => {\r\n    \r\n    const startDate = dayjs().subtract(15, 'day').format('MM/DD/YYYY')\r\n    const endDate = '01/15/2022'\r\n\r\n    let date = dayjs(startDate);\r\n\r\n    type Year = {\r\n        value: number,\r\n        firstDate: Dayjs,\r\n        lastDate: Dayjs,\r\n        months: Month[]\r\n    }\r\n    type Month = {\r\n        title: string;\r\n        firstDate: Dayjs,\r\n        lastDate: Dayjs,\r\n        days: Day[]\r\n    }\r\n    type Day = {\r\n        date: Dayjs,\r\n        number: number,\r\n        weekday: number\r\n    }\r\n\r\n    const years: Year[] = [];\r\n\r\n    while (date.isBefore(endDate)) {\r\n\r\n        date = date.add(1, 'day')\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"border\">\r\n            <div className=\"gantt-month-container\">\r\n                <div className=\"gantt-month-title\">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TestPage","///// Packages /////////////\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport loadable from '@loadable/component';\r\n\r\n///// Local Components /////////\r\nimport LoadingPage from './layouts/test/Loading';\r\n\r\n///// Routes //////\r\nimport ErrorRoutes from './routes/errors/ErrorRoutes';\r\nimport AuthenticatedAppRoute from './routes/AuthenticatedAppRoute';\r\nimport TestPage from 'layouts/test/TestPage';\r\n\r\nconst Landing = loadable(() => import('./layouts/landing/Landing'));\r\nconst AuthRoutes = loadable(() => import('./routes/auth/AuthRoutes'));\r\n\r\n\r\nconst AuthGateway = () => {\r\n    const isLoggedIn = useSelector( state => state.app.login.loggedIn )\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path='/loading' exact component={LoadingPage} />\r\n                <Route path='/test' exact component={TestPage} />\r\n                <Route path='/' exact component={Landing} />\r\n                <Route path='/auth' component={AuthRoutes} />\r\n                <Route path='/errors' component={ErrorRoutes} />\r\n                { isLoggedIn ? \r\n                    <Route component={ AuthenticatedAppRoute } />\r\n                :\r\n                    <Redirect to=\"/auth/login\" />\r\n                } \r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default AuthGateway;","import React, { FC } from 'react';\r\nimport { cssTransition } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport const Fade = cssTransition({ enter: 'fadeIn', exit: 'fadeOut' });\r\n\r\ninterface Props {\r\n  closeToast?: ()=>void;\r\n}\r\nexport const CloseButton: FC<Props> = ({ closeToast }) => (\r\n  <FontAwesomeIcon icon=\"times\" className=\"my-2 fs--2\" style={{ opacity: 0.5 }} onClick={closeToast} />\r\n);\r\n","\r\ninterface StylesheetSettings {\r\n  isRTL: boolean;\r\n  isDark: boolean\r\n}\r\n\r\nconst insertStylesheet = ({ isRTL, isDark }: StylesheetSettings, cb: (this: GlobalEventHandlers, ev: Event) => any) => {\r\n  const link = document.createElement('link');\r\n  link.href = `${process.env.PUBLIC_URL}/css/theme${isDark ? '-dark' : ''}${isRTL ? '-rtl' : ''}.css`;\r\n  console.log('insert stylesheet from ', link.href)\r\n  link.type = 'text/css';\r\n  link.rel = 'stylesheet';\r\n  link.className = 'theme-stylesheet';\r\n\r\n  link.onload = cb;\r\n  document.getElementsByTagName('head')[0].appendChild(link);\r\n  document.getElementsByTagName('html')[0].setAttribute('dir', isRTL ? 'rtl' : 'ltr');\r\n};\r\n\r\nexport default ({ isRTL, isDark }: StylesheetSettings, cb: (this: GlobalEventHandlers, ev: Event) => any) => {\r\n  Array.from(document.getElementsByClassName('theme-stylesheet')).forEach(link => link.remove());\r\n  insertStylesheet({ isRTL, isDark }, cb);\r\n};\r\n","// core components\r\nimport { useEffect, FC } from 'react';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\n// user components\r\nimport AuthGateway from './AuthGateway';\r\nimport { CloseButton, Fade } from './components/Toast';\r\n\r\n// stylesheets\r\nimport toggleStylesheet from './helpers/toggleStylesheet';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport 'react-datetime/css/react-datetime.css';\r\n\r\n// redux store\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { settings } from 'store/ducks/settings'\r\nimport Loading from 'layouts/test/Loading';\r\n// import AVContainer from 'layouts/av/AVContainer';\r\n// import PeerProvider from 'layouts/av/PeerProvider';\r\n\r\n\r\nconst App: FC<any> = ({}) => { // eslint-disable-line no-empty-pattern\r\n    const isRTL = useSelector( state => state.app.settings?.isRTL );\r\n    const isLoaded = useSelector( state => state.app.settings?.isLoaded );\r\n    const isDark = useSelector( state => state.app.settings?.isDark );\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n\r\n    useEffect(() => {\r\n      dispatch( settings.actions.setLoaded( false ) );\r\n\r\n      toggleStylesheet(\r\n          { isRTL, isDark }, \r\n          () => dispatch( settings.actions.setLoaded( true ) )\r\n      );\r\n\r\n    }, [isRTL, isDark])\r\n    \r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        {isLoaded \r\n        ? <>\r\n        \r\n            <AuthGateway />\r\n            <ToastContainer transition={Fade} closeButton={<CloseButton />} position={toast.POSITION.BOTTOM_LEFT} />\r\n            \r\n          </>\r\n          : <Loading />\r\n        }\r\n      </Router>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as addStage } from './addStage';\r\nimport { reducer as configureBanks } from './configureBanks'\r\n\r\nexport const formReducer = combineReducers({\r\n    addStage,\r\n    configureBanks\r\n})","import produce from \"immer\"\r\nimport { mergeWith } from \"lodash\"\r\nimport { AnyAction } from \"redux\"\r\nimport { SettingsOptions } from \"store/store\"\r\nimport { types as wsTypes } from './ws'\r\n\r\n        \r\nconst DEFAULT_STATE: SettingsOptions = {\r\n    stage: {\r\n        tags: [],\r\n        memberRoles: [],\r\n        types: [],\r\n        identifiers: []\r\n    },\r\n    kanban: {\r\n        categories: []\r\n    }\r\n}\r\n\r\nexport function reducer(state: SettingsOptions = DEFAULT_STATE, action: AnyAction) {\r\n    return produce(state, draft => {\r\n        const {payload, type} = action\r\n        if (type === wsTypes.MESSAGE)  {\r\n            if (payload.records) {\r\n                for (const record of payload.records) {\r\n                    if (record?.settings?.options) {\r\n                        console.log('merging', record.settings.options)\r\n                        mergeWith(draft, record.settings.options, (_obj, src) => Array.isArray(src) ? src : undefined )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n    \r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose, AnyAction } from 'redux';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { reducer as login } from './ducks/login'\r\nimport { idReducer } from './ducks/id'\r\nimport { formReducer } from './ducks/forms/forms'\r\nimport { workflowReducer } from './ducks/workflow'\r\nimport { settings } from './ducks/settings'\r\nimport { reducer as deduplicator } from './ducks/deduplicator'\r\nimport { reducer as ws } from './ducks/ws';\r\nimport { reducer as options } from './ducks/options';\r\nimport { reducer as time } from './ducks/time';\r\nimport { reducer as finance } from './ducks/finance';\r\nimport { managementReducer as management } from './ducks/management';\r\n\r\nconst appConfig = {\r\n  key: 'app',\r\n  storage,\r\n  blacklist: ['settings']\r\n}\r\n\r\nconst settingsConfig = {\r\n  key: 'settings',\r\n  storage\r\n}\r\n\r\nconst app = combineReducers({\r\n  login,\r\n  forms: formReducer,\r\n  settings: persistReducer(settingsConfig, settings.reducer.bind(settings)),\r\n  options\r\n})\r\n\r\nconst appReducer = combineReducers({\r\n  app: persistReducer(appConfig, app),\r\n  id: idReducer,\r\n  time,\r\n  finance,\r\n  management,\r\n  workflow: workflowReducer,\r\n  deduplicator,\r\n  ws\r\n})\r\n\r\n\r\nconst rootReducer = (state: any, action: AnyAction) => {\r\n  if (action?.type === 'RESET') {\r\n    storage.removeItem('persist:app');\r\n    // state = undefined;\r\n    const {options: _redacted, ...keptSettings} = state.app.settings\r\n    state = {app: {\r\n        login: {loggedIn: false},\r\n        settings: keptSettings\r\n      }\r\n    }\r\n  }\r\n  return appReducer(state, action);\r\n}\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  undefined,\r\n  compose(\r\n    applyMiddleware(\r\n      thunk\r\n    ),\r\n    window.devToolsExtension ? window.devToolsExtension() : f => f\r\n  )\r\n)\r\n\r\n\r\nexport const persistor = persistStore(store);\r\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n  faAngleDown,\r\n  faChartPie,\r\n  faUserTimes,\r\n  faUserCheck,\r\n  faLandmark,\r\n  faToolbox,\r\n  faThumbtack,\r\n  faChartLine,\r\n  faCopy,\r\n  faSearch,\r\n  faHome,\r\n  faBell,\r\n  faPlay,\r\n  faChevronRight,\r\n  faChevronLeft,\r\n  faChevronUp,\r\n  faChevronDown,\r\n  faDownload,\r\n  faExchangeAlt,\r\n  faAngleRight,\r\n  faEllipsisH,\r\n  faCrown,\r\n  faListAlt,\r\n  faCheck,\r\n  faBan,\r\n  faStream,\r\n  faArrowsAltV,\r\n  faSort,\r\n  faSortAlphaDown,\r\n  faSortAlphaUp,\r\n  faSortNumericDown,\r\n  faSortNumericUp,\r\n  faSortAmountDown,\r\n  faSortAmountUp,\r\n  faCheckCircle,\r\n  faUserCircle,\r\n  faQuestionCircle,\r\n  faLock,\r\n  faCircle,\r\n  faHeart,\r\n  faShareAlt,\r\n  faCaretRight,\r\n  faArrowDown,\r\n  faArrowUp,\r\n  faPrint,\r\n  faDollarSign,\r\n  faLink,\r\n  faPlus,\r\n  faPlusCircle,\r\n  faMinus,\r\n  faUser,\r\n  faPencilAlt,\r\n  faCamera,\r\n  faTimesCircle,\r\n  faSignInAlt,\r\n  faBook,\r\n  faPuzzlePiece,\r\n  faTrash,\r\n  faAlignLeft,\r\n  faAlignRight,\r\n  faPlug,\r\n  faTimes,\r\n  faFilter,\r\n  faExternalLinkAlt,\r\n  faCartPlus,\r\n  faShoppingCart,\r\n  faStar,\r\n  faStarHalfAlt,\r\n  faArrowLeft,\r\n  faArrowRight,\r\n  faArchive,\r\n  faEnvelope,\r\n  faClock,\r\n  faReply,\r\n  faLocationArrow,\r\n  faCog,\r\n  faPaperclip,\r\n  faImage,\r\n  faEllipsisV,\r\n  faEnvelopeOpen,\r\n  faRedo,\r\n  faSlidersH,\r\n  faTrashAlt,\r\n  faFileArchive,\r\n  faFilePdf,\r\n  faFileWord,\r\n  faFileExcel,\r\n  faFileImage,\r\n  faFileAlt,\r\n  faEye,\r\n  faCaretUp,\r\n  faCaretDown,\r\n  faCodeBranch,\r\n  faExclamationTriangle,\r\n  faListUl,\r\n  faTh,\r\n  faGift,\r\n  faUsers,\r\n  faGlobeAmericas,\r\n  faPlusSquare,\r\n  faUserPlus,\r\n  faCircleNotch,\r\n  faExclamation,\r\n  faThumbsUp,\r\n  faThumbsDown,\r\n  faComments,\r\n  faPhone,\r\n  faInfo,\r\n  faVideo,\r\n  faPalette,\r\n  faEdit,\r\n  faShare,\r\n  faCheckSquare,\r\n  faTools,\r\n  faCheckDouble,\r\n  faSmileBeam,\r\n  faPoll,\r\n  faPercentage,\r\n  faIcons,\r\n  faList,\r\n  faUserFriends,\r\n  faExclamationCircle,\r\n  faFolderPlus,\r\n  faTag,\r\n  faAt,\r\n  faFile,\r\n  faCalendar,\r\n  faMapPin,\r\n  faQuestion,\r\n  faLaughBeam,\r\n  faClipboardCheck,\r\n  faCogs,\r\n  faPaintBrush,\r\n  faChartBar,\r\n  faCalendarCheck,\r\n  faTasks,\r\n  faArrowCircleDown,\r\n  faSpinner,\r\n  faUserClock,\r\n  faMicrophone,\r\n  faMicrophoneSlash,\r\n  faCalculator,\r\n  faFlag,\r\n  faLevelUpAlt\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  faFacebook,\r\n  faFacebookSquare,\r\n  faGulp,\r\n  faNodeJs,\r\n  faSass,\r\n  faFacebookF,\r\n  faTwitter,\r\n  faGooglePlusG,\r\n  faLinkedinIn,\r\n  faMediumM,\r\n  faHotjar,\r\n  faYoutube,\r\n  faTrello\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport {\r\n  faHeart as farHeart,\r\n  faLightbulb as farLightbulb,\r\n  faObjectUngroup as farObjectUngroup,\r\n  faPaperPlane as farPaperPlane,\r\n  faStar as farStar,\r\n  faImage as farImage,\r\n  faFileArchive as farFileArchive,\r\n  faFilePdf as farFilePdf,\r\n  faFile as farFile,\r\n  faFileVideo as farFileVideo,\r\n  faFileAudio as farFileAudio,\r\n  faFileImage as farFileImage,\r\n  faFileCode as farFileCode,\r\n  faClock as farClock,\r\n  faQuestionCircle as farQuestionCircle,\r\n  faDizzy as farDizzy,\r\n  faLaughBeam as farLaughBeam,\r\n  faSmileBeam as farSmileBeam,\r\n  faCircle as farCircle,\r\n  faCopy as farCopy,\r\n  faComment as farComment,\r\n  faCalendarCheck as farCalendarCheck\r\n} from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nlibrary.add(\r\n  // Solid\r\n  faDownload,\r\n  faAngleDown,\r\n  faChartPie,\r\n  faUserCheck,\r\n  faUserTimes,\r\n  faToolbox,\r\n  faLandmark,\r\n  faThumbtack,\r\n  faChartLine,\r\n  faCopy,\r\n  faSearch,\r\n  faHome,\r\n  faBell,\r\n  faPlay,\r\n  faChevronRight,\r\n  faChevronLeft,\r\n  faChevronUp,\r\n  faChevronDown,\r\n  faExchangeAlt,\r\n  faAngleRight,\r\n  faEllipsisH,\r\n  faCrown,\r\n  faListAlt,\r\n  faCheck,\r\n  faBan,\r\n  faStream,\r\n  faArrowsAltV,\r\n  faSort,\r\n  faSortAlphaDown,\r\n  faSortAlphaUp,\r\n  faSortNumericDown,\r\n  faSortNumericUp,\r\n  faSortAmountDown,\r\n  faSortAmountUp,\r\n  faCheckCircle,\r\n  faUserCircle,\r\n  faQuestionCircle,\r\n  faLock,\r\n  faCircle,\r\n  faHeart,\r\n  faShareAlt,\r\n  faCaretRight,\r\n  faArrowDown,\r\n  faArrowUp,\r\n  faArrowLeft,\r\n  faArrowRight,\r\n  faPrint,\r\n  faDollarSign,\r\n  faLink,\r\n  faPlus,\r\n  faPlusCircle,\r\n  faMinus,\r\n  faUser,\r\n  faPencilAlt,\r\n  faCamera,\r\n  faTimesCircle,\r\n  faSignInAlt,\r\n  faBook,\r\n  faPuzzlePiece,\r\n  faTrash,\r\n  faAlignLeft,\r\n  faAlignRight,\r\n  faPlug,\r\n  faTimes,\r\n  faFilter,\r\n  faExternalLinkAlt,\r\n  faCartPlus,\r\n  faShoppingCart,\r\n  faStar,\r\n  faStarHalfAlt,\r\n  faArchive,\r\n  faEnvelope,\r\n  faClock,\r\n  faStar,\r\n  faReply,\r\n  faLocationArrow,\r\n  faCog,\r\n  faPaperclip,\r\n  faImage,\r\n  faEllipsisV,\r\n  faEnvelopeOpen,\r\n  faRedo,\r\n  faSlidersH,\r\n  faTrashAlt,\r\n  faFileArchive,\r\n  faFilePdf,\r\n  faFileAlt,\r\n  faFileWord,\r\n  faFileExcel,\r\n  faFileImage,\r\n  faEye,\r\n  faCaretUp,\r\n  faCodeBranch,\r\n  faExclamationTriangle,\r\n  faListUl,\r\n  faTh,\r\n  faGift,\r\n  faUsers,\r\n  faGlobeAmericas,\r\n  faPlusSquare,\r\n  faCaretDown,\r\n  faUserPlus,\r\n  faCircleNotch,\r\n  faExclamation,\r\n  faThumbsUp,\r\n  faComments,\r\n  faPalette,\r\n  faEdit,\r\n  faTrashAlt,\r\n  faShare,\r\n  faCheckSquare,\r\n  faTools,\r\n  faCheckDouble,\r\n  faSmileBeam,\r\n  faPoll,\r\n  faPercentage,\r\n  faIcons,\r\n  faList,\r\n  faUserFriends,\r\n  faExclamationCircle,\r\n  faFolderPlus,\r\n  faTag,\r\n  faAt,\r\n  faFile,\r\n  faCalendar,\r\n  faQuestion,\r\n  faLaughBeam,\r\n  faThumbsDown,\r\n  faClipboardCheck,\r\n  faCogs,\r\n  faChartBar,\r\n  faPaintBrush,\r\n  faCalendarCheck,\r\n  faTasks,\r\n  faArrowCircleDown,\r\n  faSpinner,\r\n  faUserClock,\r\n  faMicrophone,\r\n  faMicrophoneSlash,\r\n  faCalculator,\r\n  faFlag,\r\n  faLevelUpAlt,\r\n  \r\n  // Brand\r\n  faFacebook,\r\n  faFacebookF,\r\n  faFacebookSquare,\r\n  faGulp,\r\n  faNodeJs,\r\n  faSass,\r\n  faTwitter,\r\n  faGooglePlusG,\r\n  faLinkedinIn,\r\n  faMediumM,\r\n  faHotjar,\r\n  faYoutube,\r\n  faVideo,\r\n  faInfo,\r\n  faPhone,\r\n  faTrello,\r\n  faMapPin,\r\n\r\n  \r\n  // Regular\r\n  farHeart,\r\n  farLightbulb,\r\n  farObjectUngroup,\r\n  farPaperPlane,\r\n  farStar,\r\n  farImage,\r\n  farFileArchive,\r\n  farFilePdf,\r\n  farFile,\r\n  farFileVideo,\r\n  farFileAudio,\r\n  farFileImage,\r\n  farFileCode,\r\n  farClock,\r\n  farQuestionCircle,\r\n  farDizzy,\r\n  farLaughBeam,\r\n  farSmileBeam,\r\n  farCircle,\r\n  farCopy,\r\n  farComment,\r\n  farCalendarCheck\r\n);\r\n","// mounting, polyfills, redux store provider, and redux-persist reloading gate\r\n\r\nimport 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { store, persistor } from \"store/storeCreator\";\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\n//import DBConfig from 'store/indexedDb/DBConfig';\r\n\r\nimport './helpers/initFA';\r\n\r\n//initDB(DBConfig);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n  </Provider>\r\n  ,\r\n  document.getElementById('main')\r\n);","import React, { FC } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface Props {\r\n  justify?: \"start\" | \"center\" | \"end\" | \"between\" | \"around\";\r\n  align?: \"start\" | \"center\" | \"end\";\r\n  inline?: boolean;\r\n  column?: boolean;\r\n  wrap?: boolean;\r\n  className?: string;\r\n  tag?: any;\r\n  children?: React.ReactNode;\r\n  id?: string;\r\n  onClick?: (...args: any[]) => void;\r\n}\r\n\r\nconst Flex: FC<Props> = ({\r\n  justify,\r\n  align,\r\n  inline,\r\n  column,\r\n  wrap,\r\n  className,\r\n  tag: Tag = \"div\",\r\n  children,\r\n  id,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Tag\r\n      className={classNames(\r\n        {\r\n          \"d-flex\": !inline,\r\n          \"d-inline-flex\": inline,\r\n          [`justify-content-${justify}`]: justify,\r\n          [`align-items-${align}`]: align,\r\n          \"flex-column\": column,\r\n          \"flex-wrap\": wrap\r\n        },\r\n        className\r\n      )}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Tag>\r\n  );\r\n};\r\n\r\nexport default Flex;\r\n"],"sourceRoot":""}