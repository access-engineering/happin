(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[17],{1194:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(1),n(23)),s=n(846),c=n(403),i=n(365),o=n(3),l=n(40),d=n(799),u=n(73),f=n.n(u),b=n(856),m=n(938),j=n(964),p=n(869),h=function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h6",{className:"mb-1",children:t.task.title}),Object(a.jsx)("p",{className:"fs--1 ml-3 my-0",children:t.description})]})},g=function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h6",{className:"mb-1",children:t.stage.identifier}),Object(a.jsx)("p",{className:"fs--1 ml-3 my-0",children:t.stage.title})]})},O=function(e){return Object(a.jsx)(d.a,{className:"fs--2",pill:!0,color:"soft-"+p.a[e],children:e})},v=function(){var e=Object(j.a)(),t=e.value,n=(Object(l.a)(e,["value"]),Object(r.g)()),s=(null===t||void 0===t?void 0:t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{status:e.status[e.status.length-1]})})).sort(m.a))||[],c=[{dataField:"task.title",text:"Task",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:h,sort:!0,search:function(e){return e.task.title+" "+e.description}},{dataField:"stage.identifier",text:"Stage",headerClasses:"border-0 d-none d-lg-table-cell",classes:"border-0 py-2 align-middle d-none d-lg-table-cell",formatter:g,sort:!0,search:function(e){return e.stage.title+" "+e.stage.identifier}},{dataField:"dueDate",text:"Due Date",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:function(e){return e&&f()(e).format("MM/DD/YYYY")},sort:!0},{dataField:"status.title",text:"Status",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:O,sort:!0,search:!0}];return Object(a.jsx)(b.a,{title:"Assignments",paginationOptions:{sizePerPage:5},columns:c,data:s,search:!0,onSelectRow:function(e){var t;return(null===(t=e.stage)||void 0===t?void 0:t._id)&&e.stage.workflowId&&e.task._id&&n.push("/workflows/".concat(e.stage.workflowId,"/stage/").concat(e.stage._id,"/task/").concat(e.task._id))}})},x=function(){return Object(a.jsxs)(c.a,{children:[Object(a.jsx)(i.a,{xl:!0,children:Object(a.jsx)(v,{})}),Object(a.jsx)(i.a,{xl:!0})]})};t.default=function(e){var t=e.match.url;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t,"/dashboard-alt"),exact:!0,component:s.a}),Object(a.jsx)(r.b,{path:"".concat(t,"/feed"),exact:!0,component:s.a}),Object(a.jsx)(r.b,{path:"".concat(t),component:x})]})}},818:function(e,t,n){"use strict";var a=n(3),r=n(40),s=n(2),c=(n(1),n(7)),i=n.n(c),o=n(276),l=n(45);t.a=function(e){var t=e.icon,n=e.iconAlign,c=void 0===n?"left":n,d=e.iconClassName,u=e.transform,f=e.children,b=Object(r.a)(e,["icon","iconAlign","iconClassName","transform","children"]);return Object(s.jsxs)(o.a,Object(a.a)(Object(a.a)({},b),{},{children:["right"===c&&f,Object(s.jsx)(l.a,{icon:t,className:i()(d,{"mr-1":f&&"left"===c,"ml-1":f&&"right"===c}),transform:u}),"left"===c&&f]}))}},821:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],r=new Uint8Array(n.length),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return new Blob([r],{type:a})}},834:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return j}));var a=n(18),r=n.n(a),s=n(74),c=n(46),i=n(3),o=n(821),l=n(106),d=n(266).b;d.create=function(e,t){return{actions:[{name:"addTask",data:Object(i.a)(Object(i.a)({},e),{},{milestoneId:t})}]}};var u=function(e){return{actions:[{name:"updateTask",data:e}]}};d.update=u;var f=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i,d,u,f,b,m,j,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object(s.a)(t),e.prev=2,c.s();case 4:if((i=c.n()).done){e.next=12;break}return u=i.value,e.next=8,Object(l.a)(Object(o.a)(u.base64),"document",u.path);case 8:(null===(f=e.sent)||void 0===f?void 0:f.success)&&(null===(d=f.files)||void 0===d?void 0:d.document)&&a.push({location:null===(b=f.files)||void 0===b?void 0:b.document.name,thumb:(null===(m=f.files)||void 0===m?void 0:m.document.thumb)?{location:null===(j=f.files)||void 0===j?void 0:j.document.thumb}:void 0,title:u.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return p=[{name:"addTaskDocuments",data:{documents:a,taskId:n}}],e.abrupt("return",{actions:p});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();d.addTaskDocuments=f;var b=function(e,t,n,a,r){return{actions:[{name:"createAssignment",data:{taskId:e,assignment:{assignees:t,description:n,assignedHours:a,dueDate:r}}}]}};d.createAssignment=b;var m=function(e,t){return{actions:[{name:"updateAssignment",data:Object(i.a)({assignmentId:e},t)}]}};d.updateAssignment=m;var j=function(e){return{actions:[{name:"getPersonAssignments",data:{personId:e}}]}};d.getPersonAssignments=j;d.reorderAssignments=function(e){return{actions:e.map((function(e){return{name:"reorderAssignment",data:e}}))}}},839:function(e,t,n){"use strict";t.a=function(e){if(!e)return/./;var t=e.split(" ").map((function(e){return"(?=.*"+e.trim()+")"})).join("");return new RegExp(t,"i")}},846:function(e,t,n){"use strict";var a=n(2),r=(n(1),n(45)),s=n(30),c=n(797),i=n(798);t.a=function(){return Object(a.jsx)(c.a,{className:"text-center",children:Object(a.jsxs)(i.a,{className:"p-5",children:[Object(a.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(a.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(a.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(a.jsxs)(s.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(a.jsx)(r.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},856:function(e,t,n){"use strict";var a=n(3),r=n(74),s=n(26),c=n(40),i=n(2),o=n(1),l=n(797),d=n(407),u=n(798),f=n(45),b=n(68),m=n(852),j=n.n(m),p=n(868),h=n.n(p),g=n(887),O=n.n(g),v=n(403),x=n(365),k=n(276),w=function(){return Object(i.jsx)(l.a,{children:Object(i.jsx)(u.a,{children:"No Data Available"})})},C=function(e){var t=e.paginationOptions,n=e.csvExportRef,r=e.data,s=e.columns,o=e.classes,l=void 0===o?"table-dashboard table-striped table-sm fs--1 border-bottom border-200 mb-0 table-dashboard-th-nowrap":o,d=e.rowClasses,u=void 0===d?"btn-reveal-trigger border-top border-200":d,m=e.headerClasses,g=void 0===m?"bg-200 text-900 border-y border-200":m,C=e.bordered,y=void 0!==C&&C,N=e.exportCSV,S=(e.keyField,e.hover),P=void 0===S||S,D=e.noDataIndication,z=void 0===D?w:D,I=e.tabIndexCell,A=void 0===I||I,F=e.defaultSortDirection,R=void 0===F?"asc":F,T=e.rowStyle,E=e.onSelectRow,_=Object(c.a)(e,["paginationOptions","csvExportRef","data","columns","classes","rowClasses","headerClasses","bordered","exportCSV","keyField","hover","noDataIndication","tabIndexCell","defaultSortDirection","rowStyle","onSelectRow"]),W=function(e){var n=e.page,a=e.onPageChange;return function(){a&&a(n+1,t.sizePerPage)}},Y=function(e){var n=e.page,a=e.onPageChange;return function(){a&&a(n-1,t.sizePerPage)}};return Object(i.jsx)(p.PaginationProvider,{pagination:h()(t),children:function(e){var t=e.paginationProps,c=e.paginationTableProps,o=t.page*t.sizePerPage;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"table-responsive",children:Object(i.jsx)(O.a,{keyField:"_id",data:r,columns:s,bootstrap4:!0,exportCSV:N,children:function(e){var t=e.baseProps,r=e.csvProps;return n&&(n.current=r),Object(i.jsx)(j.a,Object(a.a)(Object(a.a)(Object(a.a)({bordered:y,classes:l,rowClasses:u,headerClasses:g,hover:P,noDataIndication:z,tabIndexCell:A,defaultSortDirection:R,rowStyle:Object(a.a)({cursor:"pointer"},T),selectRow:E&&{mode:"radio",clickToSelect:!0,hideSelectColumn:!0,classes:"bg-soft-primary",onSelect:E}},_),t),c))}})}),Object(i.jsx)(v.a,{noGutters:!0,className:"px-1 py-3 flex-center",children:Object(i.jsxs)(x.a,{xs:"auto",children:[Object(i.jsx)(k.a,{color:"falcon-default",size:"sm",onClick:Y(t),disabled:1===t.page,children:Object(i.jsx)(f.a,{icon:"chevron-left"})}),Object(b.d)(t.totalSize,t.sizePerPage).map((function(e){return Object(i.jsx)(k.a,{color:t.page===e?"falcon-primary":"falcon-default",size:"sm",className:"ml-2",onClick:function(){return t.onPageChange(e,t.sizePerPage)},children:e},e)})),Object(i.jsx)(k.a,{color:"falcon-default",size:"sm",className:"ml-2",onClick:W(t),disabled:o>=t.totalSize,children:Object(i.jsx)(f.a,{icon:"chevron-right"})})]})})]})}})},y=n(259),N=n(818),S=n(271),P=n(839);t.a=function(e){var t=e.title,n=e.cardClass,f=e.handleNew,b=e.handleFilter,m=e.handleExport,j=e.filterContent,p=e.csvExportRef,h=e.search,g=e.componentSize,O=void 0===g?"sm":g,v=e.data,x=e.columns,k=e.paginationOptions,w=e.onSearchText,D=Object(c.a)(e,["title","cardClass","handleNew","handleFilter","handleExport","filterContent","csvExportRef","search","componentSize","data","columns","paginationOptions","onSearchText"]),z=!1===m?void 0:m||p&&function(){var e;console.log(p.current),null===(e=p.current)||void 0===e||e.onExport()},I=Object(o.useState)(""),A=Object(s.a)(I,2),F=A[0],R=A[1];Object(o.useEffect)((function(){return w&&w(F)}),[F]);var T=Object(P.a)(F),E=F?v.filter((function(e){return x.map((function(t){if(t.search){if(!0!==t.search)return t.search(e);var n,a=t.dataField.split("."),s=e,c=Object(r.a)(a);try{for(c.s();!(n=c.n()).done;){var i=n.value;s="object"===typeof s?s[i]:void 0}}catch(o){c.e(o)}finally{c.f()}if(s)return s}})).filter((function(e){return e})).join(" ").match(T)})):v;return Object(i.jsxs)(l.a,{className:n,children:[Object(i.jsx)(y.a,{title:t,light:!1,children:Object(i.jsxs)(d.a,{inline:!0,children:[h&&Object(i.jsx)(S.a,{bsSize:"md"===O?void 0:O,value:F,onChange:function(e){return R(e.target.value)}}),f&&Object(i.jsx)(N.a,{icon:"plus",transform:"shrink-3 down-2",color:"falcon-default",size:O,className:"ml-2",onClick:f,children:"New"}),b&&Object(i.jsx)(N.a,{icon:"filter",transform:"shrink-3 down-2",color:"falcon-default",size:O,className:"ml-2",onClick:b,children:"Filter"}),z&&Object(i.jsx)(N.a,{icon:"external-link-alt",transform:"shrink-3 down-2",color:"falcon-default",size:O,className:"ml-2",onClick:z,children:"Export"})]})}),Object(i.jsxs)(u.a,{className:"p-0",children:[j,Object(i.jsx)(C,Object(a.a)({csvExportRef:p,columns:x,data:E,paginationOptions:Object(a.a)(Object(a.a)({},k),{},{custom:!0,totalSize:E.length||1})},D))]})]})}},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"Not Started":"secondary","In Progress":"primary",Complete:"success","Running Late":"warning","Having Trouble":"warning",Waiting:"info","Past Due":"danger"}},938:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return e.complete?t.complete&&e.dueDate>t.dueDate?-1:1:t.complete?-1:e.dueDate>t.dueDate?1:-1}},964:function(e,t,n){"use strict";var a=n(12),r=n(3),s=n(105),c=n(834),i=n(144);var o=function(e){return Object(i.a)({actionCreator:c.c,selector:function(t){return Object.values(t.workflow.tasks).filter((function(e){return e.isMyAssignment})).reduce((function(t,n){return[].concat(Object(s.a)(t),Object(s.a)(n.assignments.filter((function(t){return t.assignees.find((function(t){return t.personId===e}))})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{task:{_id:n._id,title:n.title},stage:n.stage})}))))}),[])},equality:a.d,postParams:e,deduplicate:["assignments",e]})};t.a=function(){var e=Object(a.f)((function(e){return e.app.login.personId}));return o(e||"")}}}]);
//# sourceMappingURL=17.ffde694e.chunk.js.map