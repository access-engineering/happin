(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[14],{1167:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),r=n(23),c=n(842),s=n(18),o=n.n(s),l=n(46),d=n(105),u=n(3),j=n(40),m=n(26),b=n(403),v=n(365),f=n(797),O=n(798),h=n(809),x=n(12),p=n(94),g=n.n(p),y=n(45),w=n(84),k=n(907),S=n(259),D=n(941),T=n(32),C=n(856),N=function(e){var t=e.personId,n=e.className,i=Object(D.a)(t),r=i.value,c=(Object(j.a)(i,["value"]),Object(C.a)()),s=c.value;Object(j.a)(c,["value"]);return Object(a.jsxs)(f.a,{className:n,children:[Object(a.jsx)(S.a,{title:"Accruals"}),Object(a.jsx)(O.a,{children:(r&&4===r.length?Object(T.chunk)(r,2):Object(T.chunk)(r,3)).map((function(e,t){return Object(a.jsx)(b.a,{noGutters:!0,children:e.map((function(e,t){var n=e.accruals&&e.accruals.length>0&&e.accruals[e.accruals.length-1],i=(n&&n.value||0)-(e.newChargedHours||0),r=null===s||void 0===s?void 0:s.find((function(t){return t.timeCodes.find((function(t){return t._id===e.timeCodeId}))}));return Object(a.jsx)(v.a,{sm:!0,xl:12,children:Object(a.jsx)(k.a,{info:i,label:"".concat(e.title||(null===r||void 0===r?void 0:r.title)||"No Description"," ").concat(e.unit.charAt(0).toUpperCase()+e.unit.slice(1)).concat(1===i?"":"s")})},t)}))},t)}))})]})},M=n(879),I=n(962),Y=n(983),E=n(799),A=n(805),V=n(928),F=n(985),P=n(276),_=n(857),q=n.n(_),R=n(73),L=n(900),B=n(878),H=n(813),W=n(816),z=n(825),G=n(858),U=n(258),$=n(822),J=n(821),Z="YYYY-MM-DDTHH:mm",K=function(e){var t,n,r=e.selectedPersonId,c=e.startDate,s=e.endDate,u=e.setIsOpen,f=e.isOpen,O=e.event,h=Object(U.a)($.f),x=Object(U.a)(J.d),p=Object(U.a)(J.s),k=Object(i.useState)(),S=Object(m.a)(k,2),D=S[0],T=S[1],N=Object(i.useState)(),M=Object(m.a)(N,2),E=M[0],A=M[1],F=Object(i.useState)(void 0),_=Object(m.a)(F,2),q=_[0],K=_[1],Q=Object(i.useState)([]),X=Object(m.a)(Q,2),ee=X[0],te=X[1],ne=Object(i.useState)(void 0),ae=Object(m.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(i.useState)(void 0),se=Object(m.a)(ce,2),oe=se[0],le=se[1],de=Object(i.useState)(void 0),ue=Object(m.a)(de,2),je=ue[0],me=ue[1],be=Object(i.useState)(void 0),ve=Object(m.a)(be,2),fe=ve[0],Oe=ve[1],he=Object(i.useState)(void 0),xe=Object(m.a)(he,2),pe=xe[0],ge=xe[1],ye=Object(i.useState)(""),we=Object(m.a)(ye,2),ke=we[0],Se=we[1],De=Object(i.useState)(null),Te=Object(m.a)(De,2),Ce=Te[0],Ne=Te[1],Me=Object(C.a)(),Ie=Me.value,Ye=Object(j.a)(Me,["value"]);function Ee(){return(Ee=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post(r,!1);case 2:(null===(t=e.sent)||void 0===t?void 0:t.success)&&Ne(t.records[0].stageData);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(i.useEffect)((function(){c&&T(c)}),[c]),Object(i.useEffect)((function(){s&&A(s)}),[s]),Object(i.useEffect)((function(){r&&function(){Ee.apply(this,arguments)}()}),[r]);var Ae=fe&&(null===Ce||void 0===Ce?void 0:Ce.find((function(e){return e._id===fe.value}))),Ve=pe&&(null===Ae||void 0===Ae||null===(t=Ae.milestones)||void 0===t?void 0:t.find((function(e){return e._id===pe.value}))),Fe=null===Ve||void 0===Ve?void 0:Ve.tasks.map((function(e){return null===Ae||void 0===Ae?void 0:Ae.tasks.find((function(t){return t._id===e}))})).filter((function(e){return!!e})).map((function(e){return{value:e._id,label:e.title}}));var Pe=!D||!g()(D).isValid()||E&&!g()(D).isBefore(E),_e=!E||!g()(E).isValid()||D&&!g()(E).isAfter(D),qe=r&&D&&E&&oe&&oe.value&&g()(D).isValid()&&g()(E).isValid();function Re(){return(Re=Object(l.a)(o.a.mark((function e(){var t,n,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe){e.next=3;break}return w.c.error("Entry is invalid"),e.abrupt("return");case 3:if(!(null===O||void 0===O?void 0:O._id)){e.next=11;break}return t={startTime:g()(D).toISOString(),endTime:g()(E).toISOString(),timeCodeId:oe.value,comments:ke||void 0,taskId:null===je||void 0===je?void 0:je.value,assignmentId:null===q||void 0===q?void 0:q.value},e.next=7,p.post(O._id,t);case 7:(null===(n=e.sent)||void 0===n?void 0:n.success)?(w.c.success("Added time entry"),u(!1),T(""),A(""),Se("")):w.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong"),e.next=16;break;case 11:return a={personId:r,startTime:g()(D).toISOString(),endTime:g()(E).toISOString(),timeCodeId:oe.value,comments:ke||void 0,taskId:null===je||void 0===je?void 0:je.value,assignmentId:null===q||void 0===q?void 0:q.value},e.next=14,x.post(a);case 14:(null===(i=e.sent)||void 0===i?void 0:i.success)?(w.c.success("Added time entry"),u(!1),T(""),A(""),Se("")):w.c.error((null===i||void 0===i?void 0:i.error)||"Something went wrong");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(Ce){var e,t=[],n=Object(R.a)(Ce);try{for(n.s();!(e=n.n()).done;){var a,i=e.value,r=Object(R.a)(i.tasks);try{for(r.s();!(a=r.n()).done;){var c,s=a.value,o=Object(R.a)(s.assignments);try{for(o.s();!(c=o.n()).done;){var l=c.value;t.push({taskId:s._id,stageId:i._id,value:l._id,label:"".concat(s.title," (").concat(l.assignedHours," hr").concat(1===l.assignedHours?"":"s",")")})}}catch(f){o.e(f)}finally{o.f()}}}catch(f){r.e(f)}finally{r.f()}}}catch(f){n.e(f)}finally{n.f()}if(te(t),O){var d,u=O.assignment?{taskId:O.taskId,stageId:O.stageId,value:O.assignment._id,label:"".concat(O.taskTitle," (").concat(O.assignment.assignedHours," ").concat(Object(G.a)("hr",O.assignment.assignedHours),")")}:void 0;K(u);var j=null===Ce||void 0===Ce?void 0:Ce.find((function(e){return e._id===O.stageId})),m=null===j||void 0===j||null===(d=j.milestones)||void 0===d?void 0:d.find((function(e){return!!(null===j||void 0===j?void 0:j.milestones.find((function(e){return e.tasks.includes(O.taskId)})))})),b=null===j||void 0===j?void 0:j.tasks.find((function(e){return e._id===O.taskId})),v=b?{value:b._id,label:b.title}:void 0;Oe(j?{value:j._id,label:"".concat(j.type,": ").concat(j.identifier," - ").concat(j.title)}:void 0),ge(m?{value:m._id,label:m.title}:void 0),me(v)}}else te([])}),[Ce,O]),Object(i.useEffect)((function(){if(Ie&&O){var e=Ie.find((function(e){return e._id===O.timeTypeId}));re(e?{value:e._id,label:e.title,isWorkflow:e.isWorkflow,color:e.eventColor}:void 0);var t=null===e||void 0===e?void 0:e.timeCodes.find((function(e){return e._id===O.timeCodeId}));le(t?{value:t._id,label:t.title,bankable:t.bankable}:void 0),Se((null===O||void 0===O?void 0:O.comments)||"")}}),[O].concat(Object(d.a)(Ie||[]))),Object(a.jsxs)(I.a,{size:"lg",isOpen:f,toggle:function(){return u((function(e){return!e}))},children:[Object(a.jsx)(Y.a,{className:"bg-light border-bottom-0",children:"New Time Entry"}),Object(a.jsxs)(V.a,{children:[Object(a.jsxs)(b.a,{children:[Object(a.jsx)(v.a,{lg:!0,children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(B.a,{for:"new-time-entry-start-time",children:"Start Time"}),Object(a.jsx)(z.a,{buttonColor:"info",onChange:function(e){T(e),function(e){var t=g()(e);if(t.isValid()){var n=g()(E);E&&n.isValid()&&!n.isBefore(t)||A(t.add(1,"hour").format(Z))}else console.log("invalid",e)}(e)},value:D,invalid:Pe,pickerProps:{isValidDate:function(e){return!E||!!(null===e||void 0===e?void 0:e.isBefore(E))},timeConstraints:{minutes:{step:5}}}})]})}),Object(a.jsx)(v.a,{lg:!0,children:Object(a.jsxs)(L.a,{children:[Object(a.jsx)(B.a,{for:"new-time-entry-end-time",children:"End Time"}),Object(a.jsx)(z.a,{buttonColor:"info",onChange:function(e){A(e),function(e){console.log("synchronize from end");var t=g()(e);if(t.isValid()){var n=g()(D);D&&n.isValid()&&!t.isBefore(n)||T(t.subtract(1,"hour").format(Z))}else console.log("invalid",e)}(e)},value:E,invalid:_e,pickerProps:{isValidDate:function(e){return!D||!!(null===e||void 0===e?void 0:e.isAfter(D))},timeConstraints:{minutes:{step:5}}}})]})})]}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(v.a,{lg:!0,children:Object(a.jsx)(W.a,{id:"new-time-type",label:"Category",placeholder:"Select time category...",value:ie,options:null===Ie||void 0===Ie?void 0:Ie.map((function(e){return{value:e._id,label:e.title,color:e.eventColor,isWorkflow:e.isWorkflow}})),formatOptionLabel:function(e){return Object(a.jsx)("div",{className:"badge-".concat(e.color," p-2 rounded w-100"),children:e.label})},onChange:function(e){re(e),le(null)},isLoading:Ye.loading,isClearable:!0})}),Object(a.jsx)(v.a,{lg:!0,children:Object(a.jsx)(W.a,{id:"new-time-code",label:"Time Code",placeholder:"Select time code...",value:oe,options:null===Ie||void 0===Ie||null===(n=Ie.find((function(e){return e._id===(null===ie||void 0===ie?void 0:ie.value)})))||void 0===n?void 0:n.timeCodes.map((function(e){return{value:e._id,label:e.title,bankable:e.bankable}})),formatOptionLabel:function(e){return Object(a.jsxs)(a.Fragment,{children:[e.bankable&&Object(a.jsx)(y.a,{icon:"archive",className:"text-success"}),e.label]})},onChange:le,isLoading:Ye.loading,isClearable:!0})})]}),(null===ie||void 0===ie?void 0:ie.isWorkflow)&&Object(a.jsxs)("div",{className:"mx-2 px-3 border border-top-0 border-bottom-0",children:[Object(a.jsx)(W.a,{id:"new-time-entry-assignment",label:"Assignment",placeholder:"Select from assignments...",value:q,options:ee,onChange:function(e){var t=e;if(K(t),t){var n=null===Ce||void 0===Ce?void 0:Ce.find((function(e){return e._id===t.stageId}));Oe(n?{value:n._id,label:"".concat(n.type,": ").concat(n.identifier," - ").concat(n.title)}:void 0);var a=null===n||void 0===n?void 0:n.milestones.find((function(e){return e.tasks.includes(t.taskId)}));ge(a?{value:a._id,label:a.title}:void 0);var i=null===n||void 0===n?void 0:n.tasks.find((function(e){return e._id===t.taskId}));me(i?{value:i._id,label:i.title}:void 0)}},isLoading:h.loading,isClearable:!0}),Object(a.jsx)(W.a,{id:"new-time-entry-stage",label:"Stage",placeholder:"Select workflow stage...",value:fe,options:null===Ce||void 0===Ce?void 0:Ce.map((function(e){return{value:e._id,label:"".concat(e.type,": ").concat(e.identifier," - ").concat(e.title)}})),onChange:function(e){Oe(e),ge(void 0),me(void 0),K(void 0)},isLoading:h.loading,isClearable:!0}),Object(a.jsx)(W.a,{id:"new-time-entry-milestone",label:"Milestone",placeholder:"Select milestone...",value:pe,options:null===Ae||void 0===Ae?void 0:Ae.milestones.map((function(e){return{value:e._id,label:e.title}})),onChange:function(e){ge(e),me(void 0),K(void 0)},isLoading:h.loading,isClearable:!0}),Object(a.jsx)(W.a,{id:"new-time-entry-task",label:"Task",placeholder:"Select task...",value:je,options:Fe,onChange:function(e){me(e),K(void 0)},isLoading:h.loading,isClearable:!0})]}),Object(a.jsx)(H.a,{id:"new-entry-comments",label:"Comments",type:"textarea",rows:3,value:ke,onChange:function(e){return Se(e.target.value)}}),Object(a.jsx)(b.a,{children:Object(a.jsx)(v.a,{xs:"auto",className:"ml-auto",children:Object(a.jsx)(P.a,{color:"primary",disabled:!qe,onClick:function(){return Re.apply(this,arguments)},children:"Submit"})})})]})]})},Q=n(95),X=function(e){var t,n=e.isOpen,r=e.setIsOpen,c=e.initialStartDate,s=void 0===c?"":c,d=e.initialEndDate,j=void 0===d?"":d,f=e.event,O=Object(U.a)(J.e),x=Object(U.a)(J.t),p=Object(C.a)().value,g=Object(i.useState)(),y=Object(m.a)(g,2),k=y[0],S=y[1],D=Object(i.useState)(),T=Object(m.a)(D,2),N=T[0],M=T[1],E=Object(i.useState)(),A=Object(m.a)(E,2),_=A[0],q=A[1],R=Object(i.useState)(!1),G=Object(m.a)(R,2),$=G[0],Z=G[1],K=Object(i.useState)(),X=Object(m.a)(K,2),ee=X[0],te=X[1],ne=Object(i.useState)(),ae=Object(m.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(i.useState)(),se=Object(m.a)(ce,2),oe=se[0],le=se[1],de=Object(a.jsx)("button",{className:"close font-weight-normal",onClick:ue,children:"\xd7"});function ue(){r(!1),M(void 0),S(void 0)}function je(){return(je=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===f||void 0===f?void 0:f._id)){e.next=7;break}return e.next=3,x.post(f._id,{startDate:N,endDate:k,title:_,allDay:$,description:ee,absentHours:ie,timeCodeId:oe});case 3:(null===(t=e.sent)||void 0===t?void 0:t.success)?(w.c.success("Updated time off request"),ue()):w.c.error((null===t||void 0===t?void 0:t.error)||"Something went wrong"),e.next=11;break;case 7:return e.next=9,O.post({startDate:N,endDate:k,title:_,allDay:$,description:ee,timeCodeId:oe,absentHours:ie});case 9:(null===(n=e.sent)||void 0===n?void 0:n.success)?(w.c.success("Submitted time off request"),ue()):w.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(i.useEffect)((function(){f&&(q(f.title),Z(!!f.allDay),te(f.description),re(f.absentHours),le(f.timeCodeId))}),[f]),Object(i.useEffect)((function(){M(s)}),[s]),Object(i.useEffect)((function(){S(j)}),[j]);var me=null===p||void 0===p?void 0:p.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{label:e.title,options:e.timeCodes.filter((function(e){return e.bankable})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{label:e.title,value:e._id})}))})})).filter((function(e){return e.options.length>0}));return Object(a.jsxs)(I.a,{isOpen:n,toggle:ue,modalClassName:"theme-modal",contentClassName:"border",children:[Object(a.jsx)(Y.a,{toggle:ue,className:"bg-light d-flex flex-between-center border-bottom-0",close:de,children:"New Leave Request"}),Object(a.jsxs)(V.a,{children:[Object(a.jsx)(H.a,{id:"new-time-off-title",label:"Title",placeholder:"Title...",name:"title",required:!0,value:_,onChange:function(e){return q(e.target.value)}}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(B.a,{className:"fs-0",for:"new-time-off-start",children:"Start Date"}),Object(a.jsx)(z.a,{id:"new-time-off-start",value:N,onChange:function(e){return M(e)},dateFormat:"MM/DD/YYYY",timeFormat:!$&&void 0,pickerProps:{isValidDate:k?function(e){return!!(null===e||void 0===e?void 0:e.isBefore(k))}:void 0},placeholder:$?"MM/DD/YYYY":"MM/DD/YYYY h:mm AM/PM"})]}),Object(a.jsxs)(L.a,{children:[Object(a.jsx)(B.a,{className:"fs-0",for:"new-time-off-end",children:"End Date"}),Object(a.jsx)(z.a,{id:"new-time-off-end",value:k,onChange:function(e){return S(e)},dateFormat:"MM/DD/YYYY",timeFormat:!$&&void 0,pickerProps:{isValidDate:N?function(e){return!!(null===e||void 0===e?void 0:e.isAfter(N))}:void 0},placeholder:$?"MM/DD/YYYY":"MM/DD/YYYY h:mm AM/PM"})]}),Object(a.jsx)(L.a,{children:Object(a.jsx)(h.a,{name:"new-time-off-all-day",type:"checkbox",id:"allDay",label:"All Day",checked:$,onChange:function(e){return Z(!!e.target.checked)}})}),Object(a.jsx)(H.a,{id:"new-time-off-description",label:"Description",type:"textarea",name:"description",value:ee,onChange:function(e){return te(e.target.value)}}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(v.a,{md:!0,children:Object(a.jsx)(H.a,{id:"new-time-off-hours",type:"number",label:"Absent Hours",name:"hours",value:ie,onChange:function(e){if(!isNaN(+e.target.value))return re(+e.target.value);e.target.value||0===+e.target.value||re(void 0)}})}),Object(a.jsx)(v.a,{md:!0,children:Object(a.jsx)(W.a,{id:"new-time-off-label",label:"Type",name:"type",value:null===me||void 0===me||null===(t=me.find((function(e){return e.options.find((function(e){return e.value===oe}))})))||void 0===t?void 0:t.options.find((function(e){return e.value===oe})),formatGroupLabel:function(e){return Object(a.jsx)("div",{className:"p-2 badge-".concat(e.eventColor," rounded"),children:e.label})},options:me,onChange:function(e){return le(null===e||void 0===e?void 0:e.value)}})})]})]}),Object(a.jsx)(F.a,{tag:Q.a,justify:"end",align:"center",className:"bg-light border-top-0",children:Object(a.jsx)(P.a,{color:"primary",onClick:function(){return je.apply(this,arguments)},className:"px-4",children:"Save"})})]})},ee=function(e){var t=e.icon,n=e.transform;return Object(a.jsxs)("span",{className:"fa-stack ml-n1 mr-3",children:[Object(a.jsx)(y.a,{icon:"circle",className:"text-200 fa-stack-2x"}),Object(a.jsx)(y.a,{icon:t,transform:null!==n&&void 0!==n?n:"",className:"text-primary fa-stack-1x",inverse:!0})]})},te=function(e){var t=e.icon,n=e.heading,i=e.content,r=e.children;return Object(a.jsxs)(M.a,{className:"mt-3",children:[Object(a.jsx)(ee,{icon:t}),Object(a.jsx)(M.a,{body:!0,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h6",{children:n}),r||Object(a.jsx)("p",{className:"mb-0 text-justify",children:i})]})})]})},ne=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.event,c=e.personId,s=function(){return n(!t)},d=Object(x.e)(),j=Object(U.a)(J.h),f=Object(U.a)(J.i),O=Object(U.a)(J.a),h=Object(U.a)(J.o),p=Object(i.useState)(!1),k=Object(m.a)(p,2),S=k[0],D=k[1],T=Object(i.useState)(""),C=Object(m.a)(T,2),N=C[0],M=C[1],_=Object(i.useState)(!1),R=Object(m.a)(_,2),L=R[0],B=R[1],W=Object(i.useRef)(),z=r._id,$=r.title,Z=r.end,ee=r.start,ne=r.allDay,ae=r.description,ie=r.comments,re=r.stageIdentifier,ce=r.stageTitle,se=r.milestoneTitle,oe=r.taskTitle,le=r.badge,de=r.assignment,ue=r.approved,je=r.declined,me=r.declinedReason,be=r.entryType,ve=Object(a.jsx)("button",{className:"close font-weight-normal",onClick:s,children:"\xd7"}),fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){D(!0),W.current=e}));case 2:t=e.sent,e.t0=be,e.next="time"===e.t0?6:"timeOff"===e.t0?12:18;break;case 6:return e.next=8,h.post(z,!1,t);case 8:return(null===(a=e.sent)||void 0===a?void 0:a.success)&&(n(!1),w.c.success("Timesheet request declined")),(null===a||void 0===a?void 0:a.success)||w.c.error((null===a||void 0===a?void 0:a.error)||"something went wrong"),e.abrupt("break",18);case 12:return e.next=14,O.post(z,!1,t);case 14:return(null===(i=e.sent)||void 0===i?void 0:i.success)&&(n(!1),w.c.success("Time Off request declined")),(null===i||void 0===i?void 0:i.success)||w.c.error((null===i||void 0===i?void 0:i.error)||"something went wrong"),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=be,e.next="time"===e.t0?3:"timeOff"===e.t0?9:15;break;case 3:return e.next=5,h.post(z,!0);case 5:return(null===(t=e.sent)||void 0===t?void 0:t.success)&&(n(!1),w.c.success("Timesheet request accepted")),(null===t||void 0===t?void 0:t.success)||w.c.error((null===t||void 0===t?void 0:t.error)||"something went wrong"),e.abrupt("break",15);case 9:return e.next=11,O.post(z,!0);case 11:return(null===(a=e.sent)||void 0===a?void 0:a.success)&&(n(!1),w.c.success("Time off request accepted")),(null===a||void 0===a?void 0:a.success)||w.c.error((null===a||void 0===a?void 0:a.error)||"something went wrong"),e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q()({message:"Are you sure you want to delete this entry?",confirmColor:"danger",confirmText:"Delete",cancelColor:"secondary",cancelText:"Keep"});case 2:if(!e.sent){e.next=17;break}e.t0=be,e.next="time"===e.t0?7:"timeOff"===e.t0?12:17;break;case 7:return e.next=9,j.post(z);case 9:return(null===(t=e.sent)||void 0===t?void 0:t.success)?(d(J.p.remove(z)),w.c.success("Deleted request"),n(!1)):w.c.error((null===t||void 0===t?void 0:t.error)||"Something went wrong"),e.abrupt("break",17);case 12:return e.next=14,f.post(z);case 14:return(null===(a=e.sent)||void 0===a?void 0:a.success)?(d(J.q.remove(z)),w.c.success("Deleted request"),n(!1)):w.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong"),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(I.a,{isOpen:t,size:"md",toggle:s,modalClassName:"theme-modal",contentClassName:"border",centered:!0,children:[Object(a.jsxs)(Y.a,{toggle:s,tag:"div",className:"px-card bg-light border-0 flex-between-center",close:ve,children:[Object(a.jsx)("h5",{className:"mb-1",children:$}),Object(a.jsxs)(Q.a,{align:"center",children:[le&&Object(a.jsx)("h5",{className:"mb-0",children:Object(a.jsx)(E.a,{color:le.color,children:le.label})}),ue?Object(a.jsxs)("h6",{className:"mb-0",children:[Object(a.jsx)(y.a,{className:"text-success ml-3 mr-1",icon:"check-circle"}),"Approved"]}):je?Object(a.jsxs)("h6",{className:"mb-0",style:{cursor:"default"},id:"declined-request",children:[Object(a.jsx)(y.a,{className:"text-danger ml-3 mr-1",icon:"times-circle"}),"Declined",Object(a.jsx)(A.a,{placement:"bottom",target:"declined-request",children:me})]}):Object(a.jsxs)("h6",{className:"mb-0",children:[Object(a.jsx)(y.a,{className:"text-info ml-3 mr-1",icon:"user-clock"}),"Pending"]})]})]}),Object(a.jsxs)(V.a,{className:"px-card pb-card pt-1 fs--1",children:[ae&&Object(a.jsx)(te,{icon:"align-left",heading:"Description",content:ae}),ie&&Object(a.jsx)(te,{icon:"align-left",heading:"Comments",content:ie}),ee&&Object(a.jsx)(te,{icon:"calendar-check",heading:"Time and Date",children:Object(a.jsx)("p",{className:"mb-2",children:ne?!Z||g()(ee).isSame(Z,"day")?g()(ee).format("MMMM D, YYYY"):g()(ee).isSame(Z,"year")?g()(ee).isSame(Z,"month")?g()(ee).format("MMMM D")+" - "+g()(Z).format("D, YYYY"):g()(ee).format("MMMM D")+" - "+g()(Z).format("MMMM D, YYYY"):g()(ee).format("MMMM D, YYYY")+" - "+g()(Z).format("MMMM D, YYYY"):Z?g()(ee).isSame(Z,"day")?"".concat(g()(ee).format("MMMM D, YYYY h:mm A")," - ").concat(g()(Z).format("h:mm A")):g()(ee).format("MMMM D, YYYY h:mm A")+" - "+g()(Z).format("MMMM D, YYYY h:mm A"):"".concat(g()(ee).format("MMMM D, YYYY h:mm A"))})}),Object(a.jsx)("hr",{}),(oe||ce)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Q.a,{column:!0,justify:"center",children:[Object(a.jsx)("h4",{className:"font-weight-bold my-1 mr-1 text-center",children:Object(a.jsxs)(E.a,{color:"soft-info",children:[re,": ",ce]})}),Object(a.jsx)("h4",{className:"text-center my-1 text-600",children:Object(a.jsx)(y.a,{icon:"arrow-circle-down"})}),Object(a.jsx)("h5",{className:"font-weight-bold my-1 mr-1 text-center",children:Object(a.jsx)(E.a,{color:"soft-primary",children:se})}),Object(a.jsx)("h5",{className:"text-center my-1 text-600",children:Object(a.jsx)(y.a,{icon:"arrow-circle-down"})}),Object(a.jsx)("h5",{className:"font-weight-bold my-1 mr-1 text-center fs-0",children:Object(a.jsx)(E.a,{color:"soft-success",children:oe})})]}),Object(a.jsx)("hr",{})]}),de&&Object(a.jsxs)(te,{icon:"info",heading:"Assignment Info",children:[Object(a.jsxs)(Q.a,{children:[Object(a.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Assigned By: "}),Object(a.jsx)("p",{className:"my-1 ml-1",children:null===de||void 0===de?void 0:de.assignerName})]}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Due Date: "}),Object(a.jsxs)("p",{className:"my-1 ml-1",children:[de&&g()(de.dueDate).format("MM/DD/YYYY"),de.assignedHours&&"- ".concat(de.assignedHours," estimated ").concat(Object(G.a)("hour",de.assignedHours))]})]}),Object(a.jsxs)(Q.a,{children:[Object(a.jsx)("p",{className:"font-weight-bold my-1 mr-1",children:"Description: "}),Object(a.jsx)("p",{className:"my-1 ml-1",children:null===de||void 0===de?void 0:de.description})]})]})]}),Object(a.jsx)(F.a,{className:"px-card d-block bg-light border-top-0",children:Object(a.jsxs)(b.a,{noGutters:!0,children:[Object(a.jsxs)(v.a,{xs:"auto",children:[Object(a.jsx)(A.a,{placement:"right",target:"delete-time-entry-modal",children:"Delete Time Entry"}),Object(a.jsx)(P.a,{color:"falcon-default",size:"sm",id:"delete-time-entry-modal",onClick:he,children:Object(a.jsx)(y.a,{icon:"trash-alt",className:"text-danger"})})]}),!(ue||je)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(v.a,{xs:"auto",className:"ml-auto mr-2",children:Object(a.jsxs)(P.a,{color:"falcon-default",size:"sm",onClick:Oe,children:[Object(a.jsx)(y.a,{icon:"check",className:"mr-1 text-success"}),"Approve"]})}),Object(a.jsxs)(v.a,{xs:"auto",className:"mr-2",children:[Object(a.jsxs)(P.a,{color:"falcon-default",size:"sm",onClick:fe,children:[Object(a.jsx)(y.a,{icon:"times",className:"mr-1 text-danger"}),"Decline"]}),Object(a.jsxs)(I.a,{isOpen:S,toggle:function(){D(!1),M("")},children:[Object(a.jsx)(Y.a,{children:"Decline Reason"}),Object(a.jsx)(V.a,{children:Object(a.jsx)(H.a,{id:"decline-reason",label:"Enter Reason",value:N,onChange:function(e){return M(e.target.value)}})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(P.a,{color:"primary",size:"sm",onClick:function(){W.current&&W.current(N),D(!1),M("")},children:"Submit"})})]})]})]}),Object(a.jsxs)(v.a,{xs:"auto",className:ue||je?"ml-auto":"",children:[Object(a.jsxs)(P.a,{tag:"a",color:"falcon-default",size:"sm",onClick:function(){B(!0)},children:[Object(a.jsx)(y.a,{icon:"pencil-alt",className:"fs--2 mr-2 text-primary"}),Object(a.jsx)("span",{children:"Edit"})]}),"time"===be&&Object(a.jsx)(K,{event:Object(u.a)(Object(u.a)({},r),{},{timeTypeId:r.timeTypeId,timeCodeId:r.timeCodeId}),startDate:null===ee||void 0===ee?void 0:ee.toISOString(),endDate:null===Z||void 0===Z?void 0:Z.toISOString(),isOpen:L,setIsOpen:B,selectedPersonId:c}),"timeOff"===be&&Object(a.jsx)(X,{event:Object(u.a)({},r),initialStartDate:null===ee||void 0===ee?void 0:ee.toISOString(),initialEndDate:null===Z||void 0===Z?void 0:Z.toISOString(),isOpen:L,setIsOpen:B})]})]})})]})},ae=n(409),ie=n(921),re=n(890),ce=n(908),se=n(1e3),oe=n(1001),le=n(1002),de=n(998),ue=n(811),je=n(803),me=n(1003),be=n(68),ve=n(804),fe=n(7),Oe=n.n(fe),he=function(e){var t=e.filter,n=e.currentFilter,i=e.className,r=e.children,c=Object(j.a)(e,["filter","currentFilter","className","children"]);return Object(a.jsxs)(ve.a,Object(u.a)(Object(u.a)({tag:Q.a,justify:"between",className:Oe()("cursor-pointer",i)},c),{},{children:[r,t===n&&Object(a.jsx)(me.FontAwesomeIcon,{icon:"check",transform:"down-4 shrink-4"})]}))},xe=function(e){var t=e.filters,n=e.handleFilter,i=e.currentFilter,r=e.icon,c=e.right,s=Object(j.a)(e,["filters","handleFilter","currentFilter","icon","right"]);return Object(a.jsxs)(de.a,{children:[Object(a.jsxs)(ue.a,Object(u.a)(Object(u.a)({size:"sm",color:"falcon-default"},s),{},{children:[i&&Object(a.jsx)("span",{className:"mr-2",children:i}),Object(a.jsx)(me.FontAwesomeIcon,{icon:r})]})),Object(a.jsx)(je.a,{className:"border py-2",right:c,children:Object(be.e)(t)&&t.map((function(e,t){return Object(a.jsx)(he,{currentFilter:i,onClick:function(){n(e)},filter:e,className:"text-capitalize",children:e},t)}))})]})},pe={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:!0},ge={today:"Today",month:"Month view",week:"week",day:"day",listWeek:"list view",listYear:"year"},ye=[["Month View","dayGridMonth"],["Week View","timeGridWeek"],["Day View","timeGridDay"],["List View","listWeek"],["Year View","listYear"]],we=function(e){var t,n,r=e.apiRef,c=e.onAddEventClick,s=e.addEventText,o=void 0===s?"Add Event":s,l=e.initialView,d=void 0===l?"dayGridMonth":l,h=e.dayMaxEvents,x=void 0===h?2:h,p=e.height,w=void 0===p?800:p,k=e.stickyHeaderDates,S=void 0!==k&&k,D=e.eventTimeFormat,T=void 0===D?pe:D,C=e.buttonText,N=void 0===C?ge:C,M=e.events,I=Object(j.a)(e,["apiRef","onAddEventClick","addEventText","initialView","dayMaxEvents","height","stickyHeaderDates","eventTimeFormat","buttonText","events"]),Y=Object(i.useRef)(null),E=Object(i.useState)(void 0),V=Object(m.a)(E,2),F=V[0],_=V[1],q=Object(i.useState)(""),R=Object(m.a)(q,2),L=R[0],B=R[1],H=Object(i.useState)((null===(t=ye.find((function(e){return e[1]===d})))||void 0===t?void 0:t[0])||"Month View"),W=Object(m.a)(H,2),z=W[0],G=W[1],U=Object(i.useState)(!1),$=Object(m.a)(U,2),J=$[0],Z=$[1];Object(i.useEffect)((function(){var e;_(null===(e=Y.current)||void 0===e?void 0:e.getApi()),r&&(null===Y||void 0===Y?void 0:Y.current)&&(r.current=Y.current.getApi())}),[]),Object(i.useEffect)((function(){var e,t=null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.getCurrentData().viewApi.type;if(t){var n,a=null===(n=ye.find((function(e){return e[1]===t})))||void 0===n?void 0:n[0];a&&K(a)}}),[null===r||void 0===r||null===(n=r.current)||void 0===n?void 0:n.getCurrentData().viewApi.type]);var K=function(e){var t;G(e);var n=null===(t=ye.find((function(t){return t[0]===e})))||void 0===t?void 0:t[1];n&&(null===F||void 0===F||F.changeView(n)),B((null===F||void 0===F?void 0:F.getCurrentData().viewTitle)||"")},X=Math.min(g()().hour(),7),ee=Math.max(g()().hour(),18),te=Object(be.e)(M)&&M.reduce((function(e,t){if(!t.start||!t.end)return e;var n=g()(t.start),a=g()(t.end);return n.add(1,"day").isBefore(a)||n.hour()>X&&n.hour()<ee||a.hour()>X&&a.hour()<ee?e:e+1}),0),ne={week:{eventLimit:5,slotMinTime:J?"00:00:00":g()().hour(X).minute(0).format("HH:mm:ss"),slotMaxTime:J?"24:00:00":g()().hour(ee).minute(60).format("HH:mm:ss")},day:{eventLimit:5,slotMinTime:J?"00:00:00":g()().hour(X).minute(0).format("HH:mm:ss"),slotMaxTime:J?"24:00:00":g()().hour(ee).minute(60).format("HH:mm:ss")}};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{className:"mb-3",children:[Object(a.jsx)(ae.a,{children:Object(a.jsxs)(b.a,{noGutters:!0,className:"align-items-center",children:[Object(a.jsxs)(v.a,{xs:"auto",className:"d-flex justify-content-end order-md-1",children:[Object(a.jsx)(A.a,{placement:"bottom",target:"previous",children:"Previous"}),Object(a.jsx)(A.a,{placement:"bottom",target:"next",children:"Next"}),Object(a.jsx)(P.a,{onClick:function(){null===F||void 0===F||F.prev(),B((null===F||void 0===F?void 0:F.getCurrentData().viewTitle)||"")},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2",id:"previous",children:Object(a.jsx)(y.a,{icon:"arrow-left"})}),Object(a.jsx)(P.a,{onClick:function(){null===F||void 0===F||F.next(),B((null===F||void 0===F?void 0:F.getCurrentData().viewTitle)||"")},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1",id:"next",children:Object(a.jsx)(y.a,{icon:"arrow-right"})})]}),Object(a.jsx)(v.a,{xs:"auto",md:"auto",className:"order-md-2",children:Object(a.jsx)("h4",{className:"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title",children:L||"".concat(null===F||void 0===F?void 0:F.getCurrentData().viewTitle)})}),Object(a.jsx)(v.a,{xs:!0,md:"auto",tag:Q.a,justify:"end",className:"order-md-3",children:Object(a.jsx)(P.a,{size:"sm",color:"falcon-primary",onClick:function(){null===F||void 0===F||F.today(),B((null===F||void 0===F?void 0:F.getCurrentData().viewTitle)||"")},children:"Today"})}),Object(a.jsx)(v.a,{md:"auto",className:"d-md-none",children:Object(a.jsx)("hr",{})}),Object(a.jsx)(v.a,{xs:"auto",className:"d-flex order-md-0",children:c&&Object(a.jsxs)(P.a,{color:"primary",size:"sm",onClick:c,children:[Object(a.jsx)(y.a,{icon:"plus",className:"mr-1"})," ",o]})}),Object(a.jsx)(v.a,{className:"d-flex justify-content-end order-md-2",children:Object(a.jsx)(xe,{className:"mr-2",filters:ye.map((function(e){return e[0]})),currentFilter:z,handleFilter:K,icon:"sort",right:!0})})]})}),Object(a.jsxs)(O.a,{className:"p-0",children:[Object(a.jsx)(ie.a,Object(u.a)({ref:Y,headerToolbar:!1,plugins:[re.b,ce.a,se.a,le.a,oe.a],initialView:d,themeSystem:"bootstrap",dayMaxEvents:x,height:w,stickyHeaderDates:S,selectMirror:!0,eventTimeFormat:T,buttonText:N,events:M,views:ne},I)),("Day View"===z||"Week View"===z)&&Object(a.jsxs)(a.Fragment,{children:[!!te&&!J&&Object(a.jsx)(Q.a,{align:"center",justify:"center",children:Object(a.jsx)("h5",{className:"my-2",children:"+ ".concat(te," hidden")})}),Object(a.jsxs)(Q.a,{column:!0,children:[Object(a.jsx)(P.a,{color:"falcon-primary",id:"calendar-expand",onClick:function(){return Z((function(e){return!e}))},children:Object(a.jsx)(y.a,{icon:"angle-down",transform:J?"rotate-180":""})}),Object(a.jsx)(A.a,{target:"calendar-expand",children:J?"Collapse Time":"Show All Time"})]})]})]})]})})},ke=n(947),Se=n(144),De=function(e,t,n){return Object(Se.a)({actionCreator:J.l,postParams:[e,t,n],selector:function(a){return Object.values(a.time.timeEntries).filter((function(a){return a.personId===e&&a.endTime>t&&a.startTime<n}))},deduplicate:["timeEntries",e,t,n]})};var Te=function(e,t,n){return Object(Se.a)({actionCreator:e?J.m:void 0,postParams:e,selector:function(a){return Object.values(a.time.timeOffRequests).filter((function(a){return a.personId===e&&(!t||g()(a.endDate||a.startDate).isAfter(t))&&(!n||g()(a.startDate).isBefore(n))}))},equality:x.d,deduplicate:["getTimeOffRequests",e,t||"nostart",n||"noend"]})},Ce=function(){var e=Object(i.useRef)(),t=Object(U.a)(J.t),n=Object(U.a)(J.s),r=Object(i.useState)(),c=Object(m.a)(r,2),s=c[0],p=c[1],k=Object(C.a)(),D=k.value,T=(Object(j.a)(k,["value"]),Object(x.f)((function(e){return e.app.login.personId}))),M=Object(i.useState)(g()().startOf("week").toISOString()),I=Object(m.a)(M,2),Y=I[0],E=I[1],A=Object(i.useState)(g()().startOf("week").add(7,"day").toISOString()),V=Object(m.a)(A,2),F=V[0],P=V[1],_=Object(i.useState)(),q=Object(m.a)(_,2),R=q[0],L=q[1],B=Object(i.useState)(""),H=Object(m.a)(B,2),W=H[0],z=H[1],$=Object(i.useState)(""),X=Object(m.a)($,2),ee=X[0],te=X[1],ae=Object(i.useState)(!1),ie=Object(m.a)(ae,2),re=ie[0],ce=ie[1];Object(i.useEffect)((function(){T&&L(T)}),[T]);var se=Object(i.useState)(!0),oe=Object(m.a)(se,2),le=oe[0],de=oe[1],ue=Object(i.useState)(!0),je=Object(m.a)(ue,2),me=je[0],be=je[1],ve=Object(i.useState)(!0),fe=Object(m.a)(ve,2),Oe=fe[0],he=fe[1],xe=Object(i.useState)(!0),pe=Object(m.a)(xe,2),ge=pe[0],ye=pe[1],Se=Object(i.useState)(!0),Ce=Object(m.a)(Se,2),Ne=Ce[0],Me=Ce[1],Ie=De(R||"",Y,F),Ye=Ie.value,Ee=(Object(j.a)(Ie,["value"]),Te(R,Y,F)),Ae=Ee.value,Ve=(Object(j.a)(Ee,["value"]),[]);null===Ye||void 0===Ye||Ye.forEach((function(e){var t=Ve.findIndex((function(t){var n;return g()(null===(n=t.start)||void 0===n?void 0:n.toString()).isSame(e.startTime,"day")})),n=g()(e.endTime).diff(e.startTime,"minute")/60;-1!==t?(Ve[t].hours+=n,Ve[t].classNames=[Ve[t].hours<8?"bg-500 text-800":8===Ve[t].hours?"badge-success":"badge-warning"],Ve[t].title="Total hours: ".concat(Ve[t].hours)):Ve.push({id:g()(e.startTime).format("MMDDYY"),start:e.startTime,allDay:!0,selectable:!1,hours:n,editable:!1,classNames:[8===n?"badge-success":"badge-secondary"],title:"Total hours: ".concat(n)})}));var Fe=le&&(null===Ye||void 0===Ye?void 0:Ye.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{start:e.startTime,end:e.endTime,title:e.taskTitle,entryType:"time",approved:!!e.approverId,declined:!!e.declinerId})})))||[],Pe=me&&(null===Ae||void 0===Ae?void 0:Ae.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{start:e.startDate,end:e.endDate||e.allDay&&e.startDate,className:e.approved?"bg-stripes-info":e.declined?"bg-stripes-danger":"bg-stripes-warning",entryType:"timeOff",hours:e.absentHours,display:"background"})})))||[],_e=[].concat(Object(d.a)(Fe),Object(d.a)(Pe)).filter((function(e){return Oe&&e.approved||ge&&e.declined||Ne&&!e.approved&&!e.declined})),qe=(null===_e||void 0===_e?void 0:_e.map((function(e){var t,n,a=null===D||void 0===D||null===(t=D.find((function(t){return t.timeCodes.find((function(t){return e.timeCode._id===t._id}))})))||void 0===t?void 0:t.eventColor;return Object(u.a)(Object(u.a)({},e),{},{id:e._id,title:"".concat(e.timeCode.title,": ").concat(e.title||""),textColor:"inherit",badge:e.hours?{label:e.hours+" "+Object(G.a)("hr",e.hours),color:a||"soft-dark"}:void 0,classNames:a?["bg-".concat(a),"text-".concat(null===(n=ke.a.find((function(e){return e.value===a})))||void 0===n?void 0:n.text),"overflow-hidden"]:["overflow-hidden"]})})))||[],Re=[].concat(Object(d.a)(qe),Ve);function Le(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(l.a)(o.a.mark((function e(a){var i,r,c,s,l,d,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.event,r=a.revert,"time"!==i.extendedProps.entryType){e.next=8;break}return e.next=4,n.post(i.id,{startTime:null===(c=i.start)||void 0===c?void 0:c.toISOString(),endTime:null===(s=i.end)||void 0===s?void 0:s.toISOString()});case 4:(null===(l=e.sent)||void 0===l?void 0:l.success)||(w.c.error((null===l||void 0===l?void 0:l.error)||"something went wrong"),r()),e.next=13;break;case 8:if("timeOff"!==i.extendedProps.entryType){e.next=13;break}return e.next=11,t.post(i.id,{startDate:null===(d=i.start)||void 0===d?void 0:d.toISOString(),endDate:null===(u=i.end)||void 0===u?void 0:u.toISOString()});case 11:(null===(j=e.sent)||void 0===j?void 0:j.success)||(w.c.error((null===j||void 0===j?void 0:j.error)||"something went wrong"),r());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{children:[Object(a.jsx)(v.a,{xl:10,className:"order-1 order-xl-0",children:Object(a.jsx)(we,{apiRef:e,editable:!0,selectable:!0,onAddEventClick:function(){return ce(!0)},addEventText:"Add Time Entry",select:function(t){if(console.log(t),"dayGridMonth"===t.view.type){var n,a,i=t.start.getTime();if(t.end.getTime()-i!==864e5)null===(n=e.current)||void 0===n||n.changeView("timeGridWeek",t.startStr);else null===(a=e.current)||void 0===a||a.changeView("timeGridDay",t.start)}else ce(!0),z(g()(t.start).format(Z)),te(g()(t.end).format(Z))},eventClick:function(e){var t,n;p(Object(u.a)(Object(u.a)({},e.event.extendedProps),{},{timeCodeId:null===(t=e.event.extendedProps)||void 0===t||null===(n=t.timeCode)||void 0===n?void 0:n._id,title:e.event.title,start:e.event.start,end:e.event.end,allDay:e.event.allDay}))},eventResize:function(e){return Le(e),!0},eventDrop:function(e){return Le(e),!0},events:Re,initialView:window.innerWidth<750?"timeGridDay":"timeGridWeek",allDaySlot:!0,allDayContent:"Total Hours",nowIndicator:!0,eventContent:function(e){return function(e){var t,n,i;if(e.event.allDay)return e.event.title;var r=e.event.extendedProps,c=null===r||void 0===r?void 0:r.taskTitle,s=null===r||void 0===r||null===(t=r.timeCode)||void 0===t?void 0:t.title,o=e.event.end&&e.event.start?g()(null===(n=e.event.end)||void 0===n?void 0:n.toISOString()).diff(null===(i=e.event.start)||void 0===i?void 0:i.toISOString(),"minute")/60:0,l=0;o&&o%1&&(l=1);var d=(o?o.toFixed(l):"unknown")+" hr"+(1===o?"":"s");return Object(a.jsxs)("div",{className:"text-truncate w-100",children:[Object(a.jsxs)(Q.a,{justify:"between",children:[Object(a.jsx)("h6",{className:"mb-0",children:"".concat(e.timeText," (").concat(d,")")}),r.approved&&Object(a.jsx)(y.a,{icon:"check-circle",className:"mr-1"}),r.declined&&Object(a.jsx)(y.a,{icon:"times-circle",className:"mr-1"})]}),Object(a.jsx)("p",{className:"my-1 font-weight-bold",children:Object(a.jsx)("i",{children:s})}),c&&Object(a.jsx)("p",{className:"my-1 fs--1",children:Object(a.jsx)("i",{children:c})})]})}(e)},height:"auto",dayMaxEvents:4,datesSet:function(e){E(e.start.toISOString()),P(e.end.toISOString())}})}),Object(a.jsx)(v.a,{xl:2,className:"order-0 order-xl-1",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(v.a,{xs:12,lg:"auto",xl:12,className:"d-block d-lg-flex d-xl-block",children:Object(a.jsxs)(f.a,{className:"mb-3",children:[Object(a.jsx)(S.a,{title:"Filters"}),Object(a.jsx)(O.a,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsxs)(v.a,{xs:6,xl:12,children:[Object(a.jsx)(h.a,{id:"show-timesheets",label:"Timesheet",onChange:function(){return de(!le)},checked:le,type:"switch"}),Object(a.jsx)(h.a,{id:"show-timeOff",className:"mt-3",label:"Time Off",onChange:function(){return be(!me)},checked:me,type:"switch"})]}),Object(a.jsxs)(v.a,{xs:6,xl:12,children:[Object(a.jsx)("hr",{className:"d-none d-xl-block"}),Object(a.jsx)("h6",{className:"d-none d-xl-block",children:"Requests:"}),Object(a.jsx)(h.a,{id:"show-approved-requests",className:"mt-xl-3",label:"Approved",onChange:function(){return he(!Oe)},checked:Oe,type:"switch"}),Object(a.jsx)(h.a,{id:"show-declined-requests",className:"mt-3",label:"Declined",onChange:function(){return ye(!ge)},checked:ge,type:"switch"}),Object(a.jsx)(h.a,{id:"show-pending-requests",className:"mt-3",label:"Pending",onChange:function(){return Me(!Ne)},checked:Ne,type:"switch"})]})]})})]})}),Object(a.jsx)(v.a,{children:R&&Object(a.jsx)(N,{personId:R,className:"mb-3"})})]})})]}),Object(a.jsx)(K,{startDate:W,endDate:ee,setIsOpen:ce,isOpen:re,selectedPersonId:R}),s&&R&&Object(a.jsx)(ne,{isOpen:!!s,setIsOpen:function(){return p(void 0)},event:s,personId:R})]})},Ne={today:"Today",month:"Month view",week:"week",day:"day",listWeek:"list view",listYear:"year"},Me={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:!0},Ie=["Month View","Week View","Day View","List View","Year View"],Ye={"Month View":"dayGridMonth","Week View":"timeGridWeek","Day View":"timeGridDay","List View":"listWeek","Year View":"listYear"},Ee=function(e){var t=e.events,n=void 0===t?[]:t,r=e.addEventText,c=e.onEventClick,s=e.onDateSelect,o=e.defaultView,l=void 0===o?"Month View":o,d=Object(i.useRef)(null),u=Object(i.useState)(),j=Object(m.a)(u,2),h=j[0],x=j[1],p=Object(i.useState)(),w=Object(m.a)(p,2),k=w[0],S=w[1],D=Object(i.useState)(l),T=Object(m.a)(D,2),C=T[0],N=T[1],M=Object(i.useState)(!1),I=Object(m.a)(M,2),Y=I[0],E=I[1],V={week:{eventLimit:5,slotMinTime:Y?"00:00:00":"07:00:00",slotMaxTime:Y?"24:00:00":"19:00:00"},day:{eventLimit:5,slotMinTime:Y?"00:00:00":"07:00:00",slotMaxTime:Y?"24:00:00":"19:00:00"}};Object(i.useEffect)((function(){var e;x(null===(e=d.current)||void 0===e?void 0:e.getApi())}),[]);var F=n.reduce((function(e,t){if(!t.start||!t.end)return e;var n=g()(t.start),a=g()(t.end);return n.add(1,"day").isBefore(a)||n.hour()>7&&n.hour()<18||a.hour()>7&&a.hour()<18?e:e+1}),0);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{className:"mb-3",children:[Object(a.jsx)(ae.a,{children:Object(a.jsxs)(b.a,{noGutters:!0,className:"align-items-center",children:[Object(a.jsxs)(v.a,{xs:"auto",className:"d-flex justify-content-end order-md-1",children:[Object(a.jsx)(A.a,{placement:"bottom",target:"previous",children:"Previous"}),Object(a.jsx)(A.a,{placement:"bottom",target:"next",children:"Next"}),Object(a.jsx)(P.a,{onClick:function(){null===h||void 0===h||h.prev(),S(null===h||void 0===h?void 0:h.getCurrentData().viewTitle)},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1 ml-md-2",id:"previous",children:Object(a.jsx)(y.a,{icon:"arrow-left"})}),Object(a.jsx)(P.a,{onClick:function(){null===h||void 0===h||h.next(),S(null===h||void 0===h?void 0:h.getCurrentData().viewTitle)},color:"link",className:"icon-item icon-item-sm icon-item-hover shadow-none p-0 mr-1",id:"next",children:Object(a.jsx)(y.a,{icon:"arrow-right"})})]}),Object(a.jsx)(v.a,{xs:"auto",md:"auto",className:"order-md-2",children:Object(a.jsx)("h4",{className:"mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title",children:k||"".concat(null===h||void 0===h?void 0:h.getCurrentData().viewTitle)})}),Object(a.jsx)(v.a,{xs:!0,md:"auto",tag:Q.a,justify:"end",className:"order-md-3",children:Object(a.jsx)(P.a,{size:"sm",color:"falcon-primary",onClick:function(){null===h||void 0===h||h.today(),S(null===h||void 0===h?void 0:h.getCurrentData().viewTitle)},children:"Today"})}),Object(a.jsx)(v.a,{md:"auto",className:"d-md-none",children:Object(a.jsx)("hr",{})}),s&&r&&Object(a.jsx)(v.a,{xs:"auto",className:"d-flex order-md-0",children:Object(a.jsxs)(P.a,{color:"primary",size:"sm",onClick:function(){return s(null)},children:[Object(a.jsx)(y.a,{icon:"plus",className:"mr-1"}),r]})}),Object(a.jsx)(v.a,{className:"d-flex justify-content-end order-md-2",children:Object(a.jsx)(xe,{className:"mr-2",filters:Ie,currentFilter:C,handleFilter:function(e){N(e),h&&(h.changeView(Ye[e]||"listYear"),S(null===h||void 0===h?void 0:h.getCurrentData().viewTitle))},icon:"sort",right:!0})})]})}),Object(a.jsxs)(O.a,{className:"p-0",children:[Object(a.jsx)(ie.a,{ref:d,headerToolbar:!1,plugins:[re.b,ce.a,se.a,le.a,oe.a],initialView:Ye[l],themeSystem:"bootstrap",dayMaxEvents:2,height:"auto",stickyHeaderDates:!1,editable:!0,selectable:!0,selectMirror:!0,select:s,views:V,eventTimeFormat:Me,eventClick:c,events:n,buttonText:Ne}),("Day View"===C||"Week View"===C)&&Object(a.jsxs)(a.Fragment,{children:[F&&!Y&&Object(a.jsx)(Q.a,{align:"center",justify:"center",children:Object(a.jsx)("h5",{className:"my-2",children:"+ ".concat(F," hidden")})}),Object(a.jsxs)(Q.a,{column:!0,children:[Object(a.jsx)(P.a,{color:"falcon-primary",id:"calendar-expand",onClick:function(){return E((function(e){return!e}))},children:Object(a.jsx)(y.a,{icon:"angle-down",transform:Y?"rotate-180":""})}),Object(a.jsx)(A.a,{target:"calendar-expand",children:Y?"Collapse Time":"Show All Time"})]})]})]})]})})},Ae=function(){var e=Object(r.i)().personId,t=Object(x.f)((function(e){return e.app.login.personId})),n=e||t,c=Te(n),s=c.value,o=(Object(j.a)(c,["value"]),Object(i.useState)(!1)),l=Object(m.a)(o,2),d=l[0],f=l[1],O=Object(i.useState)(""),h=Object(m.a)(O,2),p=h[0],g=h[1],y=Object(i.useState)(""),w=Object(m.a)(y,2),k=w[0],S=w[1],D=Object(i.useState)(!1),T=Object(m.a)(D,2),C=T[0],M=T[1],I=Object(i.useState)(),Y=Object(m.a)(I,2),E=Y[0],A=Y[1];var V=null===s||void 0===s?void 0:s.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{start:new Date(e.startDate),end:new Date(e.endDate)})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a,{className:"mt-3",children:[Object(a.jsx)(v.a,{xl:3,className:"order-0 order-xl-1",children:n&&Object(a.jsx)(N,{personId:n})}),Object(a.jsx)(v.a,{xl:9,className:"order-1 order-xl-0",children:Object(a.jsx)(Ee,{events:V,onDateSelect:function(e){var t,n;f(!0),g((null===e||void 0===e||null===(t=e.start)||void 0===t?void 0:t.toISOString())||""),S((null===e||void 0===e||null===(n=e.end)||void 0===n?void 0:n.toISOString())||"")},onEventClick:function(e){if(M(!0),e.event){var t=e.event.extendedProps,n=t._id,a=t.description,i=t.badgeLabel,r=t.badgeColor;A(Object(u.a)(Object(u.a)({},e.event.extendedProps),{},{_id:n,title:e.event.title,start:e.event.start,end:e.event.end,allDay:e.event.allDay,description:a,badge:{label:i,color:r},entryType:"timeOff"}))}},addEventText:"New Time Off Request"})})]}),Object(a.jsx)(X,{initialStartDate:p,initialEndDate:k,isOpen:d,setIsOpen:f}),E&&Object(a.jsx)(ne,{isOpen:C,setIsOpen:M,event:E,personId:n})]})};t.default=function(e){var t=e.match.url;return Object(a.jsxs)(r.d,{children:[Object(a.jsx)(r.b,{path:"".concat(t,"/timesheet"),component:Ce}),Object(a.jsx)(r.b,{path:"".concat(t,"/timeoff"),exact:!0,component:Ae}),Object(a.jsx)(r.b,{path:"".concat(t,"/approvals"),exact:!0,component:c.a}),Object(a.jsx)(r.a,{to:"/errors/404"})]})}},813:function(e,t,n){"use strict";var a=n(3),i=n(40),r=n(2),c=(n(1),n(900)),s=n(878),o=n(408),l=n(903);t.a=function(e){var t=e.label,n=e.formClass,d=void 0===n?"":n,u=e.feedback,j=e.valid,m=e.invalid,b=e.isTooltipFeedback,v=e.labelProps,f=Object(i.a)(e,["label","formClass","feedback","valid","invalid","isTooltipFeedback","labelProps"]),O=f.id,h=Object(i.a)(f,["id"]);return Object(r.jsxs)(c.a,{className:d,children:[t&&Object(r.jsx)(s.a,Object(a.a)(Object(a.a)({htmlFor:O},v),{},{children:t})),Object(r.jsx)(o.a,Object(a.a)({id:O,valid:j,invalid:m},h)),u&&Object(r.jsx)(l.a,{valid:j,invalid:m,tooltip:b,children:u})]})}},816:function(e,t,n){"use strict";var a=n(3),i=n(40),r=n(2),c=(n(1),n(900)),s=n(878),o=n(834);t.a=function(e){var t=e.id,n=e.label,l=e.styles,d=e.labelProps,u=Object(i.a)(e,["id","label","styles","labelProps"]);return Object(r.jsxs)(c.a,{children:[n&&Object(r.jsx)(s.a,Object(a.a)(Object(a.a)({for:t},d),{},{children:n})),Object(r.jsx)(o.a,Object(a.a)({classNamePrefix:"react-select",id:t,styles:Object(a.a)(Object(a.a)({},l),{},{menu:function(e){return Object(a.a)(Object(a.a)({},e),{},{zIndex:999})}})},u))]})}},820:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([i],{type:a})}},821:function(e,t,n){"use strict";n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return o})),n.d(t,"n",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"s",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"o",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"t",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"r",(function(){return D})),n.d(t,"g",(function(){return T}));var a=n(3),i=n(278),r=i.e,c=i.b,s=i.c,o=i.d,l=function(){return{actions:[{name:"getTimeTypes",data:{}}]}};r.getTimeTypes=l;var d=function(e,t,n){return{actions:[{name:"createTimeType",data:{title:e,eventColor:t,isWorkflow:n}}]}};r.createTimeType=d;var u=function(e,t,n){return{actions:[{name:"createTimeCode",data:{title:e,bankable:!!n,timeTypeId:t}}]}};r.createTimeCode=u;var j=function(e){return{actions:[{name:"deleteTimeType",data:{timeTypeId:e}}]}};r.deleteTimeType=j;var m=function(e,t){return{actions:[{name:"updateTimeType",data:Object(a.a)({timeTypeId:e},t)}]}};r.updateTimeType=m;var b=function(e,t,n){return{actions:[{name:"getTimeEntries",data:{personId:e,startDate:t,endDate:n}}]}};c.getTimeEntries=b;var v=function(e){return{actions:[{name:"createTimeEntry",data:e}]}};c.createTimeEntry=v;var f=function(e,t){return{actions:[{name:"updateTimeEntry",data:Object(a.a)({timeEntryId:e},t)}]}};c.updateTimeEntry=f;var O=function(e){return{actions:[{name:"deleteTimeEntry",data:{timeEntryId:e}}]}};c.deleteTimeEntry=O;var h=function(e,t,n){return{actions:[{name:"reviewTimeEntry",data:{timeEntryId:e,approved:t,declinedReason:n}}]}};c.reviewTimeEntry=h;var x=function(e){return{actions:[{name:"createTimeOffRequest",data:e}]}};o.createTimeOffRequest=x;var p=function(e,t){return{actions:[{name:"updateTimeOffRequest",data:Object(a.a)(Object(a.a)({},t),{},{requestId:e})}]}};o.updateTimeOffRequest=p;var g=function(e){return{actions:[{name:"deleteTimeOffRequest",data:{requestId:e}}]}};o.deleteTimeOffRequest=g;var y=function(e,t,n){return{actions:[{name:"getTimeOffRequests",data:{personId:e,startDate:t,endDate:n}}]}};o.getTimeOffRequests=y;var w=function(e,t,n){return{actions:[{name:"approveTimeOffRequest",data:{requestId:e,approve:t||void 0,decline:!t||void 0,declineReason:n}}]}};o.approveTimeOffRequest=w;var k=function(e){return{actions:[{name:"getTimeBanks",data:{personId:e}}]}};s.getLeaveBanks=k;var S=function(e){return{actions:[{name:"createTimeBank",data:{title:e.title,personId:e.personId,timeCodeId:e.timeCodeId,unit:e.unit,hoursPerUnit:+e.hoursPerUnit,policy:{accrualPeriod:e.policy.accrualPeriod,accrualAmount:+e.policy.accrualAmount,accrueWeeks:e.policy.accrueWeeks,accrueWeekdays:e.policy.accrueWeekdays,accrueDates:e.policy.accrueDates,accrueMonths:e.policy.accrueMonths,accrualMaximum:e.policy.accrualMaximum?+e.policy.accrualMaximum:void 0,effectiveDate:e.policy.effectiveDate,autoAccrual:e.policy.autoAccrual},templateTitle:e.templateTitle}}]}};s.createTimeBank=S;var D=function(e){return{actions:[{name:"updateTimeBank",data:Object(a.a)({},e)}]}};s.updateTimeBank=D;var T=function(e){return{actions:[{name:"deleteTimeBank",data:{timeBankId:e}}]}};s.deleteTimeBank=T},822:function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"f",(function(){return y}));var a=n(73),i=n(18),r=n.n(i),c=n(3),s=n(46),o=n(889),l=n(265),d=n(106),u=n(820),j=l.a,m=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l,j,m,b,v,f,O,h,x,p,g,y,w,k,S;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t.documents),a=[],i=[],s=!0,l=!1,e.prev=5,m=Object(o.a)(n);case 7:return e.next=9,m.next();case 9:return b=e.sent,s=b.done,e.next=13,b.value;case 13:if(v=e.sent,s){e.next=25;break}return h="document",/\.png$|\.jpg$|\.gif$|\.tiff$|\.jpeg/i.test((O=v).path)&&(h="photo"),e.next=20,Object(d.a)(Object(u.a)(O.base64),h,O.path);case 20:(null===(x=e.sent)||void 0===x?void 0:x.success)&&(null===(f=x.files)||void 0===f?void 0:f[h])&&("photo"===h?i.push({location:null===(p=x.files)||void 0===p?void 0:p[h],title:O.path}):"document"==h&&a.push({location:null===(g=x.files)||void 0===g?void 0:g[h].name,thumb:(null===(y=x.files)||void 0===y?void 0:y[h].thumb)?{location:null===(w=x.files)||void 0===w?void 0:w[h].thumb}:void 0,title:O.path}));case 22:s=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),l=!0,j=e.t0;case 31:if(e.prev=31,e.prev=32,s||null==m.return){e.next=36;break}return e.next=36,m.return();case 36:if(e.prev=36,!l){e.next=39;break}throw j;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return k=Object(c.a)(Object(c.a)({},t),{},{documents:a,photos:i}),S=[{name:"createStage",data:k}],e.abrupt("return",{actions:S});case 44:case"end":return e.stop()}}),e,null,[[5,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}();j.create=m;j.getOne=function(e){return{actions:[{name:"getStageDetails",data:{stageId:e}}]}};var b=function(e){return{actions:[{name:"getStageIdentifiers",data:{identifier:e}}]}};j.getStageIdentifiers=b;var v=function(e){return{actions:[{name:"createStageTag",data:{tag:e}}]}};j.createNewTag=v;j.createNewType=function(e){return{actions:[{name:"createStageType",data:{title:e}}]}};var f=function(e,t,n,a){return{actions:[{name:"addStageMember",data:{stageId:e,organizationId:t,personId:n,role:a}}]}};j.addStageMember=f;var O=function(e,t,n){return{actions:[{name:"addStageOrganization",data:{stageId:e,organizationId:t,role:n}}]}};j.addStageOrganization=O;var h=function(e,t){return{actions:[{name:"createNote",data:{body:e,stageId:t}}]}};j.postNote=h;var x=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var i,c,s,o,l,j,m,b,v,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],c=Object(a.a)(t),e.prev=2,c.s();case 4:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=8,Object(d.a)(Object(u.a)(l.base64),"document",l.path);case 8:(null===(j=e.sent)||void 0===j?void 0:j.success)&&(null===(o=j.files)||void 0===o?void 0:o.document)&&i.push({location:null===(m=j.files)||void 0===m?void 0:m.document.name,thumb:(null===(b=j.files)||void 0===b?void 0:b.document.thumb)?{location:null===(v=j.files)||void 0===v?void 0:v.document.thumb}:void 0,title:l.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return f=[{name:"addStageDocuments",data:{documents:i,stageId:n}}],e.abrupt("return",{actions:f});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();j.addStageDocuments=x;var p=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var i,c,s,o,l,j,m,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],c=Object(a.a)(t),e.prev=2,c.s();case 4:if((s=c.n()).done){e.next=12;break}return l=s.value,e.next=8,Object(d.a)(Object(u.a)(l.base64),"photo",l.path);case 8:(null===(j=e.sent)||void 0===j?void 0:j.success)&&(null===(o=j.files)||void 0===o?void 0:o.photo)&&i.push({location:null===(m=j.files)||void 0===m?void 0:m.photo,title:l.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return b=[{name:"addStagePhotos",data:{photos:i,stageId:n}}],e.abrupt("return",{actions:b});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();j.addStagePhotos=p;var g=function(e,t){return{actions:[{name:"updateStage",data:Object(c.a)({stageId:e},t)}]}};j.updateStage=g;var y=function(e,t){return{actions:[{name:"timesheetCondensedData",data:{personId:e,activeOnly:t}}]}};j.getCondensedTimesheetInfo=y},825:function(e,t,n){"use strict";var a=n(3),i=n(26),r=n(40),c=n(2),s=n(45),o=n(94),l=n.n(o),d=n(1),u=n(992),j=n(408),m=n(993),b=n(276),v=n(835);t.a=function(e){var t=e.dateFormat,n=void 0===t?"MM/DD/YY":t,o=e.timeFormat,f=void 0===o?"hh:mm A":o,O=e.value,h=e.onChange,x=(e.onBlur,e.pickerProps),p=e.size,g=e.autoFillBlank,y=e.buttonColor,w=void 0===y?"primary":y,k=Object(r.a)(e,["dateFormat","timeFormat","value","onChange","onBlur","pickerProps","size","autoFillBlank","buttonColor"]),S=Object(d.useState)(""),D=Object(i.a)(S,2),T=D[0],C=D[1],N=Object(d.useState)(!1),M=Object(i.a)(N,2),I=M[0],Y=M[1],E=Object(d.useState)(!0),A=Object(i.a)(E,2),V=A[0],F=A[1],P=n&&f?n+" "+f:n||f;return Object(d.useEffect)((function(){if(!V||(F(!1),O||g)){var e=l()(O);e.isValid()?C(e.format(P)):C(O)}}),[O]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(u.a,{children:[Object(c.jsx)(j.a,Object(a.a)({onChange:function(e){return C(e.target.value)},onBlur:function(){var e=l()(T);e.isValid()?h&&h(e.format(P)):h&&h(T)},value:T,size:p},k)),Object(c.jsx)(m.a,{addonType:"append",children:Object(c.jsx)(b.a,{outline:!0,color:w,onClick:function(){return Y((function(e){return!e}))},size:p,children:Object(c.jsx)(s.a,{icon:"calendar"})})})]}),Object(c.jsx)(v.a,Object(a.a)({dateFormat:n,timeFormat:f,onChange:function(e){var t=l()(e);t.isValid()&&(C(t.format(P)),h&&h(t.format(P)))},value:T,dropLeft:!0,open:I,onClose:function(e){Y(!1),(null===x||void 0===x?void 0:x.onClose)&&x.onClose(e)}},x))]})}},835:function(e,t,n){"use strict";var a=n(26),i=n(266),r=n(267),c=n(874),s=n(872),o=n(2),l=n(94),d=n.n(l),u=n(1),j=n.n(u),m=n(3),b=n(7),v=n.n(b),f=function(e){var t=e.onClickPrev,n=e.onClickSwitch,a=e.onClickNext,i=e.switchContent,r=e.switchColSpan,c=e.switchProps;return Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"rdtPrev",onClick:t,children:Object(o.jsx)("span",{children:"\u2039"})}),Object(o.jsx)("th",Object(m.a)(Object(m.a)({className:"rdtSwitch",colSpan:r,onClick:n},c),{},{children:i})),Object(o.jsx)("th",{className:"rdtNext",onClick:a,children:Object(o.jsx)("span",{children:"\u203a"})})]})},O=n(886),h=n.n(O),x=n(887),p=n.n(x);d.a.extend(p.a),d.a.extend(h.a);var g=function(e,t){return Object(o.jsx)("td",Object(m.a)(Object(m.a)({},e),{},{children:t.date()}))},y=function(){return!0},w=function(e){for(var t=e.renderDay,n=void 0===t?g:t,a=e.isValidDate,i=void 0===a?y:a,r=e.viewDate,c=e.navigate,s=e.showView,l=e.timeFormat,u=e.selectedDate,j=e.updateDate,m=r,b=d()(r.toISOString()),O=m.clone().startOf("month"),h=m.clone().endOf("month"),x=[[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7]],p=b.startOf("month").startOf("week"),w=p.add(42,"d"),k=p,S=0,D=x;S<D.length;S++){var T=D[S];for(var C in T){var N=i(k.startOf("day"))||i(k.endOf("day"));T[C]=n({key:k.format("MMDDYYhh"),"data-value":k.date(),"data-month":k.month(),"data-year":k.year(),className:v()("rdtDay",{rdtOld:k.isBefore(O),rdtNew:k.isAfter(h),rdtActive:u&&k.isSame(u,"day"),rdtToday:k.isSame(d()(),"day"),rdtDisabled:!N}),onClick:N?j:void 0},k,u),k=k.add(1,"day")}}return Object(o.jsx)("div",{className:"rdtDays",children:Object(o.jsxs)("table",{children:[Object(o.jsxs)("thead",{children:[Object(o.jsx)(f,{onClickPrev:function(){return c(-1,"month")},onClickSwitch:function(){return s("months",r)},onClickNext:function(){return c(1,"month")},switchContent:b.format("MMM YYYY"),switchColSpan:5,switchProps:{"data-value":r.month()}}),Object(o.jsx)("tr",{children:d.a.weekdaysMin().map((function(e,t){return Object(o.jsx)("th",{className:"dow",children:e},e+t)}))})]}),Object(o.jsx)("tbody",{children:x.map((function(e,t){return Object(o.jsx)("tr",{children:e},"".concat(w.month(),"_").concat(t))}))}),l&&Object(o.jsx)("tfoot",{children:Object(o.jsx)("tr",{children:Object(o.jsx)("td",{onClick:function(){return s("time",r)},colSpan:7,className:"rdtTimeToggle",children:m.format(!0===l?"LT":l)})})})]})})},k=function(e){var t=e.viewDate,n=e.renderMonth,a=void 0===n?function(e,t,n){return Object(o.jsx)("td",Object(m.a)(Object(m.a)({},e),{},{children:d()().year(n).month(t).format("MMM")}))}:n,i=e.isValidDate,r=e.navigate,c=e.showView,s=e.selectedDate,l=e.updateDate,u=null===t||void 0===t?void 0:t.year();function j(e){if(!i)return!1;for(var n=null===t||void 0===t?void 0:t.month(e).date(1),a=null===n||void 0===n?void 0:n.endOf("month");a.isAfter(n);){if(i(a))return!1;a=a.subtract(1,"day")}return!0}for(var b=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],O=0,h=0,x=b;h<x.length;h++){var p=x[h];for(var g in p)p[g]=a({key:O,className:v()("rdtMonth",{rdtDisabled:j(O),rdtActive:s.year()===t.year()&&s.month()===O}),"data-year":t.year(),"data-value":O,onClick:j(O)?void 0:l},O,null===t||void 0===t?void 0:t.year(),s),O++}return Object(o.jsxs)("div",{className:"rdtMonths",children:[Object(o.jsx)("table",{children:Object(o.jsx)("thead",{children:Object(o.jsx)(f,{onClickPrev:function(){return r(-1,"year")},onClickSwitch:function(){return c("years",t)},onClickNext:function(){return r(1,"year")},switchContent:u,switchColSpan:2})})}),Object(o.jsx)("table",{children:Object(o.jsx)("tbody",{children:b.map((function(e,t){return Object(o.jsx)("tr",{children:e},t)}))})})]})},S=n(17),D=function(e){var t=e.renderYear,n=void 0===t?function(e,t){return Object(o.jsx)("td",Object(m.a)(Object(m.a)({},e),{},{children:t}))}:t,i=e.isValidDate,r=e.viewDate,c=e.navigate,s=e.showView,l=e.selectedDate,j=e.updateDate,b=Object(u.useState)({}),O=Object(a.a)(b,2),h=O[0],x=O[1],p=null===r||void 0===r?void 0:r.year(),g=null===l||void 0===l?void 0:l.year();function y(e){if(void 0!==h[e])return h[e];if(!i)return!1;for(var t=d()().year(e).month(0).date(1),n=t.endOf("year");n.isAfter(t);){if(i(n))return x((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(S.a)({},e,!1))})),!1;n=n.subtract(1,"day")}return x((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(S.a)({},e,!0))})),!0}Object(u.useEffect)((function(){x({})}),[i]);for(var w=function(e){j(e)},k=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],D=p-1,T=0,C=k;T<C.length;T++){var N=C[T];for(var M in N)N[M]=n({key:D,className:v()("rdtYear",{rdtDisabled:y(D),rdtActive:g===D}),"data-value":D,onClick:y(D)?void 0:w},D,l),D++}return Object(o.jsxs)("div",{className:"rdtYears",children:[Object(o.jsx)("table",{children:Object(o.jsx)("thead",{children:Object(o.jsx)(f,{onClickPrev:function(){return c(-10,"year")},onClickSwitch:function(){return s("years",r)},onClickNext:function(){return c(10,"year")},switchContent:"".concat(p,"-").concat(p+9)})})}),Object(o.jsx)("table",{children:Object(o.jsx)("tbody",{children:k.map((function(e,t){return Object(o.jsx)("tr",{children:e},t)}))})})]})},T={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}};function C(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},a=t.toString();a.length<n[e];)a="0"+a;return a}var N=function(e){var t=e.viewDate,n=e.showView,i=e.timeFormat,r=e.dateFormat,c=e.selectedDate,s=e.setTime,l=e.timeConstraints,j=Object(u.useState)(T),b=Object(a.a)(j,2),v=b[0],f=b[1],O=Object(u.useState)({}),h=Object(a.a)(O,2),x=h[0],p=h[1],g=Object(u.useRef)();Object(u.useEffect)((function(){var e={};Object.keys(T).forEach((function(t){e[t]=Object(m.a)(Object(m.a)({},T[t]),l[t]||{})})),f(e)}),[l]),Object(u.useEffect)((function(){if(!g.current||!(null===c||void 0===c?void 0:c.isSame(g.current))){var e=c||t;p({hours:C("hours",e.hour()),minutes:C("minutes",e.minute()),seconds:C("seconds",e.second()),milliseconds:C("milliseconds",e.millisecond()),ampm:e.hour()<12?"AM":"PM"}),g.current=c}}),[null===c||void 0===c?void 0:c.toISOString(),null===t||void 0===t?void 0:t.toISOString()]);var y=[],w=!0===i?"hh:mm A":i;/h/i.test(w)&&(y.push("hours"),/m/.test(w)&&(y.push("minutes"),/s/.test(w)&&(y.push("seconds"),/S/.test(w)&&y.push("milliseconds"))),/a/i.test(w)&&y.push("ampm"));function k(e){p((function(t){var n=v[e],a=parseInt(t[e],10)+n.step;return a>n.max&&(a=n.min+(a-(n.max+1))),Object(m.a)(Object(m.a)({},t),{},Object(S.a)({},e,C(e,a)))}))}function D(e){p((function(t){var n=v[e],a=parseInt(x[e],10)-n.step;return a<n.min&&(a=n.max+1-(n.min-a)),Object(m.a)(Object(m.a)({},t),{},Object(S.a)({},e,C(e,a)))}))}function N(e,t,n){if(!e||!e.button||0===e.button){if("ampm"===n){var a=+x.hours;return a>=12?a-=12:a+=12,void s("hours",a)}var i;t(n);var r=setTimeout((function(){i=setInterval((function(){t(n)}),70)}),500),c=function e(){clearTimeout(r),clearInterval(i),function(e){p((function(t){return s(e,+t[e]),t}))}(n),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)};document.addEventListener("mouseup",c),document.addEventListener("touchend",c)}}return Object(o.jsx)("div",{className:"rdtTime",children:Object(o.jsxs)("table",{children:[r&&Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:Object(o.jsx)("td",{className:"rdtSwitch",colSpan:4,onClick:function(){return n("days",t)},children:(c||t).format(r)})})}),Object(o.jsx)("tbody",{children:Object(o.jsx)("tr",{children:Object(o.jsx)("td",{children:Object(o.jsx)("div",{className:"rdtCounters",children:y.map((function(e,t){return Object(o.jsxs)(o.Fragment,{children:[!!t&&"ampm"!==e&&Object(o.jsx)("div",{className:"rdtCounterSeparator",children:":"},"sep".concat(t)),Object(o.jsxs)("div",{className:"rdtCounter",children:[Object(o.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return N(t,k,e)},children:"\u25b2"}),Object(o.jsx)("div",{className:"rdtCount",children:"hours"===e&&/a/i.test(w)?(+x[e]-1)%12+1||12:"ampm"===e?d()().hour(+x.hours).format(/A/.test(w)?" A":" a"):x[e]}),Object(o.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return N(t,D,e)},children:"\u25bc"})]},e)]})}))})})})})]})})},M=n(888),I=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).container=j.a.createRef(),e}return Object(r.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:this.props.className,ref:this.container,children:this.props.children})}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(j.a.Component),Y=Object(M.a)(I),E={YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"},A=function(){};t.a=function(e){var t=e.id,n=e.value,i=e.initialValue,r=e.initialViewMode,c=e.onClose,s=void 0===c?A:c,l=e.onChange,j=void 0===l?A:l,m=e.onNavigate,b=void 0===m?A:m,f=e.onBeforeNavigate,O=void 0===f?function(e){return e}:f,h=e.onNavigateBack,x=void 0===h?A:h,p=e.onNavigateForward,g=void 0===p?A:p,y=e.updateOnView,S=(e.locale,e.iso),T=e.dateFormat,C=e.timeFormat,M=e.timeConstraints,I=void 0===M?{}:M,V=e.isValidDate,F=void 0===V?function(){return!0}:V,P=e.open,_=e.setOpen,q=e.closeOnSelect,R=e.closeOnClickOutside,L=void 0===R||R,B=e.renderDay,H=e.renderMonth,W=e.renderYear,z=e.className,G=void 0===z?"":z,U=e.staticDisplay,$=e.dropLeft,J=Object(u.useState)(r||(T?"days":C?"time":"years")),Z=Object(a.a)(J,2),K=Z[0],Q=Z[1],X=Object(u.useState)(d()(n||i)),ee=Object(a.a)(X,2),te=ee[0],ne=ee[1],ae=Object(u.useState)("time"),ie=Object(a.a)(ae,2),re=ie[0],ce=ie[1],se=Object(u.useState)(d()(n||i)),oe=Object(a.a)(se,2),le=oe[0],de=oe[1],ue=Object(u.useState)(""),je=Object(a.a)(ue,2),me=je[0],be=je[1];Object(u.useEffect)((function(){if(n){var e=d()(n);e.isValid()&&ne(e)}}),[n]),Object(u.useEffect)((function(){var e=!0===T?"L":T,t=!0===C?"LT":C;be(e?t?e+" "+t:e:t||"")}),[C,T]),Object(u.useEffect)((function(){var e=T?!0===T?"L":T:"";y?ce(y):e.match(/[lLD]/)?ce(E.DAYS):-1!==e.indexOf("M")?ce(E.MONTHS):-1!==e.indexOf("Y")?ce(E.YEARS):ce(E.TIME)}),[T]),Object(u.useEffect)((function(){var e=d()(n);e.isValid()?de(e):de(d()())}),[n]);var ve=function(e,t){var n=O(e,K,t||te);n&&K!==n&&(b(n),Q(n))};function fe(e){q&&he(),j(S?null===e||void 0===e?void 0:e.toISOString():null===e||void 0===e?void 0:e.format(me))}var Oe=function(e,t){ne((function(n){return n.add(e,t)})),e>0?g(e,t):x(-e,t)},he=function(){_&&_(!1),s(le)};return Object(o.jsx)(Y,{className:v()("rdt",G,{rdtStatic:!!U,rdtOpen:!!P}),onClickOut:function(){P&&L&&he()},children:Object(o.jsxs)("div",{id:t,className:"rdtPicker rounded bg-light",style:$?{right:0}:void 0,children:["years"===K&&Object(o.jsx)(D,{viewDate:te,renderYear:W,isValidDate:F,navigate:Oe,showView:ve,selectedDate:le,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.YEARS?(de(t),fe(t)):ve(E.MONTHS,te)}}),"months"===K&&Object(o.jsx)(k,{viewDate:te,renderMonth:H,isValidDate:F,navigate:Oe,showView:ve,selectedDate:le,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.MONTHS?(de(t),fe(t)):ve(E.DAYS,te)}}),"days"===K&&Object(o.jsx)(w,{renderDay:B,isValidDate:F,navigate:Oe,showView:ve,timeFormat:C,viewDate:te,selectedDate:le,updateDate:function(e){var t=d()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-month")).date(+e.currentTarget.getAttribute("data-value"));ne(t),re===E.DAYS?(de(t),fe(t)):C&&ve(E.HOURS,te)}}),"time"===K&&C&&Object(o.jsx)(N,{viewDate:te,showView:ve,timeFormat:C,dateFormat:!0===T?"L":T,selectedDate:le,setTime:function(e,t){var n,a=le||te;switch(e){case"hours":n=a.hour(t);break;case"minutes":n=a.minute(t);break;case"seconds":n=a.second(t);break;case"milliseconds":n=a.millisecond(t)}de(n),ne(n),fe(n)},timeConstraints:I})]})})}},842:function(e,t,n){"use strict";var a=n(2),i=(n(1),n(45)),r=n(30),c=n(797),s=n(798);t.a=function(){return Object(a.jsx)(c.a,{className:"text-center",children:Object(a.jsxs)(s.a,{className:"p-5",children:[Object(a.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(a.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(a.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(a.jsxs)(r.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(a.jsx)(i.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},856:function(e,t,n){"use strict";var a=n(12),i=n(821),r=n(144);t.a=function(){return Object(r.a)({actionCreator:i.n,selector:function(e){return Object.values(e.time.timeTypes)},equality:a.d,deduplicate:["TimeCodes"]})}},858:function(e,t,n){"use strict";function a(e,t){return e+(1===t?"":"s")}n.d(t,"a",(function(){return a}))},907:function(e,t,n){"use strict";var a=n(2);n(1);t.a=function(e){var t=e.info,n=e.color,i=void 0===n?"black":n,r=e.label,c=e.className;return Object(a.jsxs)("div",{className:c,children:[Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("h1",{className:"text-"+i+" text-center",children:t})}),Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("h6",{className:"text-center",children:r})})]})}},941:function(e,t,n){"use strict";var a=n(32),i=n(821),r=n(144);t.a=function(e){return Object(r.a)({actionCreator:i.k,postParams:e,selector:function(t){return Object.values(t.time.timeOffBanks).filter((function(t){return t.personId===e}))},equality:a.isEqual,deduplicate:["getLeaveBanks",e]})}},947:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{value:"danger",label:"Red",text:"white"},{value:"warning",label:"Orange",text:"white"},{value:"success",label:"Green",text:"white"},{value:"info",label:"Sky Blue",text:"100"},{value:"primary",label:"Blue",text:"white"},{value:"secondary",label:"Gray",text:"white"},{value:"dark",label:"Dark",text:"white"},{value:"soft-danger",label:"Light Red",text:"800"},{value:"soft-warning",label:"Light Orange",text:"800"},{value:"soft-success",label:"Light Green",text:"700"},{value:"soft-info",label:"Baby Blue",text:"700"},{value:"soft-primary",label:"Light Blue",text:"800"},{value:"soft-dark",label:"Dark Gray",text:"100"},{value:"soft-secondary",label:"Light Gray",text:"800"},{value:"light",label:"Off White",text:"800"},{value:"soft-light",label:"Snow White",text:"700"},{value:"white",label:"White",text:"700"}]}}]);
//# sourceMappingURL=14.a18730ba.chunk.js.map