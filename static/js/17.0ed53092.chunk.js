(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[17],{1192:function(e,t,n){"use strict";n.r(t);n(1);var a=n(23),r=n(844),s=n(402),c=n(366),i=n(3),o=n(40),l=n(797),d=n(74),u=n.n(d),f=n(854),b=n(936),m=n(962),j=n(867),p=n(2),h=["value"],g=function(e,t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h6",{className:"mb-1",children:t.task.title}),Object(p.jsx)("p",{className:"fs--1 ml-3 my-0",children:t.description})]})},O=function(e,t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h6",{className:"mb-1",children:t.stage.identifier}),Object(p.jsx)("p",{className:"fs--1 ml-3 my-0",children:t.stage.title})]})},v=function(e){return Object(p.jsx)(l.a,{className:"fs--2",pill:!0,color:"soft-"+j.a[e],children:e})},x=function(){var e=Object(m.a)(),t=e.value,n=(Object(o.a)(e,h),Object(a.g)()),r=(null===t||void 0===t?void 0:t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{status:e.status[e.status.length-1]})})).sort(b.a))||[],s=[{dataField:"task.title",text:"Task",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:g,sort:!0,search:function(e){return e.task.title+" "+e.description}},{dataField:"stage.identifier",text:"Stage",headerClasses:"border-0 d-none d-lg-table-cell",classes:"border-0 py-2 align-middle d-none d-lg-table-cell",formatter:O,sort:!0,search:function(e){return e.stage.title+" "+e.stage.identifier}},{dataField:"dueDate",text:"Due Date",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:function(e){return e&&u()(e).format("MM/DD/YYYY")},sort:!0},{dataField:"status.title",text:"Status",headerClasses:"border-0",classes:"border-0 py-2 align-middle",formatter:v,sort:!0,search:!0}];return Object(p.jsx)(f.a,{title:"Assignments",paginationOptions:{sizePerPage:5},columns:s,data:r,search:!0,onSelectRow:function(e){var t;return(null===(t=e.stage)||void 0===t?void 0:t._id)&&e.stage.workflowId&&e.task._id&&n.push("/workflows/".concat(e.stage.workflowId,"/stage/").concat(e.stage._id,"/task/").concat(e.task._id))}})},k=function(){return Object(p.jsxs)(s.a,{children:[Object(p.jsx)(c.a,{xl:!0,children:Object(p.jsx)(x,{})}),Object(p.jsx)(c.a,{xl:!0})]})};t.default=function(e){var t=e.match.url;return Object(p.jsxs)(a.d,{children:[Object(p.jsx)(a.b,{path:"".concat(t,"/dashboard-alt"),exact:!0,component:r.a}),Object(p.jsx)(a.b,{path:"".concat(t,"/feed"),exact:!0,component:r.a}),Object(p.jsx)(a.b,{path:"".concat(t),component:k})]})}},816:function(e,t,n){"use strict";var a=n(3),r=n(40),s=(n(1),n(7)),c=n.n(s),i=n(276),o=n(45),l=n(2),d=["icon","iconAlign","iconClassName","transform","children"];t.a=function(e){var t=e.icon,n=e.iconAlign,s=void 0===n?"left":n,u=e.iconClassName,f=e.transform,b=e.children,m=Object(r.a)(e,d);return Object(l.jsxs)(i.a,Object(a.a)(Object(a.a)({},m),{},{children:["right"===s&&b,Object(l.jsx)(o.a,{icon:t,className:c()(u,{"mr-1":b&&"left"===s,"ml-1":b&&"right"===s}),transform:f}),"left"===s&&b]}))}},819:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],r=new Uint8Array(n.length),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return new Blob([r],{type:a})}},832:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return j}));var a=n(22),r=n.n(a),s=n(75),c=n(50),i=n(3),o=n(819),l=n(107),d=n(265).b;d.create=function(e,t){return{actions:[{name:"addTask",data:Object(i.a)(Object(i.a)({},e),{},{milestoneId:t})}]}};var u=function(e){return{actions:[{name:"updateTask",data:e}]}};d.update=u;var f=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i,d,u,f,b,m,j,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object(s.a)(t),e.prev=2,c.s();case 4:if((i=c.n()).done){e.next=12;break}return u=i.value,e.next=8,Object(l.a)(Object(o.a)(u.base64),"document",u.path);case 8:(null===(f=e.sent)||void 0===f?void 0:f.success)&&(null===(d=f.files)||void 0===d?void 0:d.document)&&a.push({location:null===(b=f.files)||void 0===b?void 0:b.document.name,thumb:(null===(m=f.files)||void 0===m?void 0:m.document.thumb)?{location:null===(j=f.files)||void 0===j?void 0:j.document.thumb}:void 0,title:u.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return p=[{name:"addTaskDocuments",data:{documents:a,taskId:n}}],e.abrupt("return",{actions:p});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();d.addTaskDocuments=f;var b=function(e,t,n,a,r){return{actions:[{name:"createAssignment",data:{taskId:e,assignment:{assignees:t,description:n,assignedHours:a,dueDate:r}}}]}};d.createAssignment=b;var m=function(e,t){return{actions:[{name:"updateAssignment",data:Object(i.a)({assignmentId:e},t)}]}};d.updateAssignment=m;var j=function(e){return{actions:[{name:"getPersonAssignments",data:{personId:e}}]}};d.getPersonAssignments=j;d.reorderAssignments=function(e){return{actions:e.map((function(e){return{name:"reorderAssignment",data:e}}))}}},837:function(e,t,n){"use strict";t.a=function(e){if(!e)return/./;var t=e.split(" ").map((function(e){return"(?=.*"+e.trim()+")"})).join("");return new RegExp(t,"i")}},844:function(e,t,n){"use strict";n(1);var a=n(45),r=n(30),s=n(795),c=n(796),i=n(2);t.a=function(){return Object(i.jsx)(s.a,{className:"text-center",children:Object(i.jsxs)(c.a,{className:"p-5",children:[Object(i.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(i.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(i.jsx)("hr",{}),Object(i.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(i.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(i.jsxs)(r.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(i.jsx)(a.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},854:function(e,t,n){"use strict";var a=n(3),r=n(75),s=n(26),c=n(40),i=n(1),o=n(795),l=n(406),d=n(796),u=n(45),f=n(68),b=n(850),m=n.n(b),j=n(866),p=n.n(j),h=n(885),g=n.n(h),O=n(402),v=n(366),x=n(276),k=n(2),w=["paginationOptions","csvExportRef","data","columns","classes","rowClasses","headerClasses","bordered","exportCSV","keyField","hover","noDataIndication","tabIndexCell","defaultSortDirection","rowStyle","onSelectRow"],C=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)(d.a,{children:"No Data Available"})})},y=function(e){var t=e.paginationOptions,n=e.csvExportRef,r=e.data,s=e.columns,i=e.classes,o=void 0===i?"table-dashboard table-striped table-sm fs--1 border-bottom border-200 mb-0 table-dashboard-th-nowrap":i,l=e.rowClasses,d=void 0===l?"btn-reveal-trigger border-top border-200":l,b=e.headerClasses,h=void 0===b?"bg-200 text-900 border-y border-200":b,y=e.bordered,N=void 0!==y&&y,S=e.exportCSV,P=(e.keyField,e.hover),D=void 0===P||P,z=e.noDataIndication,I=void 0===z?C:z,A=e.tabIndexCell,F=void 0===A||A,R=e.defaultSortDirection,T=void 0===R?"asc":R,E=e.rowStyle,_=e.onSelectRow,W=Object(c.a)(e,w),Y=function(e){var n=e.page,a=e.onPageChange;return function(){a&&a(n+1,t.sizePerPage)}},M=function(e){var n=e.page,a=e.onPageChange;return function(){a&&a(n-1,t.sizePerPage)}};return Object(k.jsx)(j.PaginationProvider,{pagination:p()(t),children:function(e){var t=e.paginationProps,c=e.paginationTableProps,i=t.page*t.sizePerPage;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"table-responsive",children:Object(k.jsx)(g.a,{keyField:"_id",data:r,columns:s,bootstrap4:!0,exportCSV:S,children:function(e){var t=e.baseProps,r=e.csvProps;return n&&(n.current=r),Object(k.jsx)(m.a,Object(a.a)(Object(a.a)(Object(a.a)({bordered:N,classes:o,rowClasses:d,headerClasses:h,hover:D,noDataIndication:I,tabIndexCell:F,defaultSortDirection:T,rowStyle:Object(a.a)({cursor:"pointer"},E),selectRow:_&&{mode:"radio",clickToSelect:!0,hideSelectColumn:!0,classes:"bg-soft-primary",onSelect:_}},W),t),c))}})}),Object(k.jsx)(O.a,{noGutters:!0,className:"px-1 py-3 flex-center",children:Object(k.jsxs)(v.a,{xs:"auto",children:[Object(k.jsx)(x.a,{color:"falcon-default",size:"sm",onClick:M(t),disabled:1===t.page,children:Object(k.jsx)(u.a,{icon:"chevron-left"})}),Object(f.d)(t.totalSize,t.sizePerPage).map((function(e){return Object(k.jsx)(x.a,{color:t.page===e?"falcon-primary":"falcon-default",size:"sm",className:"ml-2",onClick:function(){return t.onPageChange(e,t.sizePerPage)},children:e},e)})),Object(k.jsx)(x.a,{color:"falcon-default",size:"sm",className:"ml-2",onClick:Y(t),disabled:i>=t.totalSize,children:Object(k.jsx)(u.a,{icon:"chevron-right"})})]})})]})}})},N=n(258),S=n(816),P=n(271),D=n(837),z=["title","cardClass","handleNew","handleFilter","handleExport","filterContent","csvExportRef","search","componentSize","data","columns","paginationOptions","onSearchText"];t.a=function(e){var t=e.title,n=e.cardClass,u=e.handleNew,f=e.handleFilter,b=e.handleExport,m=e.filterContent,j=e.csvExportRef,p=e.search,h=e.componentSize,g=void 0===h?"sm":h,O=e.data,v=e.columns,x=e.paginationOptions,w=e.onSearchText,C=Object(c.a)(e,z),I=!1===b?void 0:b||j&&function(){var e;console.log(j.current),null===(e=j.current)||void 0===e||e.onExport()},A=Object(i.useState)(""),F=Object(s.a)(A,2),R=F[0],T=F[1];Object(i.useEffect)((function(){return w&&w(R)}),[R]);var E=Object(D.a)(R),_=R?O.filter((function(e){return v.map((function(t){if(t.search){if(!0!==t.search)return t.search(e);var n,a=t.dataField.split("."),s=e,c=Object(r.a)(a);try{for(c.s();!(n=c.n()).done;){var i=n.value;s="object"===typeof s?s[i]:void 0}}catch(o){c.e(o)}finally{c.f()}if(s)return s}})).filter((function(e){return e})).join(" ").match(E)})):O;return Object(k.jsxs)(o.a,{className:n,children:[Object(k.jsx)(N.a,{title:t,light:!1,children:Object(k.jsxs)(l.a,{inline:!0,children:[p&&Object(k.jsx)(P.a,{bsSize:"md"===g?void 0:g,value:R,onChange:function(e){return T(e.target.value)}}),u&&Object(k.jsx)(S.a,{icon:"plus",transform:"shrink-3 down-2",color:"falcon-default",size:g,className:"ml-2",onClick:u,children:"New"}),f&&Object(k.jsx)(S.a,{icon:"filter",transform:"shrink-3 down-2",color:"falcon-default",size:g,className:"ml-2",onClick:f,children:"Filter"}),I&&Object(k.jsx)(S.a,{icon:"external-link-alt",transform:"shrink-3 down-2",color:"falcon-default",size:g,className:"ml-2",onClick:I,children:"Export"})]})}),Object(k.jsxs)(d.a,{className:"p-0",children:[m,Object(k.jsx)(y,Object(a.a)({csvExportRef:j,columns:v,data:_,paginationOptions:Object(a.a)(Object(a.a)({},x),{},{custom:!0,totalSize:_.length||1})},C))]})]})}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"Not Started":"secondary","In Progress":"primary",Complete:"success","Running Late":"warning","Having Trouble":"warning",Waiting:"info","Past Due":"danger"}},936:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return e.complete?t.complete&&e.dueDate>t.dueDate?-1:1:t.complete?-1:e.dueDate>t.dueDate?1:-1}},962:function(e,t,n){"use strict";var a=n(12),r=n(3),s=n(106),c=n(832),i=n(144);var o=function(e){return Object(i.a)({actionCreator:c.c,selector:function(t){return Object.values(t.workflow.tasks).filter((function(e){return e.isMyAssignment})).reduce((function(t,n){return[].concat(Object(s.a)(t),Object(s.a)(n.assignments.filter((function(t){return t.assignees.find((function(t){return t.personId===e}))})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{task:{_id:n._id,title:n.title},stage:n.stage})}))))}),[])},equality:a.d,postParams:e,deduplicate:["assignments",e]})};t.a=function(){var e=Object(a.f)((function(e){return e.app.login.personId}));return o(e||"")}}}]);
//# sourceMappingURL=17.0ed53092.chunk.js.map