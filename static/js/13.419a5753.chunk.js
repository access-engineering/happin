(this.webpackJsonphappin=this.webpackJsonphappin||[]).push([[13],{1107:function(e,t,n){},1188:function(e,t,n){"use strict";n.r(t);var a,i,o,r,s,c=n(2),d=n(1),l=n.n(d),u=n(23),h=n(846),b=n(18),p=n.n(b),m=n(46),j=n(40),f=n(105),v=n(3),g=n(26),O=n(817),x=n(12),y=n(964),k=n(7),w=n.n(k),D=n(963),S=n(984),T=n(929),M=n(986),E=n(1e3),N=n(811),C=n(803),L=n(804),I=n(45),P=n(95),_=n(853),R=n(276),A=function(e){var t=e.text,n=void 0===t?"Submit":t,a=e.submitting,i=e.color,o=void 0===i?"primary":i,r=Object(j.a)(e,["text","submitting","color"]);return Object(c.jsxs)(R.a,Object(v.a)(Object(v.a)({color:o},r),{},{children:[n,a&&Object(c.jsx)(_.a,{color:"light",size:"sm"})]}))},Y=n(85),z=n(840),W=n(258),V=function(e){var t=e.category,n=e.items,a=e.categories,i=Object(d.useState)(!1),o=Object(g.a)(i,2),r=o[0],s=o[1],l=Object(W.a)(z.f);function u(){return(u=Object(m.a)(p.a.mark((function e(){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=3;break}return Y.c.error("Cannot remove category with items. Please remove all items from this category before removing."),e.abrupt("return");case 3:return e.next=5,l.post(a.filter((function(e){return e!==t})));case 5:(null===(i=e.sent)||void 0===i?void 0:i.success)?Y.c.success("Removed"):Y.c.error((null===i||void 0===i?void 0:i.error)||"Something went wrong");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=Object(m.a)(p.a.mark((function e(n){var i,o,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Object(f.a)(a)).sort((function(e,t){return"Complete"===e?1:"Complete"===t?-1:0})),o=i.findIndex((function(e){return e===t})),!((r=o+n)<0||r>a.length-2)){e.next=7;break}return Y.c.error("Couldn't move any more"),e.abrupt("return");case 7:return i[o]=i[o+n],i[o+n]=t,e.next=11,l.post(i);case 11:(null===(s=e.sent)||void 0===s?void 0:s.success)||Y.c.error((null===s||void 0===s?void 0:s.error)||"Failed to sort");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"kanban-column-header",children:[Object(c.jsxs)("h5",{className:"text-serif fs-0 mb-0",children:[t," ",Object(c.jsxs)("span",{className:"text-500",children:["(",n.length,")"]})]}),Object(c.jsxs)(D.a,{isOpen:r,toggle:function(){return s(!1)},children:[Object(c.jsx)(S.a,{children:"Remove Category"}),Object(c.jsx)(T.a,{children:n.length?"Please remove all items from the category first.":"Do you want to remove this category?"}),Object(c.jsx)(M.a,{tag:P.a,justify:"end",children:Object(c.jsx)(A,{onClick:function(){return u.apply(this,arguments)},submitting:l.loading,text:"Remove",color:"danger",disabled:!!n.length})})]}),Object(c.jsxs)(E.a,{className:"text-sans-serif btn-reveal-trigger",children:[Object(c.jsx)(N.a,{color:"reveal",size:"sm",className:"py-0 px-2",children:Object(c.jsx)(I.a,{icon:"ellipsis-h"})}),Object(c.jsxs)(C.a,{right:!0,className:"py-0",children:[Object(c.jsx)(L.a,{onClick:function(){return h(-1)},children:"Move Left"}),Object(c.jsx)(L.a,{onClick:function(){return h(1)},children:"Move Right"}),Object(c.jsx)(L.a,{divider:!0}),Object(c.jsx)(L.a,{className:"text-danger",onClick:function(){return s(!0)},children:"Remove"})]})]})]})},H=n(850),F=n(901),U=n(881),B=n(17);!function(e){e.TEAL="rgb(90, 132, 148, .7)",e.TRUEST_PINK="rgba(192, 129, 137, .7)",e.DEEP_PURPLE="rgba(111, 56, 87, .7)",e.BLUE="rgb(132, 175, 182, .7)",e.DARK_PINK="rgba(244, 193, 192, .7)"}(i||(i={})),function(e){e.TEAL="rgb(15, 91, 81, .8)",e.BLUE="rgb(4, 65, 102, .8)",e.YELLOW="rgb(107, 77, 0, .8)",e.RED="rgb(107, 0, 0, .8)",e.PURPLE="rgb(55, 7, 63, .8)"}(o||(o={})),function(e){e.TEAL="rgb(154, 237, 227, .8)",e.BLUE="rgb(159, 217, 232, .8)",e.YELLOW="rgb(235, 235, 200, .8)",e.RED="rgb(240, 200, 200, .8)",e.PURPLE="rgb(230, 210, 240, .8)"}(r||(r={})),function(e){e.SAND="rgb(235, 235, 200)",e.GREEN="rgb(190, 230, 210)",e.LAVENDER="rgb(230, 210, 240)",e.BLUE="rgb(170, 200, 230)",e.PINK="rgb(240, 200, 200)"}(s||(s={}));a={},Object(B.a)(a,o.TEAL,r.TEAL),Object(B.a)(a,o.BLUE,r.BLUE),Object(B.a)(a,o.YELLOW,r.YELLOW),Object(B.a)(a,o.RED,r.RED),Object(B.a)(a,o.PURPLE,r.PURPLE),s.SAND,o.YELLOW,s.GREEN,o.TEAL,s.BLUE,o.BLUE,s.LAVENDER,o.PURPLE,s.PINK,o.RED;var K=[s.SAND,s.GREEN,s.LAVENDER,s.BLUE,s.PINK],X=function(e){var t=e.color,n=e.setColor,a=e.colorOptions,i=void 0===a?K:a;return Object(c.jsxs)(F.a,{children:[Object(c.jsx)(U.a,{for:"colors",children:"Color"}),Object(c.jsx)(P.a,{justify:"between",children:i.map((function(e){return Object(c.jsx)("div",{className:"cursor-pointer border ".concat(t===e?"border-2x border-500":""),style:{backgroundColor:e,width:"2rem",height:"2rem"},onClick:function(){return n(e)}},e)}))})]})},G=n(813),Z=n(826),q=n(385).b,$=function(e,t,n,a){return{actions:[{name:"createToDo",data:{description:e,dueDate:n,kanban:t,color:a}}]}};q.createToDo=$;var J=function(e,t){return{actions:[{name:"editToDo",data:Object(v.a)({toDoId:e},t)}]}},Q=function(e){return{actions:[{name:"deleteToDo",data:{toDoId:e}}]}},ee=function(e){return{actions:[{name:"getToDos",data:{delimiter:e}}]}};q.reorderToDos=function(e){return{actions:e.map((function(e){return{name:"editToDo",data:{toDoId:e.toDoId,kanban:{sortIndex:e.sortIndex,category:e.category}}}}))}};var te=function(e){var t=e.category,n=e.index,a=e.isOpen,i=e.setIsOpen,o=Object(d.useState)(),r=Object(g.a)(o,2),l=r[0],u=r[1],h=Object(d.useState)(),b=Object(g.a)(h,2),j=b[0],f=b[1],v=Object(d.useState)(s[0]),O=Object(g.a)(v,2),x=O[0],y=O[1],k=Object(W.a)($);function w(){return(w=Object(m.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post(l,{category:t,sortIndex:n},j,x);case 2:(null===(a=e.sent)||void 0===a?void 0:a.success)?(Y.c.success("Created new to-do"),i(!1)):Y.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)(D.a,{isOpen:a,toggle:function(){return i(!1)},children:[Object(c.jsx)(S.a,{className:"bg-light border-bottom-0",children:"Add To-Do"}),Object(c.jsxs)(T.a,{children:[Object(c.jsx)(G.a,{id:"todo-description",type:"textarea",placeholder:"Enter description...",rows:4,value:l,onChange:function(e){return u(e.target.value)}}),Object(c.jsxs)(F.a,{children:[Object(c.jsx)(U.a,{for:"todo-duedate",children:"Due Date"}),Object(c.jsx)(Z.a,{timeFormat:!1,value:j,onChange:function(e){return f(e)}})]}),Object(c.jsx)(X,{color:x,setColor:y})]}),Object(c.jsx)(M.a,{className:"bg-light border-top-0",children:Object(c.jsx)(A,{submitting:k.loading,onClick:function(){return w.apply(this,arguments)}})})]})},ne=n(818),ae=n(797),ie=n(798),oe=n(799),re=n(910),se=function(e){return{cursor:e?"grabbing":"grab",transform:e?"rotate(-3deg)":"",transition:"all 0.3s ease-out"}},ce=n(869),de=n(73),le=n.n(de),ue=n(272),he=function(e){var t=e.assignment,n=e.category,a=e.index,i=e.lastIndex,o=e.fakeDragEvent,r=e.categories,s=(Object(x.f)((function(e){return e.app.login.personId})),t.assignees.map((function(e){return e.personId}))),d=ue.a.apply(void 0,Object(f.a)(s)).value,l=Object(u.g)(),h="draggable-assignment-".concat(t._id);return Object(c.jsx)(H.b,{draggableId:h,index:a,children:function(e,s){var u;return Object(c.jsx)("div",Object(v.a)(Object(v.a)(Object(v.a)({className:"kanban-item",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(c.jsx)(ae.a,{className:"kanban-item-card",style:se(s.isDragging),children:Object(c.jsxs)(ie.a,{children:[Object(c.jsxs)(P.a,{justify:"between",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{className:"mb-1",children:t.stage.identifier}),Object(c.jsx)("p",{className:"fs--2 my-0",children:Object(c.jsx)("i",{children:t.stage.title})})]}),Object(c.jsx)("div",{className:"mb-2",children:Object(c.jsx)(oe.a,{className:"badge-soft-".concat(ce.a[t.status[t.status.length-1].title]," d-inline-block py-1 mr-1 mb-1"),children:t.status[t.status.length-1].title},a+10)})]}),Object(c.jsx)("hr",{className:"my-1"}),Object(c.jsx)("h6",{className:"mb-1",children:Object(c.jsx)("i",{children:t.task.title})}),null===(u=t.description)||void 0===u?void 0:u.split("\n").map((function(e,t){return Object(c.jsx)("p",{className:"mb-1 fs--1",children:e},t)})),Object(c.jsxs)("div",{className:"kanban-item-footer",children:[Object(c.jsx)("div",{className:"text-500",children:le()(t.dueDate).format("MM/DD/YYYY")}),Object(c.jsx)("div",{children:Object(c.jsx)(re.a,{avatarSize:"m",showMembers:6,people:d||[]})}),Object(c.jsxs)(E.a,{className:"text-sans-serif",onClick:function(e){e.stopPropagation()},children:[Object(c.jsx)(N.a,{color:"falcon-default",size:"sm",className:"py-0 px-2",children:Object(c.jsx)(I.a,{icon:"ellipsis-h"})}),Object(c.jsxs)(C.a,{right:!0,className:"py-0",children:[a>0&&Object(c.jsx)(L.a,{onClick:function(){return o({reason:"DROP",draggableId:h,destination:{droppableId:n,index:a-1},source:{droppableId:n,index:a}})},children:"Move Up"}),a<i&&Object(c.jsx)(L.a,{onClick:function(){return o({reason:"DROP",draggableId:h,destination:{droppableId:n,index:a+1},source:{droppableId:n,index:a}})},children:"Move Down"}),!t.complete&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(L.a,{divider:!0}),r.filter((function(e){return e!==n})).map((function(e,t){return Object(c.jsx)(L.a,{onClick:function(){return o({reason:"DROP",draggableId:h,destination:{droppableId:e,index:0},source:{droppableId:n,index:a}})},children:e},t)}))]}),Object(c.jsx)(L.a,{divider:!0}),Object(c.jsx)(L.a,{className:"text-primary",onClick:function(){return l.push("/workflows/".concat(t.stage.workflowId,"/stage/").concat(t.stage._id,"/task/").concat(t.task._id))},children:"Go To Task"})]})]})]})]})})}))}})},be=n(860),pe=n.n(be),me=function(e){var t=e.toDo,n=e.setIsOpen,a=Object(d.useState)(),i=Object(g.a)(a,2),o=i[0],r=i[1],l=Object(d.useState)(),u=Object(g.a)(l,2),h=u[0],b=u[1],j=Object(d.useState)(s.SAND),f=Object(g.a)(j,2),v=f[0],O=f[1],x=Object(W.a)(J);function y(){return(y=Object(m.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post(t._id,{description:o,dueDate:h,kanban:{color:v}});case 2:(null===(a=e.sent)||void 0===a?void 0:a.success)?(Y.c.success("Updated to-do"),n(!1)):Y.c.error((null===a||void 0===a?void 0:a.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){r(t.description)}),[t.description]),Object(d.useEffect)((function(){b(t.dueDate)}),[t.dueDate]),Object(c.jsxs)(D.a,{isOpen:!0,toggle:function(){return n(!1)},children:[Object(c.jsx)(S.a,{}),Object(c.jsxs)(T.a,{children:[Object(c.jsx)(G.a,{id:"todo-description",type:"textarea",placeholder:"Enter description...",rows:4,value:o,onChange:function(e){return r(e.target.value)}}),Object(c.jsxs)(F.a,{children:[Object(c.jsx)(U.a,{for:"todo-duedate",children:"Due Date"}),Object(c.jsx)(Z.a,{timeFormat:!1,value:h,onChange:function(e){return b(e)}})]}),Object(c.jsx)(X,{color:v,setColor:O})]}),Object(c.jsx)(M.a,{tag:P.a,align:"bottom",justify:"end",children:Object(c.jsx)(A,{submitting:x.loading,onClick:function(){return y.apply(this,arguments)}})})]})},je=function(e){var t=e.toDo,n=e.category,a=e.index,i=e.lastIndex,o=e.categories,r=e.fakeDragEvent,s=Object(d.useState)(!1),l=Object(g.a)(s,2),u=l[0],h=l[1],b=Object(W.a)(Q);function j(){return f.apply(this,arguments)}function f(){return(f=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe()({title:"Delete To-Do?",message:"Are you sure you want to delete this To-Do?",confirmColor:"danger",confirmText:"Delete",cancelColor:"secondary",cancelText:"Cancel"});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,b.post(t._id);case 7:(null===(n=e.sent)||void 0===n?void 0:n.success)?Y.c.success("Deleted to-do"):Y.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O="draggable-todo-".concat(t._id);return Object(c.jsx)(H.b,{draggableId:"draggable-todo-".concat(t._id),index:a,children:function(e,s){return Object(c.jsxs)("div",Object(v.a)(Object(v.a)(Object(v.a)({className:"kanban-item",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(c.jsx)(ae.a,{className:"kanban-item-card",style:Object(v.a)(Object(v.a)({},se(s.isDragging)),{},{backgroundColor:t.kanban.color||"rgb(255, 255, 200)",color:"rgb(50, 50, 50)"}),children:Object(c.jsxs)(ie.a,{children:[t.description.split("\n").map((function(e,t){return Object(c.jsx)("p",{className:"mb-1 fs--1 text-sans-serif",children:e},t)})),Object(c.jsxs)("div",{className:"kanban-item-footer",children:[Object(c.jsx)("div",{className:"text-500",children:t.dueDate&&le()(t.dueDate).format("MM/DD/YYYY")}),Object(c.jsxs)(E.a,{className:"text-sans-serif",onClick:function(e){e.stopPropagation()},children:[Object(c.jsx)(N.a,{color:"falcon-default",size:"sm",className:"py-0 px-2",children:Object(c.jsx)(I.a,{icon:"ellipsis-h"})}),Object(c.jsxs)(C.a,{right:!0,className:"py-0",children:[a>0&&Object(c.jsx)(L.a,{onClick:function(){return r({reason:"DROP",draggableId:O,destination:{droppableId:n,index:a-1},source:{droppableId:n,index:a}})},children:"Move Up"}),a<i&&Object(c.jsx)(L.a,{onClick:function(){return r({reason:"DROP",draggableId:O,destination:{droppableId:n,index:a+1},source:{droppableId:n,index:a}})},children:"Move Down"}),Object(c.jsx)(L.a,{divider:!0}),o.filter((function(e){return e!==n})).map((function(e){return Object(c.jsx)(L.a,{onClick:function(){return r({reason:"DROP",draggableId:O,destination:{droppableId:e,index:0},source:{droppableId:n,index:a}})},children:e},e)})),Object(c.jsx)(L.a,{divider:!0}),Object(c.jsx)(L.a,{className:"text-primary",onClick:function(){return h(!0)},children:"Edit"}),Object(c.jsx)(L.a,{className:"text-danger",onClick:j,children:"Delete"})]})]})]})]})}),u&&Object(c.jsx)(me,{toDo:t,setIsOpen:h})]}))}})},fe=function(e){var t=e.category,n=e.index,a=e.items,i=e.categories,o=e.fakeDragEvent,r=Object(d.useState)(!1),s=Object(g.a)(r,2),l=s[0],u=s[1],h=a.sort((function(e,t){var n=e.kanban.sortIndex||0,a=t.kanban.sortIndex||0;return n===a?e._id>t._id?1:-1:n>a?1:-1}));return Object(c.jsxs)("div",{className:w()("kanban-column",{"form-added":l}),children:[Object(c.jsx)(V,{category:t,items:a,categories:i}),Object(c.jsx)(H.c,{droppableId:t,children:function(e,a){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",Object(v.a)(Object(v.a)({className:"kanban-items-container scrollbar",id:"container-".concat(n),ref:e.innerRef},e.droppableProps),{},{children:[h.map((function(e,n,a){switch(e.type){case"assignment":return Object(c.jsx)(he,{categories:i,assignment:e,category:t,index:n,lastIndex:a.length-1,fakeDragEvent:o},e._id);case"todo":return Object(c.jsx)(je,{toDo:e,category:t,index:n,lastIndex:a.length-1,fakeDragEvent:o,categories:i},e._id)}})),l&&Object(c.jsx)(te,{category:t,index:h.length,isOpen:l,setIsOpen:u}),e.placeholder]})),!l&&Object(c.jsx)("div",{className:"kanban-column-footer",children:Object(c.jsx)(ne.a,{className:"btn-add-card text-600 text-decoration-none",color:"link",block:!0,icon:"plus",iconClassName:"mr-1",size:"sm",onClick:function(){u(!0)},children:"Add a Personal To-Do"})})]})}})]})},ve=n(403),ge=n(365),Oe=function(e){var t=e.categories,n=Object(d.useState)(!1),a=Object(g.a)(n,2),i=a[0],o=a[1],r=Object(d.useState)(),s=Object(g.a)(r,2),l=s[0],u=s[1],h=Object(W.a)(z.f),b=function(){var e=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post(Array.from(new Set([].concat(Object(f.a)(t),[l]))));case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)?(Y.c.success("Added category"),o(!1),u(void 0)):Y.c.error((null===n||void 0===n?void 0:n.error)||"Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(ve.a,{noGutters:!0,className:"bg-100 rounded-soft px-card py-2 mt-2 mb-3 btn-reveal-trigger",children:Object(c.jsxs)(ge.a,{tag:P.a,align:"center",justify:"between",children:[Object(c.jsx)("h5",{className:"mb-0",children:"Assignments"}),Object(c.jsx)(ne.a,{id:"add-kanban-category",color:"link",icon:"plus",iconAlign:"right",size:"sm",className:"btn-reveal text-decoration-none",onClick:function(){return o(!0)},children:"Add Category"}),Object(c.jsxs)(D.a,{isOpen:i,toggle:function(){return o(!1)},children:[Object(c.jsx)(S.a,{className:"bg-light border-bottom-0",children:"Add Category"}),Object(c.jsx)(T.a,{children:Object(c.jsx)(G.a,{id:"new-category-title",label:"Title",value:l,onChange:function(e){return u(e.target.value)}})}),Object(c.jsx)(M.a,{tag:P.a,align:"bottom",justify:"end",className:"bg-light border-top-0",children:Object(c.jsx)(R.a,{color:"primary",onClick:b,children:"Submit"})})]})]})})},xe=n(183),ye=n.n(xe),ke=n(144);var we=function(){return Object(ke.a)({actionCreator:z.b,selector:function(e){var t,n;return null===(t=e.app.options)||void 0===t||null===(n=t.kanban)||void 0===n?void 0:n.categories},deduplicate:["kanbanCategories"]})};var De=function(e){return Object(ke.a)({actionCreator:ee,postParams:e,selector:function(e){return Object.values(e.management.toDos)},equality:x.d,deduplicate:["toDos",e||"top"]})},Se=n(834);function Te(e,t,n,a){for(var i=[],o=[],r=0;r<e.length;r++){var s=e[r];if(s)switch(s.type){case"assignment":var c=s.assignees.find((function(e){return e.personId===a}));c.sortIndex===r&&c.category===t||(n(Se.d.upsert({assignments:[{_id:s._id,assignees:[{_id:c._id,sortIndex:r}]}]},s.task._id)),i.push({taskId:s.task._id,assignmentId:s._id,sortIndex:r,category:t}));break;case"todo":s.kanban.sortIndex===r&&s.kanban.category===t||(n(q.upsert({kanban:{sortIndex:r}},s._id)),o.push({toDoId:s._id,sortIndex:r,category:t}))}}return{movedAssignments:i,movedToDos:o}}function Me(e,t,n,a,i,o){var r=e.split("-"),s=Object(g.a)(r,3),c=(s[0],s[1]),d=s[2],l=i.get(t).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1})),u=l.findIndex((function(e){return e.type===c&&e._id===d}));return-1===u?(Y.c.error("there was a problem re-sorting out"),{movedAssignments:[],movedToDos:[]}):(l.splice(u,1),i.set(t,l.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{kanban:Object(v.a)(Object(v.a)({},e.kanban),{},{sortIndex:t})})}))),Te(l,t,a,o))}function Ee(e,t,n,a,i,o,r){var s=e.split("-"),c=Object(g.a)(s,3),d=(c[0],c[1]),l=c[2],u=o.get(t).find((function(e){return e._id===l&&e.type===d}));if(!u)return Y.c.error("there was a problem re-sorting in"),{movedAssignments:[],movedToDos:[]};var h=o.get(n).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1}));return h.splice(a,0,u),o.set(n,h.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{kanban:Object(v.a)(Object(v.a)({},e.kanban),{},{sortIndex:t})})}))),Te(h,n,i,r)}function Ne(e,t,n,a,i,o){var r=i.get(t).slice().sort((function(e,t){return e.kanban.sortIndex>t.kanban.sortIndex?1:-1})),s=e.split("-"),c=Object(g.a)(s,3),d=(c[0],c[1]),l=c[2],u=r.splice(r.findIndex((function(e){return e._id===l&&e.type===d})),1);return u.length?(r.splice.apply(r,[n,0].concat(Object(f.a)(u))),i.set(t,r.map((function(e,t){return Object(v.a)(Object(v.a)({},e),{},{kanban:Object(v.a)(Object(v.a)({},e.kanban),{},{sortIndex:t})})}))),Te(r,t,a,o)):(Y.c.error("there was a problem re-sorting"),{movedAssignments:[],movedToDos:[]})}var Ce,Le=function(){var e=Object(x.f)((function(e){return e.app.login.personId})),t=Object(d.useState)(),n=Object(g.a)(t,2),a=n[0],i=(n[1],Object(d.useState)()),o=Object(g.a)(i,2),r=o[0],s=o[1],l=we(),u=l.value,h=(Object(j.a)(l,["value"]),Object(y.a)()),b=h.value,k=Object(j.a)(h,["value"]),w=De(a),D=w.value,S=(Object(j.a)(w,["value"]),Object(W.a)(Se.d.reorderAssignments)),T=Object(W.a)(q.reorderToDos),M=Object(d.useRef)(null),E=Object(x.e)(),N=new Map(null===u||void 0===u?void 0:u.map((function(e){return[e,[]]})));Object(d.useEffect)((function(){var e;ye.a.ipad()&&(null===(e=M.current)||void 0===e||e.classList.add("ipad"));if(ye.a.mobile()){var t,n,a;if(null===(t=M.current)||void 0===t||t.classList.add("mobile"),ye.a.safari())null===(n=M.current)||void 0===n||n.classList.add("safari");if(ye.a.chrome())null===(a=M.current)||void 0===a||a.classList.add("chrome")}}),[]),null===b||void 0===b||b.forEach((function(t){var n=t.assignees.find((function(t){return t.personId===e})),a=t.complete?"Complete":(null===n||void 0===n?void 0:n.category)||"Uncategorized",i=Object(v.a)(Object(v.a)({},t),{},{type:"assignment",kanban:{category:a,sortIndex:(null===n||void 0===n?void 0:n.sortIndex)||0}});N.has(a)?N.get(a).push(i):N.set(a,[i])})),null===D||void 0===D||D.forEach((function(e){var t=e.complete?"Complete":e.kanban.category||"Uncategorized",n=Object(v.a)(Object(v.a)({},e),{},{type:"todo",kanban:{category:t,sortIndex:e.kanban.sortIndex||0,color:e.kanban.color}});N.has(t)?N.get(t).push(n):N.set(t,[n])}));var C=r||N;function L(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post(t);case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)||Y.c.error("There was a problem re-sorting the assignments. Please refresh the page and try again.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post(t);case 2:(null===(n=e.sent)||void 0===n?void 0:n.success)||Y.c.error("There was a problem re-sorting the todos. Please refresh the page and try again.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(t){var n=void 0,a=void 0;"DROP"===t.reason&&t.destination&&(t.destination.droppableId!==t.source.droppableId?(n=t.destination.droppableId,a=t.destination.index):t.destination.index!==t.source.index&&(a=t.destination.index)),void 0!==a&&Object(x.b)(function(e,t,n,a,i){return Object(m.a)(p.a.mark((function o(){var r,c,d,l,u,h,b,m,j,v,g,O;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=new Map(a),void 0===t){o.next=12;break}return c=Ee(e.draggableId,e.source.droppableId,t,e.destination.index,n,r,i),d=c.movedAssignments,l=c.movedToDos,u=Me(e.draggableId,e.source.droppableId,e.source.index,n,r,i),h=u.movedAssignments,b=u.movedToDos,m=[].concat(Object(f.a)(h),Object(f.a)(d)),j=[].concat(Object(f.a)(b),Object(f.a)(l)),s(r),o.next=9,Promise.all([m.length>0?L(m):Promise.resolve(),j.length>0?_(j):Promise.resolve()]);case 9:s(void 0),o.next=17;break;case 12:return v=Ne(e.draggableId,e.source.droppableId,e.destination.index,n,r,i),g=v.movedAssignments,O=v.movedToDos,s(r),o.next=16,Promise.all([g.length>0?L(g):Promise.resolve(),O.length>0?_(O):Promise.resolve()]);case 16:s(void 0);case 17:case"end":return o.stop()}}),o)})))}(t,n,E,C,e))}var z=Array.from(C.keys())||[];return Object(c.jsxs)(O.a,{dataLoader:k,children:[Object(c.jsx)(Oe,{categories:z}),Object(c.jsx)(H.a,{onDragEnd:A,children:Object(c.jsx)("div",{className:"kanban-container scrollbar",ref:M,children:Array.from(C.keys()).sort((function(e,t){return"Complete"===e?1:"Complete"===t?-1:0})).map((function(e,t){return Object(c.jsx)(fe,{category:e,index:t,items:C.get(e)||[],categories:z,fakeDragEvent:A},t)}))})}),Object(c.jsx)(P.a,{})]})},Ie=n(402),Pe=n(409),_e=n(809),Re=n(993),Ae=n(261),Ye=n(262),ze=n(838),We=n(837),Ve=n(195),He={header:{top:{style:{}},middle:{style:{},selectedStyle:{}},bottom:{style:{},selectedStyle:{}}},taskList:{title:{label:"Projects",style:{}},task:{style:{}},verticalSeparator:{style:{},grip:{style:{}}}},dataViewPort:{rows:{style:{}},task:{showLabel:!1,style:{},selectedStyle:{}}},links:{color:"black",selectedColor:"#ff00fa"}},Fe=new(function(){function e(){var t=this;Object(Ae.a)(this,e),this.data=void 0,this.load=function(e){t.data={},e?t.populate(e,He,t.data):t.data=He},this.data=He}return Object(Ye.a)(e,[{key:"populate",value:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)(null===e||void 0===e?void 0:e[a])?(n[a]=e[a],this.populate(e[a],t[a],n[a])):n[a]=t[a]}},{key:"values",get:function(){return this.data}}]),e}()),Ue=function(e){Object(ze.a)(n,e);var t=Object(We.a)(n);function n(e){var a;return Object(Ae.a)(this,n),(a=t.call(this,e)).draggingPosition=void 0,a.doMouseMove=a.doMouseMove.bind(Object(Ve.a)(a)),a.doMouseDown=a.doMouseDown.bind(Object(Ve.a)(a)),a.doMouseUp=a.doMouseUp.bind(Object(Ve.a)(a)),a.state={dragging:!1},a}return Object(Ye.a)(n,[{key:"doMouseDown",value:function(e){0===e.button&&(this.draggingPosition=e.clientX,this.setState({dragging:!0}))}},{key:"componentDidUpdate",value:function(e,t){this.state.dragging&&!t.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)):!this.state.dragging&&t.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp))}},{key:"doMouseMove",value:function(e){if(this.state.dragging){if(e.stopPropagation(),!this.draggingPosition)return;var t=this.draggingPosition-e.clientX;this.draggingPosition=e.clientX,this.props.onTaskListSizing(t)}}},{key:"doMouseUp",value:function(e){this.setState({dragging:!1})}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"verticalResizer",style:Fe.values.taskList.verticalSeparator.style,onMouseDown:this.doMouseDown,children:[Object(c.jsx)("div",{className:"squareGrip",style:Fe.values.taskList.verticalSeparator.grip.style}),Object(c.jsx)("div",{className:"squareGrip",style:Fe.values.taskList.verticalSeparator.grip.style}),Object(c.jsx)("div",{className:"squareGrip",style:Fe.values.taskList.verticalSeparator.grip.style}),Object(c.jsx)("div",{className:"squareGrip",style:Fe.values.taskList.verticalSeparator.grip.style})]})}}]),n}(d.Component),Be=n(1105),Ke=n.n(Be),Xe=n(1106),Ge=n.n(Xe);!function(e){e[e.NONE=0]="NONE",e[e.MOVE=1]="MOVE",e[e.MOVE_RESIZE_LEFT=2]="MOVE_RESIZE_LEFT",e[e.MOVE_RESIZE_RIGHT=3]="MOVE_RESIZE_RIGHT"}(Ce||(Ce={}));var Ze,qe,$e,Je=5e3;!function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"}(Ze||(Ze={})),function(e){e[e.DAY_IN_YEAR_MODE=4]="DAY_IN_YEAR_MODE",e[e.DAY_IN_MONTH_MODE=24]="DAY_IN_MONTH_MODE",e[e.DAY_IN_WEEK_MODE=480]="DAY_IN_WEEK_MODE",e[e.DAY_IN_DAY_MODE=1440]="DAY_IN_DAY_MODE",e[e.HOUR_IN_WEEK_MODE=20]="HOUR_IN_WEEK_MODE",e[e.HOUR_IN_DAY_MODE=60]="HOUR_IN_DAY_MODE"}(qe||(qe={})),function(e){e.RIGHT="LINK_POS_RIGHT",e[e.LEFT=void 0]="LEFT"}($e||($e={}));var Qe=36e5,et=new(function(){function e(){var t=this;Object(Ae.a)(this,e),this.dayToPosition=function(e,t,n){return e*n+t},this.daysInYear=function(e){return t.isLeapYear(e)?366:365}}return Object(Ye.a)(e,[{key:"dateToPixel",value:function(e,t,n){var a=this.getToday(),i=new Date(e.toString()),o=60*(i.getTimezoneOffset()-a.getTimezoneOffset())*1e3;return(i.getTime()-a.getTime()-o)/Qe*(n/24)+t}},{key:"pixelToDate",value:function(e,t,n){var a=24/n,i=e-t,o=this.getToday(),r=o.getTime()+i*a*Qe,s=new Date(r),c=60*(s.getTimezoneOffset()-o.getTimezoneOffset())*1e3;return s.setTime(s.getTime()+c),s}},{key:"getToday",value:function(){var e=new Date;return e.setHours(0,0,0,0),e}},{key:"monthDiff",value:function(e,t){return Math.abs(t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()))}},{key:"daysInMonth",value:function(e,t){return new Date(t,e,0).getDate()}},{key:"isLeapYear",value:function(e){return e%400===0||e%100!==0&&e%4===0}}]),e}()),tt=(n(1107),function(e){var t=e.left,n=e.width,a=e.label,i=e.className;return Object(c.jsx)("div",{className:["header-item",i||""].join(" "),style:{left:t,width:n},children:Object(c.jsx)("div",{children:a})})});le.a.extend(Ke.a),le.a.extend(Ge.a);var nt=function(e){Object(ze.a)(n,e);var t=Object(We.a)(n);function n(e){var a;return Object(Ae.a)(this,n),(a=t.call(this,e)).hours=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],a.renderHourLabel=function(e,t){return"shorttime"==t?e:"".concat(e,":00")},a.headerRef=void 0,a.buffer=400,a.dateFormat={year:"YYYY",month:"MMMM",shortMonth:"MMM",monthTop:"MMMM YYYY",week:"ww",weekTop:"ww MMMM YYYY",weekday:"dd",monthDate:"D",shortTime:void 0,fullTime:void 0},a.topLabels={month:"monthTop",week:"weekTop"},a.getStartDate=function(e,t){switch(t){case"year":return e.month(0).date(1);case"month":case"shortMonth":return e.date(1);case"week":return e.day(0);case"weekdays":return e.day(1);case"weekend":return e.day(0).subtract(1,"day");default:return e}},a.renderTime=function(e,t,n,i){return Object(c.jsxs)("div",{style:{position:"absolute",height:20,left:e,width:t},children:[" ",a.hours.map((function(e){return Object(c.jsx)(tt,{left:t/24*e,width:t/24,label:a.renderHourLabel(e,n)},e)}))]},i)},a.reloads=0,a.props.renderHourLabel&&(a.renderHourLabel=a.props.renderHourLabel),a.headerRef=l.a.createRef(),a.state={cache:a.getNewCache()},a}return Object(Ye.a)(n,[{key:"getModeIncrement",value:function(e,t){switch(t){case"year":return et.daysInYear(e.year());case"shortMonth":case"month":return e.daysInMonth();case"week":return 7;case"weekend":return 2;case"weekdays":return 5;default:return 1}}},{key:"getBox",value:function(e,t,n){var a=this.getModeIncrement(e,t);if(!n){var i=this.getStartDate(e,t).startOf("day"),o=le()().startOf("day"),r=i.diff(o,"day");n=et.dayToPosition(r,this.props.nowPosition,this.props.dayWidth)}return{left:n,width:a*=this.props.dayWidth}}},{key:"refreshCache",value:function(){var e=this.getNewCache();this.setState({cache:e}),this.reloads++,console.log("reloads "+this.reloads)}},{key:"getNewCache",value:function(){var e,t,n;switch(this.props.mode){case Ze.DAY:e="week",t="weekday",n="fullTime";break;case Ze.WEEK:e="week",t="weekday",n="shortTime";break;case Ze.MONTH:e="month",t="weekday",n="monthDate";break;case Ze.YEAR:e="year",t=this.props.dayWidth>2?"month":"shortMonth",n="week"}for(var a=3*this.buffer,i=0-a,o={top:[],middle:[],bottom:[],weekends:[],start:i,end:this.props.mainViewportWidth+a,refreshLow:this.props.nowPosition-a,refreshHi:this.props.nowPosition+a,boxStart:i-this.buffer,boxWidth:this.props.mainViewportWidth+2*a+2*this.buffer},r={},s="",c="",d="",l=null,u=et.pixelToDate(o.boxStart,this.props.nowPosition,this.props.dayWidth),h=et.pixelToDate(o.boxStart+o.boxWidth,this.props.nowPosition,this.props.dayWidth),b=0,p=le()(u).startOf("day");p.isBefore(h);){var m=p.format(this.dateFormat[this.topLabels[e]||e]);if(s!==m){s=m,l=this.getBox(p,e,r.top),r.top=l.left+l.width;var j=this.props.nowPosition,f=l.left,v=l.width,g=b;o.top.push({left:f-j,width:v,key:g,label:s})}var O=p.format(this.dateFormat[t]);if(c!==O){c=O,l=this.getBox(p,t,r.middle),r.middle=l.left+l.width;var x=this.props.nowPosition,y=l.left,k=l.width,w=b;o.middle.push({left:y-x,width:k,key:w,label:c})}var D=p.format(this.dateFormat[n]);if(d!==D){d=D,l=this.getBox(p,n,r.bottom),r.bottom=l.left+l.width;var S=this.props.nowPosition,T=l.left,M=l.width,E=b;("shortTime"===n||"fullTime"===n)&&this.props.dayWidth>700?o.bottom.push({time:n,left:T,width:M,key:E}):o.bottom.push({left:T-S,width:M,key:E,label:d})}var N=p.day();if(6===N)l=this.getBox(p,"weekdays",r.weekends),r.weekends=l.left+l.width;else if(0===N){l=this.getBox(p,"weekend",r.weekends);var C=this.props.nowPosition,L=l.left,I=l.width;r.weekends=l.left+l.width,o.weekends.push({left:L-C,width:I})}b++,p=p.add(1,"day")}return o}},{key:"componentDidUpdate",value:function(e){var t;if(!(null===(t=this.state)||void 0===t?void 0:t.cache))this.refreshCache();else{var n=this.state.cache.refreshLow>this.props.nowPosition,a=this.state.cache.refreshHi<this.props.nowPosition;(n||a||e.dayWidth!==this.props.dayWidth)&&this.refreshCache()}}},{key:"render",value:function(){var e,t,n,a,i=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{id:"timeline-header",ref:this.headerRef,className:"timeLine-main-header-viewPort",children:Object(c.jsxs)("div",{className:"timeLine-main-header-container",style:{width:Je,maxWidth:Je},children:[Object(c.jsx)("div",{className:"header-top",style:Object(v.a)({},Fe.values.header.top.style),children:null===(e=this.state.cache)||void 0===e?void 0:e.top.map((function(e){return Object(c.jsx)(tt,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)}))}),Object(c.jsx)("div",{className:"header-middle",style:Object(v.a)({},Fe.values.header.middle.style),children:this.props.dayWidth>.85&&(null===(t=this.state.cache)||void 0===t?void 0:t.middle.map((function(e){return Object(c.jsx)(tt,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)})))}),Object(c.jsx)("div",{className:"header-bottom",style:Object(v.a)({},Fe.values.header.bottom.style),children:this.props.dayWidth>2&&(null===(n=this.state.cache)||void 0===n?void 0:n.bottom.map((function(e){return e.time?i.renderTime(e.left+i.props.nowPosition,e.width,e.time,e.key):Object(c.jsx)(tt,{left:e.left+i.props.nowPosition,width:e.width,label:e.label},e.key)})))})]})}),this.props.children(null===(a=this.state.cache)||void 0===a?void 0:a.weekends)]})}}]),n}(d.Component),at=function(e){Object(ze.a)(n,e);var t=Object(We.a)(n);function n(e){var a;return Object(Ae.a)(this,n),(a=t.call(this,e)).draggingPosition=void 0,a.onCreateLinkMouseDown=function(e,t){0===e.button&&(e.stopPropagation(),a.props.onStartCreateLink(a.props.item,t))},a.onCreateLinkMouseUp=function(e,t){e.stopPropagation(),a.props.onFinishCreateLink(a.props.item,t)},a.onCreateLinkTouchStart=function(e,t){2===e.touches.length&&(e.stopPropagation(),a.props.onStartCreateLink(a.props.item,t))},a.onCreateLinkTouchEnd=function(e,t){e.stopPropagation(),a.props.onFinishCreateLink(a.props.item,t)},a.doMouseDown=function(e,t){a.props.onUpdateTask&&0===e.button&&(e.stopPropagation(),a.dragStart(e.clientX,t))},a.doMouseMove=function(e){a.state.dragging&&(e.stopPropagation(),a.dragProcess(e.clientX))},a.doMouseUp=function(){a.dragEnd()},a.doTouchStart=function(e,t){a.props.onUpdateTask&&(e.stopPropagation(),a.dragStart(e.touches[0].clientX,t))},a.doTouchMove=function(e){a.state.dragging&&(e.stopPropagation(),a.dragProcess(e.changedTouches[0].clientX))},a.doTouchEnd=function(e){a.dragEnd()},a.calculateStyle=a.calculateStyle.bind(Object(Ve.a)(a)),a.state={dragging:!1,left:a.props.left,width:a.props.width,mode:Ce.NONE},a}return Object(Ye.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.dragging&&!t.dragging?(document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp),document.addEventListener("touchmove",this.doTouchMove),document.addEventListener("touchend",this.doTouchEnd)):!this.state.dragging&&t.dragging&&(document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp),document.removeEventListener("touchmove",this.doTouchMove),document.removeEventListener("touchend",this.doTouchEnd))}},{key:"dragStart",value:function(e,t){this.props.onChildDrag(!0),this.draggingPosition=e,this.setState({dragging:!0,mode:t,left:this.props.left,width:this.props.width})}},{key:"dragProcess",value:function(e){if(this.draggingPosition){var t=this.draggingPosition-e,n=this.state.left,a=this.state.width;switch(this.state.mode){case Ce.MOVE:n=this.state.left-t;break;case Ce.MOVE_RESIZE_LEFT:n=this.state.left-t,a=this.state.width+t;break;case Ce.MOVE_RESIZE_RIGHT:a=this.state.width-t}var i={item:this.props.item,position:{start:n-this.props.nowPosition,end:n+a-this.props.nowPosition}};this.props.onTaskChanging(i),this.setState({left:n,width:a}),this.draggingPosition=e}}},{key:"dragEnd",value:function(){this.props.onChildDrag(!1);var e=et.pixelToDate(this.state.left,this.props.nowPosition,this.props.dayWidth),t=et.pixelToDate(this.state.left+this.state.width,this.props.nowPosition,this.props.dayWidth);this.props.onUpdateTask&&this.props.onUpdateTask(this.props.item,{start:e,end:t}),this.setState({dragging:!1,mode:Ce.NONE})}},{key:"calculateStyle",value:function(){var e=this.props.isSelected?Fe.values.dataViewPort.task.selectedStyle:Fe.values.dataViewPort.task.style,t=this.props.color||e.backgroundColor,n=this.props.item.borderColor||e.borderColor;return this.state.dragging?Object(v.a)(Object(v.a)({},e),{},{borderColor:n,backgroundColor:t,left:this.state.left,width:this.state.width,height:this.props.height-5,top:2}):Object(v.a)(Object(v.a)({},e),{},{borderColor:n,backgroundColor:t,left:this.props.left,width:this.props.width,height:this.props.height-5,top:2})}},{key:"render",value:function(){var e=this,t=this.calculateStyle();return Object(c.jsxs)("div",{className:"gantt-task rounded"+(this.props.isSelected?" selected":""),onMouseDown:function(t){return e.doMouseDown(t,Ce.MOVE)},onTouchStart:function(t){return e.doTouchStart(t,Ce.MOVE)},onClick:function(t){e.props.onSelectItem(e.props.item)},style:t,children:[Object(c.jsx)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:-8,height:t.height},onMouseDown:function(t){return e.doMouseDown(t,Ce.MOVE_RESIZE_LEFT)},onTouchStart:function(t){return e.doTouchStart(t,Ce.MOVE_RESIZE_LEFT)},children:Object(c.jsx)("div",{className:"timeLine-main-data-task-side-linker",onMouseUp:function(t){return e.onCreateLinkMouseUp(t,$e.LEFT)},onTouchEnd:function(t){return e.onCreateLinkTouchEnd(t,$e.LEFT)}})}),Object(c.jsx)("div",{style:{overflow:"hidden"},children:this.props.item.label}),Object(c.jsx)("div",{className:"timeLine-main-data-task-side",style:{top:0,left:t.width-8,height:t.height},onMouseDown:function(t){return e.doMouseDown(t,Ce.MOVE_RESIZE_RIGHT)},onTouchStart:function(t){return e.doTouchStart(t,Ce.MOVE_RESIZE_RIGHT)},children:Object(c.jsx)("div",{className:"timeLine-main-data-task-side-linker",onMouseDown:function(t){return e.onCreateLinkMouseDown(t,$e.RIGHT)},onTouchStart:function(t){return e.onCreateLinkTouchStart(t,$e.RIGHT)}})})]})}}]),n}(d.Component),it=n(1108),ot=function(e){e.left;var t=e.top,n=e.itemHeight,a=e.style,i=e.children;return Object(c.jsx)("div",{className:"timeLine-main-data-row",style:Object(v.a)(Object(v.a)(Object(v.a)({},Fe.values.dataViewPort.rows.style),a),{},{top:t,height:n}),children:i})},rt=n.n(it)()({monitorWidth:!0,monitorHeight:!0})((function(e){e.startRow,e.endRow;var t=e.itemHeight,n=e.data,a=e.nowPosition,i=e.dayWidth,o=e.selectedItems,r=e.onSelectItem,s=e.onStartCreateLink,l=e.onFinishCreateLink,u=e.onTaskChanging,h=e.onUpdateTask,b=e.onMouseUp,p=e.onMouseLeave,m=e.onTouchEnd,j=e.onMouseDown,f=e.onMouseMove,v=e.onTouchMove,O=e.onTouchStart,x=e.onTouchCancel,y=(e.scrollLeft,e.scrollTop),k=(e.boundaries,e.height),w=e.weekends,D=e.shouldLink,S=Object(d.useState)(!1),T=Object(g.a)(S,2),M=T[0],E=T[1],N=Object(d.useRef)(null),C=Object(d.useState)("link-inactive"),L=Object(g.a)(C,2),I=(L[0],L[1]);return Object(d.useEffect)((function(){N.current&&(N.current.scrollLeft=0)}),[N.current]),N.current&&(N.current.scrollLeft=0,N.current.scrollTop=y),Object(c.jsx)("div",{ref:N,id:"timeLinedataViewPort",className:"timeLine-main-data-viewPort "+(D?"link-active":"link-inactive"),onMouseDown:function(e){return 0===e.button&&!M&&j(e,Ce.NONE)},onMouseMove:function(e){return f(e,N)},onMouseUp:b,onMouseLeave:function(e){e.ctrlKey&&I("link-inactive"),p(e)},onMouseEnter:function(e){e.ctrlKey&&I("link-active")},onKeyDown:function(e){e.ctrlKey&&I("link-active")},onKeyUp:function(e){e.ctrlKey||I("link-inactive")},onTouchStart:function(e){return!M&&O(e)},onTouchMove:function(e){return v(e,N)},onTouchEnd:m,onTouchCancel:x,children:Object(c.jsxs)("div",{className:"timeLine-main-data-container",style:{height:k,width:Je,maxWidth:Je},children:[null===w||void 0===w?void 0:w.map((function(e,t){return Object(c.jsx)("div",{className:"weekend-marker",style:{height:k,zIndex:2,left:e.left+a,width:e.width}},t)})),null===n||void 0===n?void 0:n.map((function(e,n){var d=et.dateToPixel(e.start,a,i),b=et.dateToPixel(e.end,a,i)-d;return Object(c.jsx)(ot,{top:n*t,left:20,itemHeight:t,style:e.rowStyle,children:Object(c.jsx)(at,{item:e,nowPosition:a,dayWidth:i,color:e.color,left:d,width:b,height:t,onChildDrag:E,isSelected:!!(null===o||void 0===o?void 0:o.find((function(t){return t.id===e.id}))),onSelectItem:r,onStartCreateLink:s,onFinishCreateLink:l,onTaskChanging:u,onUpdateTask:h})},e.id)}))]})})}));var st=function(e){var t=e.start,n=e.end,a=e.onSelectItem,i=e.item,o=e.isSelected,r=e.onDoubleClick,s=function(e){a&&i&&a(i)},d=function(e){r&&i&&r(i)},l=function(e,t){if(e.x>t.x){var n=function(e,t){var n={x:e.x+20,y:e.y},a=(t.y-e.y)/2,i={x:n.x,y:n.y+a},o={x:t.x-20,y:i.y};return{cpt1:n,cpt2:i,cpt3:o,cpt4:{x:o.x,y:o.y+a}}}(e,t);return"M"+[e.x,e.y,n.cpt1.x,n.cpt1.y,n.cpt2.x,n.cpt2.y,n.cpt3.x,n.cpt3.y,n.cpt4.x,n.cpt4.y,t.x,t.y].join(" ")}var a=function(e,t){var n=e.x+(t.x-e.x)/2;return{cpt1:{x:n,y:e.y},cpt2:{x:n,y:t.y}}}(e,t);return"M"+[e.x,e.y,a.cpt1.x,a.cpt1.y,a.cpt2.x,a.cpt2.y,t.x,t.y].join(" ")}(t,n);return Object(c.jsxs)("g",{className:"timeline-link",children:[Object(c.jsx)("path",{className:"gantt-connector-outline"+(o?" selected":""),pointerEvents:"stroke",onMouseDown:s,onDoubleClick:d,d:l,strokeLinejoin:"round",fill:"transparent",cursor:"pointer"}),Object(c.jsx)("path",{className:"gantt-connector"+(o?" selected":""),pointerEvents:"stroke",onMouseDown:s,onDoubleClick:d,d:l,strokeLinejoin:"round",fill:"transparent",cursor:"pointer",markerEnd:"url(#arrow)"})]})},ct=function(e){Object(ze.a)(n,e);var t=Object(We.a)(n);function n(e){var a;return Object(Ae.a)(this,n),(a=t.call(this,e)).init=void 0,a.lastX=void 0,a.lastY=void 0,a.doMouseMove=function(e){a.init||(a.lastX=e.clientX,a.lastY=e.clientY,a.init=!0);var t=a.state.x+(e.clientX-a.lastX),n=a.state.y+(e.clientY-a.lastY);a.lastX=e.clientX,a.lastY=e.clientY,a.setState({x:t,y:n})},a.doMouseUp=function(e){a.props.onFinishCreateLink(a.props.record.item,$e.LEFT)},a.state={x:a.props.start.x,y:a.props.start.y},a.init=!1,a.lastX=-1,a.lastY=-1,a}return Object(Ye.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.doMouseMove),document.addEventListener("mouseup",this.doMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.doMouseMove),document.removeEventListener("mouseup",this.doMouseUp)}},{key:"render",value:function(){return Object(c.jsx)(st,{start:Object(v.a)({},this.props.start),end:Object(v.a)({},this.state)},-1)}}]),n}(d.Component),dt=function(e){var t=e.selectedItems,n=e.onSelectItem,a=e.dayWidth,i=e.itemHeight,o=e.links,r=e.data,s=e.interactiveMode,l=e.taskToCreate,u=e.onFinishCreateLink,h=e.changingTask,b=(e.scrollLeft,e.nowPosition),p=e.scrollTop,m=e.onDoubleClickLink,j=e.registry,v=Object(d.useState)([]),O=Object(g.a)(v,2),x=O[0],y=O[1];function k(e,t){return{x:et.dateToPixel(t,0,a),y:e*i+i/2}}return Object(d.useEffect)((function(){if(o&&r){var e=[];if(0==r.length)return;o.forEach((function(a,i){if(a){var o=j.getTask(a.start);if(o){var r=j.getTask(a.end);if(r){var s=k(o.index,o.item.end),d=k(r.index,r.item.start);e.push(Object(c.jsx)(st,{item:a,start:{x:s.x,y:s.y},end:{x:d.x,y:d.y},isSelected:!!(null===t||void 0===t?void 0:t.find((function(e){return e.id===a.id}))),onSelectItem:n,onDoubleClick:m},a.id))}else e.push(null)}else e.push(null)}})),y(e)}}),[t,a,o,r,i]),Object(d.useEffect)((function(){var e=j.getLinks(null===h||void 0===h?void 0:h.item.id);e&&e.forEach((function(e,a){var i=j.getTask(e.link.start);if(i){var o=j.getTask(e.link.end);if(o){var r=k(i.index,i.item.end);h.item.id===e.link.start&&(r.x=h.position.end);var s=k(o.index,o.item.start);h.item.id===e.link.end&&(s.x=h.position.start),y((function(i){var o=Object(f.a)(i);return o[e.index]=Object(c.jsx)(st,{item:e.link,start:{x:r.x,y:r.y},end:{x:s.x,y:s.y},isSelected:!!(null===t||void 0===t?void 0:t.find((function(t){return t.id===e.link.id}))),onSelectItem:n},-a-1),o}))}}}))}),[h]),Object(c.jsxs)("svg",{x:0,y:0,width:"100%",pointerEvents:"none",style:{userSelect:"none",height:"100%"},className:"timeline-link-viewport",children:[Object(c.jsx)("defs",{children:Object(c.jsx)("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"9",markerHeight:"9",orient:"auto-start-reverse",className:"gantt-connector-arrow",children:Object(c.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",strokeLinejoin:"round"})})}),Object(c.jsxs)("g",{transform:"matrix(1,0,0,1,".concat(-(0-b),",").concat(-p,")"),children:[x,function(){if(s){var e=j.getTask(null===l||void 0===l?void 0:l.task.id);if(!e)return console.log("Failed to create link. Missing task in registry.");var t=k(e.index,e.item.end);return Object(c.jsx)(ct,{start:t,record:e,onFinishCreateLink:u})}}()]})]})},lt=function(e){var t=e.item,n=e.top,a=e.itemHeight,i=e.onSelectItem,o=(e.onUpdateTask,e.index),r=e.label,s=(e.nonEditable,e.isSelected);return Object(c.jsx)("div",{className:"timeLine-side-task-row "+(s?"selected":""),style:Object(v.a)(Object(v.a)(Object(v.a)({},Fe.values.taskList.task.style),t.rowStyle),{},{top:n,height:a}),onClick:function(){return i(t)},children:t.tableContent?t.tableContent(t,a):Object(c.jsxs)("div",{tabIndex:o,style:{width:"100%"},children:[" ",r," "]})})},ut=l.a.memo((function(e){var t=e.onScroll,n=e.itemHeight,a=e.selectedItems,i=e.onSelectItem,o=e.onUpdateTask,r=e.nonEditable,s=e.data,d=void 0===s?[]:s,u=(e.startRow,e.endRow,l.a.useRef(null));return Object(c.jsxs)("div",{className:"timeLine-side",children:[Object(c.jsx)("div",{className:"timeLine-side-title",style:Fe.values.taskList.title.style,children:Object(c.jsx)("div",{children:Fe.values.taskList.title.label})}),Object(c.jsx)("div",{ref:u,className:"timeLine-side-task-viewPort scrollbar",onScroll:function(){return t(u.current.scrollTop)},children:Object(c.jsx)("div",{className:"timeLine-side-task-container",style:{height:d.length>0?d.length*n:10},children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(c.jsx)(lt,{index:t,item:e,label:e.name,top:t*n,itemHeight:n,onUpdateTask:o,onSelectItem:i,nonEditable:r,isSelected:!!(null===a||void 0===a?void 0:a.find((function(t){return t.id===e.id})))},t)}))})})]})})),ht=function(){function e(){Object(Ae.a)(this,e),this.link=void 0,this.data=void 0,this.data={},this.link={}}return Object(Ye.a)(e,[{key:"registerData",value:function(e){if(e){this.data={};for(var t=0;t<e.length;t++)this.data[e[t].id]={item:e[t],index:t}}}},{key:"registerLinks",value:function(e){var t=this;e&&(this.link={},e.forEach((function(e,n){t.link[e.start]=t.link[e.start]||[],t.link[e.start].push({link:e,index:n}),t.link[e.end]=t.link[e.end]||[],t.link[e.end].push({link:e,index:n})})))}},{key:"getTask",value:function(e){if(e)return this.data[e]}},{key:"getLinks",value:function(e){if(e)return this.link[e]}}]),e}(),bt=function e(){var t=this;Object(Ae.a)(this,e),this.lower_limit=void 0,this.lower_data_limit=void 0,this.upper_limit=void 0,this.upper_data_limit=void 0,this.dataToRender=void 0,this.nowPosition=void 0,this.dayWidth=void 0,this.onHorizonChange=void 0,this.initialise=function(e,n,a,i){t.nowPosition=a,t.dayWidth=i,t.setLimits(e,n),t.loadDataHorizon()},this.setStartEnd=function(e,n,a,i){t.nowPosition=a,t.dayWidth=i,t.needData(e,n)&&(t.setLimits(e,n),t.loadDataHorizon())},this.needData=function(e,n){return t.lower_data_limit&&t.upper_data_limit?e<t.lower_data_limit||n>t.upper_data_limit:console.log("Data Controller not initialized before load horizon")},this.setLimits=function(e,n){t.lower_limit=e-1e3,t.lower_data_limit=e-750,t.upper_limit=n+1e3,t.upper_data_limit=n+750},this.loadDataHorizon=function(){if(!t.nowPosition||!t.dayWidth)return console.log("Data Controller not initialized before load horizon");var e=et.pixelToDate(t.lower_limit,t.nowPosition,t.dayWidth),n=et.pixelToDate(t.upper_limit,t.nowPosition,t.dayWidth);t.onHorizonChange&&t.onHorizonChange(e,n)},this.lower_limit=0,this.upper_limit=0,this.dataToRender=[]},pt=n(74);function mt(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))}var jt=function(){function e(t){var n=this;Object(Ae.a)(this,e),this.friction=0,this.damping=0,this.maxSpeed=void 0,this.refreshRate=60,this.centroid={x:0,y:0,z:0},this.velocity={x:0,y:0,z:0},this._lastT=void 0,this.mass=void 0,this.cutoffSpeed=1,this.cutoffForce=1,this.forces=[],this.motionTimer=void 0,this.motion=function(){var e,t={x:0,y:0,z:0},a=Object(pt.a)(n.forces);try{for(a.s();!(e=a.n()).done;){var i=e.value.getForceVector();i&&(t.x+=i.x,t.y+=i.y,t.z+=i.z)}}catch(g){a.e(g)}finally{a.f()}var o=mt(n.velocity),r=o?n.velocity.x/o:0,s=o?n.velocity.y/o:0,c=o?n.velocity.z/o:0,d=o>n.cutoffSpeed?n.mass*n.friction:0;t.x-=r*d,t.y-=s*d,t.z-=c*d;var l=o>n.cutoffSpeed?n.mass*n.damping*o:0;t.x-=r*l,t.y-=s*l,t.z-=c*l;var u=t.x/n.mass,h=t.y/n.mass,b=t.z/n.mass,p=Date.now(),m=n._lastT?(p-n._lastT)/1e3:0,j={x:n.velocity.x+u*m,y:n.velocity.y+h*m,z:n.velocity.z+b*m},f=mt(j);if(n.maxSpeed&&f>n.maxSpeed){var v=n.maxSpeed/f;j.x*=v,j.y*=v,j.z*=v,f=n.maxSpeed}return n.centroid.x+=(n.velocity.x+j.x)/2*m,n.centroid.y+=(n.velocity.y+j.y)/2*m,n.centroid.z+=(n.velocity.z+j.z)/2*m,Object.assign(n.velocity,j),t},this.motionLoop=function(){window.clearTimeout(n.motionTimer);var e=n.motion();n._lastT=Date.now(),mt(e)>n.cutoffForce||mt(n.velocity)>n.cutoffSpeed?(n.onMoved&&n.onMoved(Object(v.a)({},n.centroid),Object(v.a)({},n.velocity)),n.motionTimer=window.setTimeout(n.motionLoop,1e3/n.refreshRate)):n._lastT=void 0},this.forceChange=function(){n.motionLoop()},t.mass||(this.centroid=Object.assign({},this.centroid,t.centroid)),this.friction=t.friction||this.friction,this.damping=t.damping||this.damping,this.maxSpeed=t.maxSpeed||this.maxSpeed,this.refreshRate=t.refreshRate||this.refreshRate,this.mass=t.mass}return Object(Ye.a)(e,[{key:"attachForce",value:function(e){this.forces.find((function(t){return t===e}))||(this.forces.push(e),e.attachObject(this))}},{key:"detatchForce",value:function(e){this.forces=this.forces.filter((function(t){return t===e})),e.detatchObject()}}]),e}(),ft=function(){function e(t,n){Object(Ae.a)(this,e),this._fulcrum={x:0,y:0,z:0},this._attachment=void 0,this.springK=0,this._fulcrum=Object.assign({},this._fulcrum,t),this.springK=n}return Object(Ye.a)(e,[{key:"fulcrum",get:function(){return Object(v.a)({},this._fulcrum)}}]),Object(Ye.a)(e,[{key:"attachObject",value:function(e){this._attachment=e}},{key:"getObject",value:function(){return this._attachment}},{key:"detatchObject",value:function(){this._attachment=void 0}},{key:"getForceVector",value:function(){if(this._attachment){var e=this._attachment,t={x:this._fulcrum.x-e.centroid.x,y:this._fulcrum.y-e.centroid.y,z:this._fulcrum.z-e.centroid.z},n=mt(t),a=n?{x:t.x/n,y:t.y/n,z:t.z/n}:{x:0,y:0,z:0},i=n*this.springK;return{x:i*a.x,y:i*a.y,z:i*a.z}}}},{key:"setFulcrum",value:function(e){var t;this._fulcrum=e,null===(t=this._attachment)||void 0===t||t.forceChange()}}]),e}(),vt=function(e){Object(ze.a)(n,e);var t=Object(We.a)(n);function n(e){var a;Object(Ae.a)(this,n),(a=t.call(this,e)).dragging=void 0,a.draggingPosition=void 0,a.dc=void 0,a.registry=void 0,a.pxToScroll=void 0,a.initialise=void 0,a.velocity=void 0,a.scrollTime=void 0,a.taskViewPortRef=void 0,a.dataViewPortRef=void 0,a.physicsObject=void 0,a.mouseRubberBand=void 0,a.onSize=function(e){if(!e.width||!e.height)return console.log("Failed onSize: ",e);a.calculateVerticalScrollVariables(e),a.initialise||(a.dc.initialise(a.state.scrollLeft+a.state.nowPosition,a.state.scrollLeft+a.state.nowPosition+e.width,a.state.nowPosition,a.props.dayWidth||a.state.dayWidth),a.initialise=!0),a.setStartEnd();var t=Math.ceil(e.height/a.props.itemHeight),n=a.calcNumVisibleDays(e),i=a.calculateStartEndRows(t,a.props.data,a.state.scrollTop);a.setState({numVisibleRows:t,numVisibleDays:n,startRow:i.start,endRow:i.end,size:e})},a.verticalChange=function(e){if(e!==a.state.scrollTop){var t=a.calculateStartEndRows(a.state.numVisibleRows,a.props.data,e);t.start!==a.state.start&&a.setState({scrollTop:e,startRow:t.start,endRow:t.end})}},a.calculateStartEndRows=function(e,t,n){var i=Math.trunc(n/a.props.itemHeight);return{start:i,end:i+(e>=t.length?t.length:i+e)}},a.setStartEnd=function(){a.dc.setStartEnd(a.state.scrollLeft,a.state.scrollLeft+a.state.size.width,a.state.nowPosition,a.state.dayWidth)},a.horizontalChange=function(e){var t=e%a.pxToScroll,n=Math.trunc((t-e)/a.state.dayWidth);a.setStartEnd();var i={currentDay:n,nowPosition:e,scrollLeft:t};a.setState(i)},a.calculateVerticalScrollVariables=function(e){a.pxToScroll=(1-e.width/Je)*Je-1},a.onHorizonChange=function(e,t){a.props.onHorizonChange&&a.props.onHorizonChange(e,t)},a.doMouseDown=function(e){"timeLinedataViewPort"===e.currentTarget.id&&(a.physicsObject.forces.forEach((function(e){return a.physicsObject.detatchForce(e)})),a.mouseRubberBand=new ft({x:a.physicsObject.centroid.x,y:0,z:0},30),a.physicsObject.attachForce(a.mouseRubberBand),a.physicsObject.onMoved=function(e){var t=e.x;a.horizontalChange(t)}),a.dragging=!0,a.draggingPosition=e.clientX},a.doMouseMove=function(e){if(a.dragging){var t,n=a.draggingPosition-e.clientX;if(0!==n)null===(t=a.mouseRubberBand)||void 0===t||t.setFulcrum(Object(v.a)(Object(v.a)({},a.mouseRubberBand.fulcrum),{},{x:a.mouseRubberBand.fulcrum.x-n})),a.draggingPosition=e.clientX}},a.doMouseUp=function(){a.dragging=!1,a.mouseRubberBand&&a.physicsObject.detatchForce(a.mouseRubberBand)},a.doMouseLeave=function(){a.setState({dragging:!1}),a.dragging=!1,a.mouseRubberBand&&a.physicsObject.detatchForce(a.mouseRubberBand)},a.doTouchStart=function(e){a.setState({dragging:!0,draggingPosition:e.touches[0].clientX})},a.doTouchEnd=function(e){a.setState({dragging:!1})},a.doTouchMove=function(e){if(a.state.dragging){var t=a.state.draggingPosition-e.touches[0].clientX;if(0!==t){var n=Date.now();a.velocity=a.scrollTime?t/(n-a.scrollTime):0,a.scrollTime=n,a.setState({draggingPosition:e.touches[0].clientX}),a.horizontalChange(a.state.scrollLeft+t)}}},a.doTouchCancel=function(e){a.setState({dragging:!1})},a.onTaskListSizing=function(e){a.setState((function(t){return{sideStyle:{width:t.sideStyle.width-e}}}))},a.onSelectItem=function(e){a.props.onSelectItem&&a.props.onSelectItem(e)},a.onStartCreateLink=function(e,t){a.setState({interactiveMode:!0,taskToCreate:{task:e,position:t}})},a.onFinishCreateLink=function(e,t){a.props.onCreateLink&&e&&a.state.taskToCreate&&a.state.taskToCreate.task.id!==e.id&&a.props.onCreateLink({start:a.state.taskToCreate,end:{task:e,position:t}}),a.setState({interactiveMode:!1,taskToCreate:null})},a.onTaskChanging=function(e){a.setState({changingTask:e})},a.calcNumVisibleDays=function(e){return Math.ceil(e.width/a.state.dayWidth)+30},a.dragging=!1,a.draggingPosition=0,a.dc=new bt,a.physicsObject=new jt({mass:1,damping:5,friction:.4}),a.dc.onHorizonChange=a.onHorizonChange,a.initialise=!1,a.dataViewPortRef=a.props.dataViewPortRef||l.a.createRef(),a.taskViewPortRef=a.props.taskViewPortRef||l.a.createRef(),a.registry=new ht,a.pxToScroll=1900;var i=a.props.dayWidth||a.getDayWidth(a.props.mode);return Fe.load(a.props.config),a.state={currentDay:0,nowPosition:0,startRow:0,endRow:10,sideStyle:{width:.4*window.innerWidth},scrollLeft:0,scrollTop:0,numVisibleRows:40,numVisibleDays:60,dayWidth:i,interactiveMode:!1,taskToCreate:null,links:[],mode:a.props.dayWidth?a.getMode(a.props.dayWidth):a.props.mode||Ze.MONTH,size:{width:1,height:1},changingTask:null},a}return Object(Ye.a)(n,[{key:"getMode",value:function(e){return e>=qe.DAY_IN_DAY_MODE?Ze.DAY:e>=qe.DAY_IN_WEEK_MODE?Ze.WEEK:e>=qe.DAY_IN_MONTH_MODE?Ze.MONTH:Ze.YEAR}},{key:"getDayWidth",value:function(e){switch(e){case Ze.DAY:return qe.DAY_IN_DAY_MODE;case Ze.WEEK:return qe.DAY_IN_WEEK_MODE;case Ze.MONTH:return qe.DAY_IN_MONTH_MODE;case Ze.YEAR:return qe.DAY_IN_YEAR_MODE;default:return qe.DAY_IN_MONTH_MODE}}},{key:"checkMode",value:function(){var e=this;if(this.props.mode&&this.props.mode!==this.state.mode){var t=this.getDayWidth(this.props.mode),n=Math.ceil(-this.state.currentDay*this.state.dayWidth/this.pxToScroll);this.setState({nowPosition:n*this.pxToScroll});var a=(this.state.currentDay*this.state.dayWidth+this.state.nowPosition)%this.pxToScroll;this.setState((function(n){return{scrollLeft:a,mode:e.props.mode,dayWidth:e.props.dayWidth||t,numVisibleDays:e.calcNumVisibleDays(n.size)}}))}}},{key:"componentDidMount",value:function(){this.setData(),this.setLinks();var e=document.getElementById("timeLine"),t=(null===e||void 0===e?void 0:e.getBoundingClientRect().width)||20,n=window.innerWidth>1e3?.4*window.innerWidth:t;this.setState({sideStyle:{width:n}})}},{key:"componentWillUnmount",value:function(){this.mouseRubberBand=void 0,this.physicsObject=void 0}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.data!==e.data&&this.setData(),this.props.links!==e.links&&this.setLinks(),this.props.dayWidth!==e.dayWidth){var n=this.props.dayWidth||this.getDayWidth(this.state.mode);this.setState((function(e){return{nowPosition:e.nowPosition*n/e.dayWidth,dayWidth:n,mode:t.props.dayWidth?t.getMode(t.props.dayWidth):t.state.mode}}))}}},{key:"setData",value:function(){var e=this.calculateStartEndRows(this.state.numVisibleRows,this.props.data,this.state.scrollTop);this.setState({startRow:e.start,endRow:e.end}),this.registry.registerData(this.props.data||[])}},{key:"setLinks",value:function(){this.registry.registerLinks(this.props.links||[])}},{key:"render",value:function(){var e=this;this.checkMode(),this.state.size||console.log(this.state);var t=document.getElementById("timeLinedataViewPort"),n=(null===t||void 0===t||t.getBoundingClientRect().height,(null===t||void 0===t?void 0:t.getBoundingClientRect().width)||20),a=this.props.data?this.props.data.length*this.props.itemHeight:10;return Object(c.jsxs)("div",{className:"timeLine rounded",children:[Object(c.jsxs)("div",{className:"timeLine-side-main",style:this.state.sideStyle,children:[Object(c.jsx)(ut,{itemHeight:this.props.itemHeight,startRow:this.state.startRow,endRow:this.state.endRow,data:this.props.data,selectedItems:this.props.selectedItems,onSelectItem:this.onSelectItem,onUpdateTask:this.props.onUpdateTask,onScroll:this.verticalChange,nonEditable:this.props.nonEditableName}),Object(c.jsx)(Ue,{onTaskListSizing:this.onTaskListSizing})]}),Object(c.jsx)("div",{className:"timeLine-main",children:Object(c.jsx)(nt,{numVisibleDays:this.state.numVisibleDays,currentDay:this.state.currentDay,nowPosition:this.state.nowPosition,dayWidth:this.state.dayWidth,mode:this.state.mode,scrollLeft:this.state.scrollLeft,mainViewportHeight:a,mainViewportWidth:n,children:function(t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(rt,{scrollLeft:e.state.scrollLeft,scrollTop:e.state.scrollTop,itemHeight:e.props.itemHeight,nowPosition:e.state.nowPosition,startRow:e.state.startRow,endRow:e.state.endRow,data:e.props.data||[],height:a,selectedItems:e.props.selectedItems,dayWidth:e.state.dayWidth,onMouseDown:e.doMouseDown,onMouseMove:e.doMouseMove,onMouseUp:e.doMouseUp,onMouseLeave:e.doMouseLeave,onTouchStart:e.doTouchStart,onTouchMove:e.doTouchMove,onTouchEnd:e.doTouchEnd,onTouchCancel:e.doTouchCancel,onSelectItem:e.onSelectItem,onUpdateTask:e.props.onUpdateTask,onTaskChanging:e.onTaskChanging,onStartCreateLink:e.onStartCreateLink,onFinishCreateLink:e.onFinishCreateLink,boundaries:{lower:e.state.scrollLeft,upper:e.state.scrollLeft+e.state.size.width},onSize:e.onSize,weekends:t,shouldLink:e.props.shouldLink}),Object(c.jsx)(dt,{scrollLeft:e.state.scrollLeft,scrollTop:e.state.scrollTop,data:e.props.data,nowPosition:e.state.nowPosition,dayWidth:e.state.dayWidth,interactiveMode:e.state.interactiveMode,taskToCreate:e.state.taskToCreate,onFinishCreateLink:e.onFinishCreateLink,changingTask:e.state.changingTask,selectedItems:e.props.selectedItems,onSelectItem:e.onSelectItem,itemHeight:e.props.itemHeight,links:e.props.links,onDoubleClickLink:e.props.onDeleteLink,registry:e.registry})]})}})})]})}}]),n}(d.Component);vt.defaultProps={data:[],links:[],itemHeight:20,dayWidth:24,nonEditableName:!1,mode:Ze.MONTH};var gt=vt,Ot=n(794),xt=n(1123),yt=n(867),kt=n(68),wt=n(830),Dt=(s.GREEN,s.BLUE,s.SAND,s.PINK,s.LAVENDER,[{id:"link-1-2",start:"first",end:"second"}]),St=function(){var e=Object(wt.a)("60956beed0085e1978fc395f").value,t=Object(x.f)((function(e){return e.workflow.tasks})),n=Object(d.useState)(40),a=Object(g.a)(n,2),i=a[0],o=a[1],r=Object(d.useMemo)((function(){return(null===e||void 0===e?void 0:e.milestones.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{tasks:e.tasks.map((function(e){return t[e]})).filter((function(e){return!!e}))})})))||[]}),[e,t]);function s(e,t){return Object(c.jsx)(Ie.a,{fluid:!0,children:Object(c.jsxs)(ve.a,{style:{height:t},children:[Object(c.jsx)(ge.a,{tag:P.a,xs:"auto",align:"center",children:Object(c.jsx)(I.a,{icon:"level-up-alt",transform:"rotate-90"})}),Object(c.jsx)(ge.a,{tag:P.a,align:"center",children:Object(c.jsx)("h6",{className:"my-0 py-0",children:e.title})})]})})}var l={color:kt.g.primary,progress:0,strokeWidth:11,trailWidth:11,trailColor:kt.e[200],easing:"easeInOut",duration:2e3,svgStyle:{"stroke-linecap":"round",display:"block",width:"100%"},text:{autoStyleContainer:!1},step:function(e,t){var n=Math.round(100*t.value());t.setText("<span class='value'>"+n+"</span>")}};function u(e,t){var n;return Object(c.jsx)(Ie.a,{fluid:!0,children:Object(c.jsxs)(ve.a,{style:{height:t},children:[Object(c.jsx)(ge.a,{tag:P.a,align:"center",children:Object(c.jsx)("p",{className:"fs--1 my-0 py-0",children:e.title})}),Object(c.jsx)(ge.a,{tag:P.a,align:"center",xs:2,children:Object(c.jsx)("p",{className:"fs--1 my-0 py-0",children:le()(e.startDate).format("M/D/YY")})}),Object(c.jsx)(ge.a,{tag:P.a,align:"center",xs:2,children:Object(c.jsx)("p",{className:"fs--1 my-0 py-0",children:le()(e.endDate).format("M/D/YY")})}),Object(c.jsx)(ge.a,{tag:P.a,align:"center",xs:2,children:Object(c.jsx)(xt.Circle,{progress:(null===(n=e.progress[e.progress.length-1])||void 0===n?void 0:n.percent)/100||0,options:l,container_class:"progress-circle progress-circle-taskmenu",container_style:{width:.67*t+"px",height:.67*t+"px"}})})]})})}var h=Object(d.useMemo)((function(){return null===r||void 0===r?void 0:r.reduce((function(e,t){return[].concat(Object(f.a)(e),[Object(v.a)(Object(v.a)({},t),{},{id:t._id,name:t.title,start:t.startDate,end:t.endDate,rowStyle:{backgroundColor:"rgba(150, 150, 190, 0.1)",borderBottom:"2px solid black"},tableContent:s,color:"rgb(245, 148, 134)"})],Object(f.a)(t.tasks.map((function(e){var t;return Object(v.a)(Object(v.a)({},e),{},{id:e._id,name:e.title,start:e.startDate,end:e.endDate,tableContent:u,color:100===(null===(t=e.progress[e.progress.length-1])||void 0===t?void 0:t.percent)?kt.g.success:"rgb(145, 148, 184)"})}))))}),[])}),[r]),b=Object(d.useState)(Dt),p=Object(g.a)(b,2),m=p[0],j=p[1],O=Object(d.useState)(Ze.YEAR),y=Object(g.a)(O,2),k=y[0],w=y[1],D=Object(d.useState)(40),S=Object(g.a)(D,2),T=S[0],M=S[1],E=Object(d.useState)(!1),N=Object(g.a)(E,2),C=N[0],L=N[1],_=Object(d.useState)([]),A=Object(g.a)(_,2),Y=A[0],z=A[1];Object(yt.a)("isDark");return Object(c.jsxs)(ae.a,{children:[Object(c.jsxs)(Pe.a,{className:"bg-light",children:[Object(c.jsx)(ve.a,{children:Object(c.jsx)(ge.a,{children:Object(c.jsx)("h3",{children:"Workflow Timelines"})})}),Object(c.jsx)("hr",{}),Object(c.jsxs)(ve.a,{children:[Object(c.jsx)(ge.a,{xs:"auto",children:Object(c.jsx)("h6",{children:"Row Height:"})}),Object(c.jsx)(ge.a,{children:Object(c.jsx)(_e.a,{id:"item-height-selector",step:"1",min:"20",max:"50",type:"range",value:T,onChange:function(e){return M(+e.target.value)}})}),Object(c.jsx)(ge.a,{xs:"auto",className:"border-left",children:Object(c.jsx)("h6",{children:"Time Span:"})}),Object(c.jsx)(ge.a,{className:"border-right",children:Object(c.jsx)(_e.a,{id:"day-width-selector",step:"1",min:"1",max:"100",type:"range",value:i,onChange:function(e){return o(+e.target.value)}})}),Object(c.jsx)(ge.a,{xs:"auto",children:Object(c.jsx)(_e.a,{id:"link-mode",type:"checkbox",label:"Link Mode",checked:C,onChange:function(e){return L(e.target.checked)}})}),Object(c.jsx)(ge.a,{xs:"auto",children:Object(c.jsxs)(Re.a,{size:"sm",children:[Object(c.jsx)(R.a,{onClick:function(){return w(Ze.DAY)},color:"primary",children:"Day"}),Object(c.jsx)(R.a,{onClick:function(){return w(Ze.WEEK)},color:"primary",children:"Week"}),Object(c.jsx)(R.a,{onClick:function(){return w(Ze.MONTH)},color:"primary",children:"Month"}),Object(c.jsx)(R.a,{onClick:function(){return w(Ze.YEAR)},color:"primary",children:"Year"})]})}),Object(c.jsx)(ge.a,{xs:"auto",children:Object(c.jsx)(R.a,{onClick:function(){return z([])},size:"sm",children:"Clear Selections"})})]})]}),Object(c.jsx)(ie.a,{children:Object(c.jsx)(gt,{data:h,links:m,onCreateLink:function(e){return j((function(t){return[].concat(Object(f.a)(t),[{id:Object(Ot.a)(),start:e.start.task.id,end:e.end.task.id}])}))},onDeleteLink:function(e){return j((function(t){return t.filter((function(t){return e.id!==t.id}))}))},onUpdateTask:function(e,t){console.log(e,t)},onSelectItem:function(e){return z((function(t){return t.find((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):[].concat(Object(f.a)(t),[e])}))},selectedItems:Y,config:{header:{top:{style:{}},middle:{style:{},selectedStyle:{}},bottom:{style:{},selectedStyle:{}}}},itemHeight:T,mode:k,shouldLink:C,dayWidth:1471.8*Math.exp(-.079*i)})})]})};t.default=function(e){var t=e.match.url;return Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"".concat(t,"/assignments"),component:Le}),Object(c.jsx)(u.b,{path:"".concat(t,"/teams"),component:h.a}),Object(c.jsx)(u.b,{path:"".concat(t,"/workload"),exact:!0,component:h.a}),Object(c.jsx)(u.b,{path:"".concat(t,"/approvals"),exact:!0,component:h.a}),Object(c.jsx)(u.b,{path:"".concat(t,"/timelines"),exact:!0,component:St}),Object(c.jsx)(u.a,{to:"/errors/404"})]})}},813:function(e,t,n){"use strict";var a=n(3),i=n(40),o=n(2),r=(n(1),n(901)),s=n(881),c=n(408),d=n(904);t.a=function(e){var t=e.label,n=e.formClass,l=void 0===n?"":n,u=e.feedback,h=e.valid,b=e.invalid,p=e.isTooltipFeedback,m=e.labelProps,j=Object(i.a)(e,["label","formClass","feedback","valid","invalid","isTooltipFeedback","labelProps"]),f=j.id,v=Object(i.a)(j,["id"]);return Object(o.jsxs)(r.a,{className:l,children:[t&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({htmlFor:f},m),{},{children:t})),Object(o.jsx)(c.a,Object(a.a)({id:f,valid:h,invalid:b},v)),u&&Object(o.jsx)(d.a,{valid:h,invalid:b,tooltip:p,children:u})]})}},817:function(e,t,n){"use strict";var a=n(2),i=(n(1),n(828)),o=n(45),r=n(403),s=n(365);t.a=function(e){var t=e.dataLoader,n=(e.size,e.className),c=e.children;return(null===t||void 0===t?void 0:t.loading)?Object(a.jsx)(i.a,{}):(null===t||void 0===t?void 0:t.error)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(r.a,{className:"flex-center py-5 "+n,children:Object(a.jsx)(s.a,{xs:"auto",children:Object(a.jsx)(o.a,{icon:"exclamation-circle",className:[{s:"fs-0",m:"fs-1",l:"fs-2",xl:"fs-4"},"text-danger"].join(" ")})})}),Object(a.jsx)(r.a,{className:"flex-center py-5 "+n,children:t.error})]}):Object(a.jsx)(a.Fragment,{children:c})}},818:function(e,t,n){"use strict";var a=n(3),i=n(40),o=n(2),r=(n(1),n(7)),s=n.n(r),c=n(276),d=n(45);t.a=function(e){var t=e.icon,n=e.iconAlign,r=void 0===n?"left":n,l=e.iconClassName,u=e.transform,h=e.children,b=Object(i.a)(e,["icon","iconAlign","iconClassName","transform","children"]);return Object(o.jsxs)(c.a,Object(a.a)(Object(a.a)({},b),{},{children:["right"===r&&h,Object(o.jsx)(d.a,{icon:t,className:s()(l,{"mr-1":h&&"left"===r,"ml-1":h&&"right"===r}),transform:u}),"left"===r&&h]}))}},820:function(e,t,n){"use strict";n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return y}));var a=n(74),i=n(18),o=n.n(i),r=n(3),s=n(46),c=n(862),d=n(266),l=n(106),u=n(821),h=d.a,b=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,i,s,d,h,b,p,m,j,f,v,g,O,x,y,k,w,D;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t.documents),a=[],i=[],s=!0,d=!1,e.prev=5,b=Object(c.a)(n);case 7:return e.next=9,b.next();case 9:return p=e.sent,s=p.done,e.next=13,p.value;case 13:if(m=e.sent,s){e.next=25;break}return v="document",/\.png$|\.jpg$|\.gif$|\.tiff$|\.jpeg/i.test((f=m).path)&&(v="photo"),e.next=20,Object(l.a)(Object(u.a)(f.base64),v,f.path);case 20:(null===(g=e.sent)||void 0===g?void 0:g.success)&&(null===(j=g.files)||void 0===j?void 0:j[v])&&("photo"===v?i.push({location:null===(O=g.files)||void 0===O?void 0:O[v],title:f.path}):"document"==v&&a.push({location:null===(x=g.files)||void 0===x?void 0:x[v].name,thumb:(null===(y=g.files)||void 0===y?void 0:y[v].thumb)?{location:null===(k=g.files)||void 0===k?void 0:k[v].thumb}:void 0,title:f.path}));case 22:s=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),d=!0,h=e.t0;case 31:if(e.prev=31,e.prev=32,s||null==b.return){e.next=36;break}return e.next=36,b.return();case 36:if(e.prev=36,!d){e.next=39;break}throw h;case 39:return e.finish(36);case 40:return e.finish(31);case 41:return w=Object(r.a)(Object(r.a)({},t),{},{documents:a,photos:i}),D=[{name:"createStage",data:w}],e.abrupt("return",{actions:D});case 44:case"end":return e.stop()}}),e,null,[[5,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}();h.create=b;h.getOne=function(e){return{actions:[{name:"getStageDetails",data:{stageId:e}}]}};var p=function(e){return{actions:[{name:"getStageIdentifiers",data:{identifier:e}}]}};h.getStageIdentifiers=p;var m=function(e){return{actions:[{name:"createStageTag",data:{tag:e}}]}};h.createNewTag=m;h.createNewType=function(e){return{actions:[{name:"createStageType",data:{title:e}}]}};var j=function(e,t,n,a){return{actions:[{name:"addStageMember",data:{stageId:e,organizationId:t,personId:n,role:a}}]}};h.addStageMember=j;var f=function(e,t,n){return{actions:[{name:"addStageOrganization",data:{stageId:e,organizationId:t,role:n}}]}};h.addStageOrganization=f;var v=function(e,t){return{actions:[{name:"createNote",data:{body:e,stageId:t}}]}};h.postNote=v;var g=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var i,r,s,c,d,h,b,p,m,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],r=Object(a.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return d=s.value,e.next=8,Object(l.a)(Object(u.a)(d.base64),"document",d.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(c=h.files)||void 0===c?void 0:c.document)&&i.push({location:null===(b=h.files)||void 0===b?void 0:b.document.name,thumb:(null===(p=h.files)||void 0===p?void 0:p.document.thumb)?{location:null===(m=h.files)||void 0===m?void 0:m.document.thumb}:void 0,title:d.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return j=[{name:"addStageDocuments",data:{documents:i,stageId:n}}],e.abrupt("return",{actions:j});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();h.addStageDocuments=g;var O=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var i,r,s,c,d,h,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],r=Object(a.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return d=s.value,e.next=8,Object(l.a)(Object(u.a)(d.base64),"photo",d.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(c=h.files)||void 0===c?void 0:c.photo)&&i.push({location:null===(b=h.files)||void 0===b?void 0:b.photo,title:d.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return p=[{name:"addStagePhotos",data:{photos:i,stageId:n}}],e.abrupt("return",{actions:p});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();h.addStagePhotos=O;var x=function(e,t){return{actions:[{name:"updateStage",data:Object(r.a)({stageId:e},t)}]}};h.updateStage=x;var y=function(e,t){return{actions:[{name:"timesheetCondensedData",data:{personId:e,activeOnly:t}}]}};h.getCondensedTimesheetInfo=y},821:function(e,t,n){"use strict";t.a=function(e){for(var t=e.split(","),n=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),a=t[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:a})}},826:function(e,t,n){"use strict";var a=n(3),i=n(26),o=n(40),r=n(2),s=n(45),c=n(73),d=n.n(c),l=n(1),u=n(994),h=n(408),b=n(995),p=n(276),m=n(836);t.a=function(e){var t=e.dateFormat,n=void 0===t?"MM/DD/YY":t,c=e.timeFormat,j=void 0===c?"hh:mm A":c,f=e.value,v=e.onChange,g=(e.onBlur,e.pickerProps),O=e.size,x=e.autoFillBlank,y=e.buttonColor,k=void 0===y?"primary":y,w=Object(o.a)(e,["dateFormat","timeFormat","value","onChange","onBlur","pickerProps","size","autoFillBlank","buttonColor"]),D=Object(l.useState)(""),S=Object(i.a)(D,2),T=S[0],M=S[1],E=Object(l.useState)(!1),N=Object(i.a)(E,2),C=N[0],L=N[1],I=Object(l.useState)(!0),P=Object(i.a)(I,2),_=P[0],R=P[1],A=n&&j?n+" "+j:n||j;return Object(l.useEffect)((function(){if(!_||(R(!1),f||x)){var e=d()(f);e.isValid()?M(e.format(A)):M(f)}}),[f]),Object(r.jsxs)("div",{children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)(h.a,Object(a.a)({onChange:function(e){return M(e.target.value)},onBlur:function(){var e=d()(T);e.isValid()?v&&v(e.format(A)):v&&v(T)},value:T,size:O},w)),Object(r.jsx)(b.a,{addonType:"append",children:Object(r.jsx)(p.a,{outline:!0,color:k,onClick:function(){return L((function(e){return!e}))},size:O,children:Object(r.jsx)(s.a,{icon:"calendar"})})})]}),Object(r.jsx)(m.a,Object(a.a)({dateFormat:n,timeFormat:j,onChange:function(e){var t=d()(e);t.isValid()&&(M(t.format(A)),v&&v(t.format(A)))},value:T,dropLeft:!0,open:C,onClose:function(e){L(!1),(null===g||void 0===g?void 0:g.onClose)&&g.onClose(e)}},g))]})}},828:function(e,t,n){"use strict";var a=n(3),i=n(2),o=(n(1),n(403)),r=n(365),s=n(264);t.a=function(e){return Object(i.jsx)(o.a,{className:"flex-center py-5",children:Object(i.jsx)(r.a,{xs:"auto",children:Object(i.jsx)(s.a,Object(a.a)({width:50},e))})})}},830:function(e,t,n){"use strict";var a=n(820),i=n(144);t.a=function(e){return Object(i.a)({actionCreator:a.i.getOne,postParams:e,selector:function(t){return t.workflow.stages[e]},deduplicate:["getStageDetails",e]})}},834:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n(18),i=n.n(a),o=n(74),r=n(46),s=n(3),c=n(821),d=n(106),l=n(266).b;l.create=function(e,t){return{actions:[{name:"addTask",data:Object(s.a)(Object(s.a)({},e),{},{milestoneId:t})}]}};var u=function(e){return{actions:[{name:"updateTask",data:e}]}};l.update=u;var h=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r,s,l,u,h,b,p,m,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=Object(o.a)(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=12;break}return u=s.value,e.next=8,Object(d.a)(Object(c.a)(u.base64),"document",u.path);case 8:(null===(h=e.sent)||void 0===h?void 0:h.success)&&(null===(l=h.files)||void 0===l?void 0:l.document)&&a.push({location:null===(b=h.files)||void 0===b?void 0:b.document.name,thumb:(null===(p=h.files)||void 0===p?void 0:p.document.thumb)?{location:null===(m=h.files)||void 0===m?void 0:m.document.thumb}:void 0,title:u.path});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:if(t&&t.length){e.next=22;break}return e.abrupt("return",{cancel:!0});case 22:return j=[{name:"addTaskDocuments",data:{documents:a,taskId:n}}],e.abrupt("return",{actions:j});case 24:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}();l.addTaskDocuments=h;var b=function(e,t,n,a,i){return{actions:[{name:"createAssignment",data:{taskId:e,assignment:{assignees:t,description:n,assignedHours:a,dueDate:i}}}]}};l.createAssignment=b;var p=function(e,t){return{actions:[{name:"updateAssignment",data:Object(s.a)({assignmentId:e},t)}]}};l.updateAssignment=p;var m=function(e){return{actions:[{name:"getPersonAssignments",data:{personId:e}}]}};l.getPersonAssignments=m;l.reorderAssignments=function(e){return{actions:e.map((function(e){return{name:"reorderAssignment",data:e}}))}}},836:function(e,t,n){"use strict";var a=n(26),i=n(261),o=n(262),r=n(838),s=n(837),c=n(2),d=n(73),l=n.n(d),u=n(1),h=n.n(u),b=n(3),p=n(7),m=n.n(p),j=function(e){var t=e.onClickPrev,n=e.onClickSwitch,a=e.onClickNext,i=e.switchContent,o=e.switchColSpan,r=e.switchProps;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"rdtPrev",onClick:t,children:Object(c.jsx)("span",{children:"\u2039"})}),Object(c.jsx)("th",Object(b.a)(Object(b.a)({className:"rdtSwitch",colSpan:o,onClick:n},r),{},{children:i})),Object(c.jsx)("th",{className:"rdtNext",onClick:a,children:Object(c.jsx)("span",{children:"\u203a"})})]})},f=n(889),v=n.n(f),g=n(890),O=n.n(g);l.a.extend(O.a),l.a.extend(v.a);var x=function(e,t){return Object(c.jsx)("td",Object(b.a)(Object(b.a)({},e),{},{children:t.date()}))},y=function(){return!0},k=function(e){for(var t=e.renderDay,n=void 0===t?x:t,a=e.isValidDate,i=void 0===a?y:a,o=e.viewDate,r=e.navigate,s=e.showView,d=e.timeFormat,u=e.selectedDate,h=e.updateDate,b=o,p=l()(o.toISOString()),f=b.clone().startOf("month"),v=b.clone().endOf("month"),g=[[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7],[1,2,3,4,5,6,7]],O=p.startOf("month").startOf("week"),k=O.add(42,"d"),w=O,D=0,S=g;D<S.length;D++){var T=S[D];for(var M in T){var E=i(w.startOf("day"))||i(w.endOf("day"));T[M]=n({key:w.format("MMDDYYhh"),"data-value":w.date(),"data-month":w.month(),"data-year":w.year(),className:m()("rdtDay",{rdtOld:w.isBefore(f),rdtNew:w.isAfter(v),rdtActive:u&&w.isSame(u,"day"),rdtToday:w.isSame(l()(),"day"),rdtDisabled:!E}),onClick:E?h:void 0},w,u),w=w.add(1,"day")}}return Object(c.jsx)("div",{className:"rdtDays",children:Object(c.jsxs)("table",{children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)(j,{onClickPrev:function(){return r(-1,"month")},onClickSwitch:function(){return s("months",o)},onClickNext:function(){return r(1,"month")},switchContent:p.format("MMM YYYY"),switchColSpan:5,switchProps:{"data-value":o.month()}}),Object(c.jsx)("tr",{children:l.a.weekdaysMin().map((function(e,t){return Object(c.jsx)("th",{className:"dow",children:e},e+t)}))})]}),Object(c.jsx)("tbody",{children:g.map((function(e,t){return Object(c.jsx)("tr",{children:e},"".concat(k.month(),"_").concat(t))}))}),d&&Object(c.jsx)("tfoot",{children:Object(c.jsx)("tr",{children:Object(c.jsx)("td",{onClick:function(){return s("time",o)},colSpan:7,className:"rdtTimeToggle",children:b.format(!0===d?"LT":d)})})})]})})},w=function(e){var t=e.viewDate,n=e.renderMonth,a=void 0===n?function(e,t,n){return Object(c.jsx)("td",Object(b.a)(Object(b.a)({},e),{},{children:l()().year(n).month(t).format("MMM")}))}:n,i=e.isValidDate,o=e.navigate,r=e.showView,s=e.selectedDate,d=e.updateDate,u=null===t||void 0===t?void 0:t.year();function h(e){if(!i)return!1;for(var n=null===t||void 0===t?void 0:t.month(e).date(1),a=null===n||void 0===n?void 0:n.endOf("month");a.isAfter(n);){if(i(a))return!1;a=a.subtract(1,"day")}return!0}for(var p=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],f=0,v=0,g=p;v<g.length;v++){var O=g[v];for(var x in O)O[x]=a({key:f,className:m()("rdtMonth",{rdtDisabled:h(f),rdtActive:s.year()===t.year()&&s.month()===f}),"data-year":t.year(),"data-value":f,onClick:h(f)?void 0:d},f,null===t||void 0===t?void 0:t.year(),s),f++}return Object(c.jsxs)("div",{className:"rdtMonths",children:[Object(c.jsx)("table",{children:Object(c.jsx)("thead",{children:Object(c.jsx)(j,{onClickPrev:function(){return o(-1,"year")},onClickSwitch:function(){return r("years",t)},onClickNext:function(){return o(1,"year")},switchContent:u,switchColSpan:2})})}),Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:p.map((function(e,t){return Object(c.jsx)("tr",{children:e},t)}))})})]})},D=n(17),S=function(e){var t=e.renderYear,n=void 0===t?function(e,t){return Object(c.jsx)("td",Object(b.a)(Object(b.a)({},e),{},{children:t}))}:t,i=e.isValidDate,o=e.viewDate,r=e.navigate,s=e.showView,d=e.selectedDate,h=e.updateDate,p=Object(u.useState)({}),f=Object(a.a)(p,2),v=f[0],g=f[1],O=null===o||void 0===o?void 0:o.year(),x=null===d||void 0===d?void 0:d.year();function y(e){if(void 0!==v[e])return v[e];if(!i)return!1;for(var t=l()().year(e).month(0).date(1),n=t.endOf("year");n.isAfter(t);){if(i(n))return g((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(D.a)({},e,!1))})),!1;n=n.subtract(1,"day")}return g((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(D.a)({},e,!0))})),!0}Object(u.useEffect)((function(){g({})}),[i]);for(var k=function(e){h(e)},w=[[1,2,3,4],[1,2,3,4],[1,2,3,4]],S=O-1,T=0,M=w;T<M.length;T++){var E=M[T];for(var N in E)E[N]=n({key:S,className:m()("rdtYear",{rdtDisabled:y(S),rdtActive:x===S}),"data-value":S,onClick:y(S)?void 0:k},S,d),S++}return Object(c.jsxs)("div",{className:"rdtYears",children:[Object(c.jsx)("table",{children:Object(c.jsx)("thead",{children:Object(c.jsx)(j,{onClickPrev:function(){return r(-10,"year")},onClickSwitch:function(){return s("years",o)},onClickNext:function(){return r(10,"year")},switchContent:"".concat(O,"-").concat(O+9)})})}),Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:w.map((function(e,t){return Object(c.jsx)("tr",{children:e},t)}))})})]})},T={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}};function M(e,t){for(var n={hours:1,minutes:2,seconds:2,milliseconds:3},a=t.toString();a.length<n[e];)a="0"+a;return a}var E=function(e){var t=e.viewDate,n=e.showView,i=e.timeFormat,o=e.dateFormat,r=e.selectedDate,s=e.setTime,d=e.timeConstraints,h=Object(u.useState)(T),p=Object(a.a)(h,2),m=p[0],j=p[1],f=Object(u.useState)({}),v=Object(a.a)(f,2),g=v[0],O=v[1],x=Object(u.useRef)();Object(u.useEffect)((function(){var e={};Object.keys(T).forEach((function(t){e[t]=Object(b.a)(Object(b.a)({},T[t]),d[t]||{})})),j(e)}),[d]),Object(u.useEffect)((function(){if(!x.current||!(null===r||void 0===r?void 0:r.isSame(x.current))){var e=r||t;O({hours:M("hours",e.hour()),minutes:M("minutes",e.minute()),seconds:M("seconds",e.second()),milliseconds:M("milliseconds",e.millisecond()),ampm:e.hour()<12?"AM":"PM"}),x.current=r}}),[null===r||void 0===r?void 0:r.toISOString(),null===t||void 0===t?void 0:t.toISOString()]);var y=[],k=!0===i?"hh:mm A":i;/h/i.test(k)&&(y.push("hours"),/m/.test(k)&&(y.push("minutes"),/s/.test(k)&&(y.push("seconds"),/S/.test(k)&&y.push("milliseconds"))),/a/i.test(k)&&y.push("ampm"));function w(e){O((function(t){var n=m[e],a=parseInt(t[e],10)+n.step;return a>n.max&&(a=n.min+(a-(n.max+1))),Object(b.a)(Object(b.a)({},t),{},Object(D.a)({},e,M(e,a)))}))}function S(e){O((function(t){var n=m[e],a=parseInt(g[e],10)-n.step;return a<n.min&&(a=n.max+1-(n.min-a)),Object(b.a)(Object(b.a)({},t),{},Object(D.a)({},e,M(e,a)))}))}function E(e,t,n){if(!e||!e.button||0===e.button){if("ampm"===n){var a=+g.hours;return a>=12?a-=12:a+=12,void s("hours",a)}var i;t(n);var o=setTimeout((function(){i=setInterval((function(){t(n)}),70)}),500),r=function e(){clearTimeout(o),clearInterval(i),function(e){O((function(t){return s(e,+t[e]),t}))}(n),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)};document.addEventListener("mouseup",r),document.addEventListener("touchend",r)}}return Object(c.jsx)("div",{className:"rdtTime",children:Object(c.jsxs)("table",{children:[o&&Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:Object(c.jsx)("td",{className:"rdtSwitch",colSpan:4,onClick:function(){return n("days",t)},children:(r||t).format(o)})})}),Object(c.jsx)("tbody",{children:Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:Object(c.jsx)("div",{className:"rdtCounters",children:y.map((function(e,t){return Object(c.jsxs)(c.Fragment,{children:[!!t&&"ampm"!==e&&Object(c.jsx)("div",{className:"rdtCounterSeparator",children:":"},"sep".concat(t)),Object(c.jsxs)("div",{className:"rdtCounter",children:[Object(c.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return E(t,w,e)},children:"\u25b2"}),Object(c.jsx)("div",{className:"rdtCount",children:"hours"===e&&/a/i.test(k)?(+g[e]-1)%12+1||12:"ampm"===e?l()().hour(+g.hours).format(/A/.test(k)?" A":" a"):g[e]}),Object(c.jsx)("span",{className:"rdtBtn",onMouseDown:function(t){return E(t,S,e)},children:"\u25bc"})]},e)]})}))})})})})]})})},N=n(891),C=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).container=h.a.createRef(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:this.props.className,ref:this.container,children:this.props.children})}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(h.a.Component),L=Object(N.a)(C),I={YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"},P=function(){};t.a=function(e){var t=e.id,n=e.value,i=e.initialValue,o=e.initialViewMode,r=e.onClose,s=void 0===r?P:r,d=e.onChange,h=void 0===d?P:d,b=e.onNavigate,p=void 0===b?P:b,j=e.onBeforeNavigate,f=void 0===j?function(e){return e}:j,v=e.onNavigateBack,g=void 0===v?P:v,O=e.onNavigateForward,x=void 0===O?P:O,y=e.updateOnView,D=(e.locale,e.iso),T=e.dateFormat,M=e.timeFormat,N=e.timeConstraints,C=void 0===N?{}:N,_=e.isValidDate,R=void 0===_?function(){return!0}:_,A=e.open,Y=e.setOpen,z=e.closeOnSelect,W=e.closeOnClickOutside,V=void 0===W||W,H=e.renderDay,F=e.renderMonth,U=e.renderYear,B=e.className,K=void 0===B?"":B,X=e.staticDisplay,G=e.dropLeft,Z=Object(u.useState)(o||(T?"days":M?"time":"years")),q=Object(a.a)(Z,2),$=q[0],J=q[1],Q=Object(u.useState)(l()(n||i)),ee=Object(a.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(u.useState)("time"),ie=Object(a.a)(ae,2),oe=ie[0],re=ie[1],se=Object(u.useState)(l()(n||i)),ce=Object(a.a)(se,2),de=ce[0],le=ce[1],ue=Object(u.useState)(""),he=Object(a.a)(ue,2),be=he[0],pe=he[1];Object(u.useEffect)((function(){if(n){var e=l()(n);e.isValid()&&ne(e)}}),[n]),Object(u.useEffect)((function(){var e=!0===T?"L":T,t=!0===M?"LT":M;pe(e?t?e+" "+t:e:t||"")}),[M,T]),Object(u.useEffect)((function(){var e=T?!0===T?"L":T:"";y?re(y):e.match(/[lLD]/)?re(I.DAYS):-1!==e.indexOf("M")?re(I.MONTHS):-1!==e.indexOf("Y")?re(I.YEARS):re(I.TIME)}),[T]),Object(u.useEffect)((function(){var e=l()(n);e.isValid()?le(e):le(l()())}),[n]);var me=function(e,t){var n=f(e,$,t||te);n&&$!==n&&(p(n),J(n))};function je(e){z&&ve(),h(D?null===e||void 0===e?void 0:e.toISOString():null===e||void 0===e?void 0:e.format(be))}var fe=function(e,t){ne((function(n){return n.add(e,t)})),e>0?x(e,t):g(-e,t)},ve=function(){Y&&Y(!1),s(de)};return Object(c.jsx)(L,{className:m()("rdt",K,{rdtStatic:!!X,rdtOpen:!!A}),onClickOut:function(){A&&V&&ve()},children:Object(c.jsxs)("div",{id:t,className:"rdtPicker rounded bg-light",style:G?{right:0}:void 0,children:["years"===$&&Object(c.jsx)(S,{viewDate:te,renderYear:U,isValidDate:R,navigate:fe,showView:me,selectedDate:de,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.YEARS?(le(t),je(t)):me(I.MONTHS,te)}}),"months"===$&&Object(c.jsx)(w,{viewDate:te,renderMonth:F,isValidDate:R,navigate:fe,showView:me,selectedDate:de,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.MONTHS?(le(t),je(t)):me(I.DAYS,te)}}),"days"===$&&Object(c.jsx)(k,{renderDay:H,isValidDate:R,navigate:fe,showView:me,timeFormat:M,viewDate:te,selectedDate:de,updateDate:function(e){var t=l()(te).year(+e.currentTarget.getAttribute("data-year")).month(+e.currentTarget.getAttribute("data-month")).date(+e.currentTarget.getAttribute("data-value"));ne(t),oe===I.DAYS?(le(t),je(t)):M&&me(I.HOURS,te)}}),"time"===$&&M&&Object(c.jsx)(E,{viewDate:te,showView:me,timeFormat:M,dateFormat:!0===T?"L":T,selectedDate:de,setTime:function(e,t){var n,a=de||te;switch(e){case"hours":n=a.hour(t);break;case"minutes":n=a.minute(t);break;case"seconds":n=a.second(t);break;case"milliseconds":n=a.millisecond(t)}le(n),ne(n),je(n)},timeConstraints:C})]})})}},840:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var a=function(){return{actions:[{name:"getStageTypes",data:{}}]}},i=function(){return{actions:[{name:"getStageTagOptions",data:{}}]}},o=function(){return{actions:[{name:"getStageMemberRoleOptions",data:{}}]}},r=function(e){return{actions:[{name:"createStageMemberRole",data:{role:e}}]}},s=function(){return{actions:[{name:"getKanbanCategories",data:{}}]}},c=function(e){return{actions:[{name:"setKanbanCategories",data:{categories:e}}]}}},846:function(e,t,n){"use strict";var a=n(2),i=(n(1),n(45)),o=n(30),r=n(797),s=n(798);t.a=function(){return Object(a.jsx)(r.a,{className:"text-center",children:Object(a.jsxs)(s.a,{className:"p-5",children:[Object(a.jsx)("div",{className:"display-1 text-200 fs-error",children:"Working On It"}),Object(a.jsx)("p",{className:"lead mt-4 text-800 text-sans-serif font-weight-semi-bold",children:"The page you're looking for is under construction."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{children:["We are hard at work building the most intuitive business management app on the web",Object(a.jsx)("a",{href:"mailto:info@happin.design",className:"ml-1",children:"We would love to hear from you. Contact Us"}),"."]}),Object(a.jsxs)(o.b,{className:"btn btn-primary btn-sm mt-3",to:"/",children:[Object(a.jsx)(i.a,{icon:"home",className:"mr-2"}),"Take me home"]})]})})}},853:function(e,t,n){"use strict";var a=n(3),i=n(40),o=n(2),r=(n(1),n(7)),s=n.n(r);t.a=function(e){var t=e.size,n=e.color,r=e.spinnerStyle,c=Object(i.a)(e,["size","color","spinnerStyle"]),d=c.className,l=Object(i.a)(c,["className"]);return Object(o.jsxs)("div",Object(a.a)(Object(a.a)({className:s()("bounce-spinner",{"bounce-spinner-sm":"sm"===t,"bounce-spinner-md":"md"===t,"bounce-spinner-lg":"lg"===t},d)},l),{},{children:[Object(o.jsx)("div",{style:r,className:s()("bounce1","bg-"+n)}),Object(o.jsx)("div",{style:r,className:s()("bounce2","bg-"+n)}),Object(o.jsx)("div",{style:r,className:s()("bounce3","bg-"+n)})]}))}},867:function(e,t,n){"use strict";var a=n(12);t.a=function(e){return Object(a.f)((function(t){return t.app.settings[e]}))}},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={"Not Started":"secondary","In Progress":"primary",Complete:"success","Running Late":"warning","Having Trouble":"warning",Waiting:"info","Past Due":"danger"}},910:function(e,t,n){"use strict";var a=n(2),i=(n(1),n(802)),o=n(1e3),r=n(811),s=n(803),c=n(882),d=n(804),l=n(805),u=n(408),h=n(30),b=n(95),p=n(145),m=n(190);t.a=function(e){var t=e.avatarSize,n=e.showMembers,j=e.people,f=e.isShowMemberFixed,v=void 0!==f&&f,g=e.addMember,O=void 0!==g&&g,x=e.className;return Object(a.jsxs)(i.a,{className:"avatar-group mb-0 align-items-center ".concat(x),children:[null===j||void 0===j?void 0:j.slice(0,n).map((function(e,n){var i,d;return Object(a.jsxs)(o.a,{direction:"right",nav:!0,children:[Object(a.jsx)(r.a,{nav:!0,caret:!1,className:n>0?"ml-n1 p-0":"p-0",id:"person-".concat(null===e||void 0===e?void 0:e._id),children:Object(a.jsx)(p.a,{src:null===e||void 0===e||null===(i=e.avatar)||void 0===i?void 0:i.location,name:Object(m.a)(null===e||void 0===e?void 0:e.name),size:t})}),Object(a.jsx)(s.a,{className:"dropdown-md px-0 py-3",children:Object(a.jsxs)(c.a,{className:"align-items-center px-3",children:[Object(a.jsx)("div",{className:"mr-2",children:Object(a.jsx)(p.a,{src:null===e||void 0===e||null===(d=e.avatar)||void 0===d?void 0:d.location,name:Object(m.a)(null===e||void 0===e?void 0:e.name),size:t})}),Object(a.jsxs)(c.a,{body:!0,children:[Object(a.jsx)("h6",{className:"mb-0",children:Object(a.jsx)(h.b,{className:"text-900 stretched-link",to:"/social/profile/".concat(e._id),children:Object(m.a)(null===e||void 0===e?void 0:e.name)})}),Object(a.jsx)("p",{className:"fs--2 mb-0",children:null===e||void 0===e?void 0:e.position})]})]})})]},n)})),!v&&Object(a.jsxs)(o.a,{nav:!0,children:[Object(a.jsxs)(r.a,{nav:!0,caret:!1,className:"ml-n1 p-0",children:[j&&(null===j||void 0===j?void 0:j.length)>n&&Object(a.jsx)(p.a,{name:"+".concat((null===j||void 0===j?void 0:j.length)-n),size:t,isExact:!0,mediaClass:"avatar-button",className:"mr-n1"}),O&&Object(a.jsx)(p.a,{icon:"plus",size:t,mediaClass:"avatar-button"})]}),Object(a.jsxs)(s.a,{className:"dropdown-md",children:[Object(a.jsx)("h6",{className:"dropdown-header py-0 px-3 mb-0",children:O?"Select Member":"Board Members"}),Object(a.jsx)(d.a,{divider:!0}),O?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("form",{className:"px-3 mb-2",children:Object(a.jsx)(u.a,{placeholder:"Search team member",bsSize:"sm"})}),Object(a.jsx)("ul",{className:"list-unstyled",children:null===j||void 0===j?void 0:j.map((function(e){var n;return Object(a.jsx)("li",{children:Object(a.jsxs)(c.a,{tag:"a",className:"align-items-center px-3 py-1 text-decoration-none",href:"pages/profile",children:[Object(a.jsx)(p.a,{src:null===e||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.location,name:Object(m.a)(null===e||void 0===e?void 0:e.name),className:"mr-2",size:t}),Object(a.jsx)(c.a,{body:!0,children:Object(a.jsx)("h6",{className:"mb-0",children:Object(m.a)(null===e||void 0===e?void 0:e.name)})})]})},null===e||void 0===e?void 0:e._id)}))})]}):Object(a.jsx)(b.a,{className:"px-3",children:null===j||void 0===j?void 0:j.map((function(e){var t;return Object(a.jsxs)(h.b,{className:"text-900 ",to:"/pages/profile",id:"Tooltip-".concat(null===e||void 0===e?void 0:e._id),children:[Object(a.jsx)(p.a,{src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.location,className:"mr-2",size:"xl"}),Object(a.jsx)(l.a,{placement:"top",target:"Tooltip-".concat(null===e||void 0===e?void 0:e._id),children:Object(m.a)(null===e||void 0===e?void 0:e.name)})]},null===e||void 0===e?void 0:e._id)}))})]})]})]})}},964:function(e,t,n){"use strict";var a=n(12),i=n(3),o=n(105),r=n(834),s=n(144);var c=function(e){return Object(s.a)({actionCreator:r.c,selector:function(t){return Object.values(t.workflow.tasks).filter((function(e){return e.isMyAssignment})).reduce((function(t,n){return[].concat(Object(o.a)(t),Object(o.a)(n.assignments.filter((function(t){return t.assignees.find((function(t){return t.personId===e}))})).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{task:{_id:n._id,title:n.title},stage:n.stage})}))))}),[])},equality:a.d,postParams:e,deduplicate:["assignments",e]})};t.a=function(){var e=Object(a.f)((function(e){return e.app.login.personId}));return c(e||"")}}}]);
//# sourceMappingURL=13.419a5753.chunk.js.map